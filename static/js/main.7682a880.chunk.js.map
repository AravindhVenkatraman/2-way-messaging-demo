{"version":3,"sources":["components/Login.js","components/ChatEngine.js","components/StreamChatApp.js","lib/CometChat/util/enums.js","lib/CometChat/components/Calls/CometChatIncomingCall/controller.js","lib/CometChat/resources/theme.js","lib/CometChat/components/Shared/CometChatAvatar/index.js","lib/CometChat/components/Shared/CometChatAvatar/resources/1px.png","lib/CometChat/components/Shared/CometChatAvatar/style.js","lib/CometChat/components/Shared/CometChatBackdrop/style.js","lib/CometChat/components/Shared/CometChatBackdrop/index.js","lib/CometChat/components/Shared/CometChatBadgeCount/style.js","lib/CometChat/components/Shared/CometChatBadgeCount/index.js","lib/CometChat/components/Shared/CometChatUserPresence/style.js","lib/CometChat/components/Shared/CometChatUserPresence/index.js","lib/CometChat/resources/localization/translator.js","lib/CometChat/components/Shared/CometChatToastNotification/style.js","lib/CometChat/components/Shared/CometChatToastNotification/resources/close-circle-filled.svg","lib/CometChat/components/Shared/CometChatToastNotification/resources/checkmark-filled.svg","lib/CometChat/components/Shared/CometChatToastNotification/resources/warning-filled.svg","lib/CometChat/components/Shared/CometChatToastNotification/resources/info-filled.svg","lib/CometChat/components/Shared/CometChatToastNotification/index.js","lib/CometChat/components/Shared/CometChatConfirmDialog/style.js","lib/CometChat/components/Shared/CometChatConfirmDialog/index.js","lib/CometChat/util/UIKitSettings.js","lib/CometChat/util/FeatureRestriction/index.js","lib/CometChat/util/CometChatContext.js","lib/CometChat/util/Storage.js","lib/CometChat/components/Calls/CometChatCallScreen/strings.js","lib/CometChat/components/Calls/CometChatCallScreen/style.js","lib/CometChat/components/Calls/CometChatCallScreen/resources/reduce-size.svg","lib/CometChat/components/Calls/CometChatCallScreen/resources/increase-size.svg","lib/CometChat/components/Calls/CometChatCallScreen/index.js","lib/CometChat/util/SoundManager.js","lib/CometChat/components/Calls/CometChatIncomingCall/style.js","lib/CometChat/components/Calls/CometChatIncomingCall/resources/incoming-call.svg","lib/CometChat/components/Calls/CometChatIncomingCall/resources/incoming-video-call.svg","lib/CometChat/components/Calls/CometChatIncomingCall/index.js","lib/CometChat/components/Calls/CometChatOutgoingCall/controller.js","lib/CometChat/components/Calls/CometChatOutgoingCall/style.js","lib/CometChat/components/Calls/CometChatOutgoingCall/resources/end-call.svg","lib/CometChat/components/Calls/CometChatOutgoingCall/index.js","lib/CometChat/components/Calls/CometChatIncomingDirectCall/controller.js","lib/CometChat/components/Calls/CometChatIncomingDirectCall/style.js","lib/CometChat/components/Calls/CometChatIncomingDirectCall/resources/incoming-video-call.svg","lib/CometChat/components/Calls/CometChatIncomingDirectCall/index.js","lib/CometChat/util/common.js","lib/CometChat/components/Calls/CometChatOutgoingDirectCall/index.js","lib/CometChat/components/Chats/CometChatConversationList/controller.js","lib/CometChat/util/CometChatEvent.js","lib/CometChat/components/Chats/CometChatConversationList/style.js","lib/CometChat/components/Chats/CometChatConversationList/resources/back.svg","lib/CometChat/components/Chats/CometChatConversationList/index.js","lib/CometChat/components/Chats/CometChatConversationListActions/style.js","lib/CometChat/components/Chats/CometChatConversationListActions/resources/progress.svg","lib/CometChat/components/Chats/CometChatConversationListActions/resources/delete.svg","lib/CometChat/components/Chats/CometChatConversationListActions/index.js","lib/CometChat/components/Chats/CometChatConversationListItem/style.js","lib/CometChat/components/Chats/CometChatConversationListItem/index.js","lib/CometChat/components/Messages/Extensions/CometChatSmartReplyPreview/style.js","lib/CometChat/components/Messages/Extensions/CometChatSmartReplyPreview/resources/close.svg","lib/CometChat/components/Messages/Extensions/CometChatSmartReplyPreview/index.js","lib/CometChat/components/Messages/Extensions/CometChatStickerKeyboard/style.js","lib/CometChat/components/Messages/Extensions/CometChatStickerKeyboard/resources/close.svg","lib/CometChat/components/Messages/Extensions/CometChatStickerKeyboard/index.js","lib/CometChat/components/Messages/Extensions/CometChatMessageReactions/style.js","lib/CometChat/components/Messages/Extensions/CometChatMessageReactions/resources/reactions.svg","lib/CometChat/components/Messages/Extensions/CometChatMessageReactions/index.js","lib/CometChat/components/Messages/Extensions/CometChatCreatePoll/style.js","lib/CometChat/components/Messages/Extensions/CometChatCreatePoll/resources/creating.svg","lib/CometChat/components/Messages/Extensions/CometChatCreatePoll/resources/add-circle-filled.svg","lib/CometChat/components/Messages/Extensions/CometChatCreatePoll/resources/close.svg","lib/CometChat/components/Messages/Extensions/CometChatCreatePoll/index.js","lib/CometChat/components/Messages/Extensions/CometChatCreatePollOptions/style.js","lib/CometChat/components/Messages/Extensions/CometChatCreatePollOptions/resources/remove.svg","lib/CometChat/components/Messages/Extensions/CometChatCreatePollOptions/index.js","lib/CometChat/components/Messages/Extensions/CometChatReceiverDocumentBubble/style.js","lib/CometChat/components/Messages/Extensions/CometChatReceiverDocumentBubble/resources/collaborative-document.svg","lib/CometChat/components/Messages/Extensions/CometChatReceiverDocumentBubble/index.js","lib/CometChat/components/Messages/Extensions/CometChatReceiverPollMessageBubble/style.js","lib/CometChat/components/Messages/Extensions/CometChatReceiverPollMessageBubble/resources/checkmark.svg","lib/CometChat/components/Messages/Extensions/CometChatReceiverPollMessageBubble/index.js","lib/CometChat/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/style.js","lib/CometChat/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/index.js","lib/CometChat/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/style.js","lib/CometChat/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/resources/collaborative-whiteboard.svg","lib/CometChat/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/index.js","lib/CometChat/components/Messages/Extensions/CometChatSenderDocumentBubble/style.js","lib/CometChat/components/Messages/Extensions/CometChatSenderDocumentBubble/resources/collaborative-document.svg","lib/CometChat/components/Messages/Extensions/CometChatSenderDocumentBubble/index.js","lib/CometChat/components/Messages/Extensions/CometChatSenderPollMessageBubble/style.js","lib/CometChat/components/Messages/Extensions/CometChatSenderPollMessageBubble/index.js","lib/CometChat/components/Messages/Extensions/CometChatSenderStickerBubble/style.js","lib/CometChat/components/Messages/Extensions/CometChatSenderStickerBubble/index.js","lib/CometChat/components/Messages/Extensions/CometChatSenderWhiteboardBubble/style.js","lib/CometChat/components/Messages/Extensions/CometChatSenderWhiteboardBubble/resources/collaborative-whiteboard.svg","lib/CometChat/components/Messages/Extensions/CometChatSenderWhiteboardBubble/index.js","lib/CometChat/components/Messages/CometChatActionMessageBubble/style.js","lib/CometChat/components/Messages/CometChatActionMessageBubble/index.js","lib/CometChat/components/Messages/CometChatDeleteMessageBubble/style.js","lib/CometChat/components/Messages/CometChatDeleteMessageBubble/index.js","lib/CometChat/components/Messages/CometChatEmojiKeyboard/style.js","lib/CometChat/components/Messages/CometChatEmojiKeyboard/index.js","lib/CometChat/components/Messages/CometChatImageViewer/style.js","lib/CometChat/components/Messages/CometChatImageViewer/resources/ring.svg","lib/CometChat/components/Messages/CometChatImageViewer/resources/close.svg","lib/CometChat/components/Messages/CometChatImageViewer/index.js","lib/CometChat/components/Messages/CometChatLinkPreview/style.js","lib/CometChat/components/Messages/CometChatLinkPreview/index.js","lib/CometChat/components/Messages/CometChatLiveReactions/index.js","lib/CometChat/components/Messages/CometChatLiveReactions/resources/heart.png","lib/CometChat/components/Messages/CometChatLiveReactions/style.js","lib/CometChat/components/Messages/CometChatMessageActions/style.js","lib/CometChat/components/Messages/CometChatMessageActions/resources/threaded-message.svg","lib/CometChat/components/Messages/CometChatMessageActions/resources/delete.svg","lib/CometChat/components/Messages/CometChatMessageActions/resources/edit.svg","lib/CometChat/components/Messages/CometChatMessageActions/resources/reactions.svg","lib/CometChat/components/Messages/CometChatMessageActions/resources/message-translate.svg","lib/CometChat/components/Messages/CometChatMessageActions/resources/send-message-in-private.svg","lib/CometChat/components/Messages/CometChatMessageActions/index.js","lib/CometChat/components/Messages/CometChatMessageComposer/style.js","lib/CometChat/components/Messages/CometChatMessageComposer/resources/add-circle-filled.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/video.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/audio-file.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/file-upload.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/image.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/emoji.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/send-message.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/polls.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/stickers.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/close.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/collaborative-document.svg","lib/CometChat/components/Messages/CometChatMessageComposer/resources/collaborative-whiteboard.svg","lib/CometChat/components/Messages/CometChatMessageComposer/index.js","lib/CometChat/components/Messages/CometChatMessageComposer/resources/heart.png","lib/CometChat/components/Messages/CometChatMessageHeader/controller.js","lib/CometChat/components/Messages/CometChatMessageHeader/style.js","lib/CometChat/components/Messages/CometChatMessageHeader/resources/menu.svg","lib/CometChat/components/Messages/CometChatMessageHeader/resources/audio-call.svg","lib/CometChat/components/Messages/CometChatMessageHeader/resources/video-call.svg","lib/CometChat/components/Messages/CometChatMessageHeader/resources/info.svg","lib/CometChat/components/Messages/CometChatMessageHeader/index.js","lib/CometChat/components/Messages/CometChatMessageList/MessageFilter.js","lib/CometChat/components/Messages/CometChatMessageList/controller.js","lib/CometChat/components/Messages/CometChatMessageList/style.js","lib/CometChat/components/Messages/CometChatMessageList/index.js","lib/CometChat/components/Shared/CometChatSharedMediaView/controller.js","lib/CometChat/components/Shared/CometChatSharedMediaView/style.js","lib/CometChat/components/Shared/CometChatSharedMediaView/resources/file-upload.svg","lib/CometChat/components/Shared/CometChatSharedMediaView/index.js","lib/CometChat/components/Users/CometChatUserDetails/controller.js","lib/CometChat/components/Users/CometChatUserDetails/style.js","lib/CometChat/components/Users/CometChatUserDetails/resources/back.svg","lib/CometChat/components/Users/CometChatUserDetails/index.js","lib/CometChat/components/Users/CometChatUserList/controller.js","lib/CometChat/components/Users/CometChatUserList/style.js","lib/CometChat/components/Users/CometChatUserList/resources/search.svg","lib/CometChat/components/Users/CometChatUserList/resources/back.svg","lib/CometChat/components/Users/CometChatUserList/index.js","lib/CometChat/components/Users/CometChatUserListItem/style.js","lib/CometChat/components/Users/CometChatUserListItem/index.js","lib/CometChat/components/Users/CometChatUserListWithMessages/style.js","lib/CometChat/components/Users/CometChatUserListWithMessages/index.js","lib/CometChat/components/Groups/CometChatCreateGroup/style.js","lib/CometChat/components/Groups/CometChatCreateGroup/resources/creating.svg","lib/CometChat/components/Groups/CometChatCreateGroup/resources/close.svg","lib/CometChat/components/Groups/CometChatCreateGroup/index.js","lib/CometChat/components/Groups/CometChatGroupDetails/controller.js","lib/CometChat/components/Groups/CometChatGroupDetails/style.js","lib/CometChat/components/Groups/CometChatGroupDetails/resources/back.svg","lib/CometChat/components/Groups/CometChatGroupDetails/index.js","lib/CometChat/components/Groups/CometChatGroupList/controller.js","lib/CometChat/components/Groups/CometChatGroupList/style.js","lib/CometChat/components/Groups/CometChatGroupList/resources/search.svg","lib/CometChat/components/Groups/CometChatGroupList/resources/back.svg","lib/CometChat/components/Groups/CometChatGroupList/resources/create.svg","lib/CometChat/components/Groups/CometChatGroupList/index.js","lib/CometChat/components/Groups/CometChatGroupListItem/style.js","lib/CometChat/components/Groups/CometChatGroupListItem/resources/password-protected-group.svg","lib/CometChat/components/Groups/CometChatGroupListItem/resources/private-group.svg","lib/CometChat/components/Groups/CometChatGroupListItem/index.js","lib/CometChat/components/Groups/CometChatViewGroupMemberList/style.js","lib/CometChat/components/Groups/CometChatViewGroupMemberList/resources/close.svg","lib/CometChat/components/Groups/CometChatViewGroupMemberList/index.js","lib/CometChat/components/Groups/CometChatViewGroupMemberListItem/style.js","lib/CometChat/components/Groups/CometChatViewGroupMemberListItem/resources/edit.svg","lib/CometChat/components/Groups/CometChatViewGroupMemberListItem/resources/done.svg","lib/CometChat/components/Groups/CometChatViewGroupMemberListItem/resources/close.svg","lib/CometChat/components/Groups/CometChatViewGroupMemberListItem/resources/ban-member.svg","lib/CometChat/components/Groups/CometChatViewGroupMemberListItem/resources/delete.svg","lib/CometChat/components/Groups/CometChatViewGroupMemberListItem/index.js","lib/CometChat/components/Groups/CometChatAddGroupMemberList/controller.js","lib/CometChat/components/Groups/CometChatAddGroupMemberList/style.js","lib/CometChat/components/Groups/CometChatAddGroupMemberList/resources/adding.svg","lib/CometChat/components/Groups/CometChatAddGroupMemberList/resources/search.svg","lib/CometChat/components/Groups/CometChatAddGroupMemberList/resources/close.svg","lib/CometChat/components/Groups/CometChatAddGroupMemberList/index.js","lib/CometChat/components/Groups/CometChatAddGroupMemberListItem/style.js","lib/CometChat/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-unselect.svg","lib/CometChat/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-select.svg","lib/CometChat/components/Groups/CometChatAddGroupMemberListItem/index.js","lib/CometChat/components/Groups/CometChatBanGroupMemberList/style.js","lib/CometChat/components/Groups/CometChatBanGroupMemberList/resources/close.svg","lib/CometChat/components/Groups/CometChatBanGroupMemberList/index.js","lib/CometChat/components/Groups/CometChatBanGroupMemberListItem/style.js","lib/CometChat/components/Groups/CometChatBanGroupMemberListItem/resources/ban-member.svg","lib/CometChat/components/Groups/CometChatBanGroupMemberListItem/index.js","lib/CometChat/components/Groups/CometChatGroupListWithMessages/style.js","lib/CometChat/components/Groups/CometChatGroupListWithMessages/index.js","lib/CometChat/components/Groups/CometChatTransferOwnershipMemberList/style.js","lib/CometChat/components/Groups/CometChatTransferOwnershipMemberList/resources/close.svg","lib/CometChat/components/Groups/CometChatTransferOwnershipMemberList/resources/transferring.svg","lib/CometChat/components/Groups/CometChatTransferOwnershipMemberList/index.js","lib/CometChat/components/Groups/CometChatTransferOwnershipMemberListItem/style.js","lib/CometChat/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-unselect.svg","lib/CometChat/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-select.svg","lib/CometChat/components/Groups/CometChatTransferOwnershipMemberListItem/index.js","lib/CometChat/components/Messages/CometChatMessages/style.js","lib/CometChat/components/Messages/CometChatMessages/index.js","lib/CometChat/components/Messages/CometChatMessageThread/style.js","lib/CometChat/components/Messages/CometChatMessageThread/resources/close.svg","lib/CometChat/components/Messages/CometChatMessageThread/index.js","lib/CometChat/components/Messages/CometChatReadReceipt/style.js","lib/CometChat/components/Messages/CometChatReadReceipt/resources/message-read.svg","lib/CometChat/components/Messages/CometChatReadReceipt/resources/message-delivered.svg","lib/CometChat/components/Messages/CometChatReadReceipt/resources/message-sent.svg","lib/CometChat/components/Messages/CometChatReadReceipt/resources/wait.svg","lib/CometChat/components/Messages/CometChatReadReceipt/resources/warning-small.svg","lib/CometChat/components/Messages/CometChatReadReceipt/index.js","lib/CometChat/components/Messages/CometChatReceiverAudioMessageBubble/style.js","lib/CometChat/components/Messages/CometChatReceiverAudioMessageBubble/index.js","lib/CometChat/components/Messages/CometChatReceiverDirectCallBubble/style.js","lib/CometChat/components/Messages/CometChatReceiverDirectCallBubble/resources/video-call.svg","lib/CometChat/components/Messages/CometChatReceiverDirectCallBubble/index.js","lib/CometChat/components/Messages/CometChatReceiverFileMessageBubble/style.js","lib/CometChat/components/Messages/CometChatReceiverFileMessageBubble/resources/file-upload.svg","lib/CometChat/components/Messages/CometChatReceiverFileMessageBubble/index.js","lib/CometChat/components/Messages/CometChatReceiverImageMessageBubble/style.js","lib/CometChat/components/Messages/CometChatReceiverImageMessageBubble/index.js","lib/CometChat/components/Messages/CometChatReceiverImageMessageBubble/resources/1px.png","lib/CometChat/components/Messages/CometChatReceiverTextMessageBubble/style.js","lib/CometChat/components/Messages/CometChatReceiverTextMessageBubble/index.js","lib/CometChat/components/Messages/CometChatReceiverVideoMessageBubble/style.js","lib/CometChat/components/Messages/CometChatReceiverVideoMessageBubble/index.js","lib/CometChat/components/Messages/CometChatSenderAudioMessageBubble/style.js","lib/CometChat/components/Messages/CometChatSenderAudioMessageBubble/index.js","lib/CometChat/components/Messages/CometChatSenderDirectCallBubble/style.js","lib/CometChat/components/Messages/CometChatSenderDirectCallBubble/resources/video-call.svg","lib/CometChat/components/Messages/CometChatSenderDirectCallBubble/index.js","lib/CometChat/components/Messages/CometChatSenderFileMessageBubble/style.js","lib/CometChat/components/Messages/CometChatSenderFileMessageBubble/resources/file-upload.svg","lib/CometChat/components/Messages/CometChatSenderFileMessageBubble/index.js","lib/CometChat/components/Messages/CometChatSenderImageMessageBubble/style.js","lib/CometChat/components/Messages/CometChatSenderImageMessageBubble/index.js","lib/CometChat/components/Messages/CometChatSenderImageMessageBubble/resources/1px.png","lib/CometChat/components/Messages/CometChatSenderTextMessageBubble/style.js","lib/CometChat/components/Messages/CometChatSenderTextMessageBubble/index.js","lib/CometChat/components/Messages/CometChatSenderVideoMessageBubble/style.js","lib/CometChat/components/Messages/CometChatSenderVideoMessageBubble/index.js","lib/CometChat/components/Messages/CometChatThreadedMessageReplyCount/style.js","lib/CometChat/components/Messages/CometChatThreadedMessageReplyCount/index.js","lib/CometChat/components/Messages/CometChatBlockedUser/style.js","lib/CometChat/components/Messages/CometChatBlockedUser/index.js","lib/CometChat/components/Chats/CometChatConversationListWithMessages/style.js","lib/CometChat/components/Chats/CometChatConversationListWithMessages/index.js","lib/CometChat/components/UserProfile/CometChatUserProfile/style.js","lib/CometChat/components/UserProfile/CometChatUserProfile/resources/notify.svg","lib/CometChat/components/UserProfile/CometChatUserProfile/resources/privacy.svg","lib/CometChat/components/UserProfile/CometChatUserProfile/resources/chats.svg","lib/CometChat/components/UserProfile/CometChatUserProfile/resources/help.svg","lib/CometChat/components/UserProfile/CometChatUserProfile/resources/warning.svg","lib/CometChat/components/UserProfile/CometChatUserProfile/index.js","lib/CometChat/components/CometChatUI/CometChatNavBar/style.js","lib/CometChat/components/CometChatUI/CometChatNavBar/resources/chats.svg","lib/CometChat/components/CometChatUI/CometChatNavBar/resources/users.svg","lib/CometChat/components/CometChatUI/CometChatNavBar/resources/groups.svg","lib/CometChat/components/CometChatUI/CometChatNavBar/resources/more.svg","lib/CometChat/components/CometChatUI/CometChatNavBar/index.js","lib/CometChat/components/CometChatUI/style.js","lib/CometChat/components/CometChatUI/index.js","components/App.js","index.js"],"names":["Login","useState","username","setUsername","password","setPassword","chatComponent","setChatComponent","error","setError","e","a","preventDefault","chatEngineAuthObj","cometChatAuthKey","axios","get","headers","localStorage","setItem","window","location","reload","console","log","CometChat","getLoggedinUser","then","user","name","login","message","removeItem","useEffect","className","type","style","backgroundColor","onClick","disabled","onSubmit","placeholder","value","onChange","target","ChatEngineIO","height","projectID","userName","getItem","userSecret","chatClient","StreamChat","getInstance","id","image","connectUser","devToken","channel","members","StreamChatApp","Chat","client","theme","Channel","Window","ChannelHeader","MessageList","MessageInput","Thread","TEXT_MESSAGE_RECEIVED","MEDIA_MESSAGE_RECEIVED","CUSTOM_MESSAGE_RECEIVED","MESSAGE_DELIVERED","MESSAGE_READ","MESSAGE_DELETED","MESSAGE_EDITED","TRANSIENT_MESSAGE_RECEIVED","INCOMING_CALL_RECEIVED","OUTGOING_CALL_ACCEPTED","OUTGOING_CALL_REJECTED","INCOMING_CALL_CANCELLED","GROUP_MEMBER_SCOPE_CHANGED","GROUP_MEMBER_KICKED","GROUP_MEMBER_BANNED","GROUP_MEMBER_UNBANNED","GROUP_MEMBER_ADDED","GROUP_MEMBER_LEFT","GROUP_MEMBER_JOINED","USER_ONLINE","USER_OFFLINE","TYPING_STARTED","TYPING_ENDED","CUSTOM_TYPE_POLL","CUSTOM_TYPE_STICKER","CUSTOM_TYPE_DOCUMENT","CUSTOM_TYPE_WHITEBOARD","CUSTOM_TYPE_MEETING","CONSTANTS","LOCALE","ACTIVECALL","MAX_MESSAGE_COUNT","METADATA_TYPE_LIVEREACTION","LIVE_REACTIONS","heart","thumbsup","clap","wink","MESSAGES_COMPONENT","EMBEDDED_COMPONENT","OUTGOING_DEFAULT_CALLING","INCOMING_DEFAULT_CALLING","INCOMING_DIRECT_CALLING","OUTGOING_DIRECT_CALLING","AUDIO","INCOMING_MESSAGE","INCOMING_OTHER_MESSAGE","OUTGOING_MESSAGE","INCOMING_CALL","OUTGOING_CALL","ERROR_CODES","ERR_CHAT_API_FAILURE","CALLS","ONGOING_CALL","ONGOING_CALL_SAME_GROUP","ONGOING_CALL_DIFF_GROUP","GROUPS","OWNER","LIVE_REACTION_INTERVAL","FILE_METADATA","ACTIONS","MESSAGE_SENT","MESSAGE_COMPOSED","ERROR_IN_SENDING_MESSAGE","ACCEPT_DIRECT_CALL","JOIN_DIRECT_CALL","START_DIRECT_CALL","DIRECT_CALL_ENDED","POLL_CREATED","GROUP_DELETED","GROUP_LEFT","GROUP_CREATED","VIEW_DETAIL","VIEW_THREADED_MESSAGE","CLOSE_THREADED_MESSAGE","TOGGLE_SIDEBAR","ON_MESSAGE_EDITED","ON_MESSAGE_DELETED","ON_MESSAGE_READ_DELIVERED","DELETE_MESSAGE","EDIT_MESSAGE","CLOSE_GROUP_DETAIL","CLOSE_USER_DETAIL","VIEW_ORIGINAL_IMAGE","FETCH_GROUP_MEMBERS","SCOPECHANGE_GROUPMEMBER_SUCCESS","BAN_GROUP_MEMBER","KICK_GROUP_MEMBER","BAN_GROUPMEMBER_SUCCESS","KICK_GROUPMEMBER_SUCCESS","CHANGE_SCOPE_GROUP_MEMBER","UNBAN_GROUP_MEMBER","ADD_GROUP_MEMBER_SUCCESS","FETCH_BANNED_GROUP_MEMBERS","UNBAN_GROUP_MEMBER_SUCCESS","REACT_TO_MESSAGE","INITIATE_VIDEO_CALL","INITIATE_AUDIO_CALL","CHANGE_TAB","ITEM_CLICKED","THREAD_MESSAGE_COMPOSED","SEND_LIVE_REACTION","STOP_LIVE_REACTION","SHOW_LIVE_REACTION","CLEAR_EDIT_PREVIEW","MESSAGE_RECEIVED","MESSAGES_INITIAL_FETCH","MESSAGES_FETCHED","REFRESHING_MESSAGES","MESSAGES_REFRESHED","NEW_MESSAGES","CLEAR_UNREAD_MESSAGES","START_AUDIO_CALL","START_VIDEO_CALL","OUTGOING_CALL_CANCELLED","INCOMING_CALL_ACCEPTED","INCOMING_CALL_REJECTED","CALL_ENDED","USER_JOINED_CALL","USER_LEFT_CALL","DELETE_CONVERSATION","CONVERSATION_DELETED","SEND_STICKER","CLOSE_STICKER_KEYBOARD","ERROR","INFO","TRANSLATE_MESSAGE","EVENTS","KEYS","CallAlertManager","callListenerId","Date","getTime","callback","addCallListener","this","CallListener","onIncomingCallReceived","call","enums","onIncomingCallCancelled","onOutgoingCallAccepted","removeCallListener","fontFamily","fontSize","primaryColor","secondaryTextColor","color","primary","secondary","darkSecondary","search","tertiary","grey","helpText","blue","white","red","borderColor","lightGrey","darkGrey","callScreenGrey","silver","breakPoints","CometChatAvatar","props","setAvatarImage","trim","length","getImage","Object","keys","hasOwnProperty","avatarImage","avatar","uid","char","charAt","toUpperCase","generateAvatar","group","icon","guid","img","Image","src","onload","_isMounted","setState","generator","data","canvas","document","createElement","context","getContext","width","fillStyle","str","hash","i","charCodeAt","colour","toString","substr","stringToColour","fillRect","font","textAlign","textBaseline","fillText","toDataURL","imgRef","React","createRef","state","prevProps","borderWidth","borderStyle","cornerRadius","css","overflow","display","alt","borderRadius","ref","el","Component","defaultProps","backdropStyle","zIndex","opacity","position","top","left","cursor","transition","CometChatBackdrop","show","clicked","badgeStyle","fontWeight","lineHeight","marginLeft","padding","marginRight","CometChatBadgeCount","badgeCount","count","presenceStyle","presenceStatus","status","float","CometChatUserPresence","useContext","CometChatContext","presence","setPresence","FeatureRestriction","isUserPresenceEnabled","response","catch","translations","ar","de","en","es","fr","hi","ms","pt","ru","zh","sv","lt","hu","Translator","language","rtlLanguages","includes","languageDb","defaultLanguage","key","getLanguage","setLanguage","item","getBrowserLanguage","navigator","languages","userLanguage","getDefaultLanguage","savedLanguage","browserLanguageCode","toLowerCase","browserLanguage","indexOf","split","notificationStyle","backgroundColorProp","pointerEvents","marginBottom","minHeight","boxShadow","backgroundPosition","backgroundRepeat","flexDirection","justifyContent","alignItems","boxSizing","iconStyle","mask","CometChatToastNotification","componentWillUnmount","clearAutoDismiss","setInfo","infoIcon","setAutoDismiss","errorIcon","setSuccess","successIcon","setWarning","warningIcon","autoDelete","interval","setTimeout","deleteToast","dismissTime","clearTimeout","messageClassName","types","iconClassName","toastIcon","flexShrink","maxWidth","title","translate","lang","keyframes","transform","margin","border","outline","closeIcon","alertButtonStyle","CometChatConfirmDialog","confirmButtonText","cancelButtonText","Fragment","close","right","UIKitSettings","setCustomJS","customJS","setCustomCSS","customCSS","setTabs","tabList","tabs","setUserSettings","userSettings","setCalls","calls","setUsers","users","setChats","chats","setGroups","groups","setChatListMode","option","chatListFilterKey","returnMatchedKey","chatListFilterOptions","chatListMode","setUserListMode","userListFilterKey","userListFilterOptions","userListMode","setGroupListMode","setUserVideoCall","userVideoCall","setGroupVideoCall","groupVideoCall","setUserAudioCall","userAudioCall","setGroupAudioCall","groupAudioCall","setEditMessage","editMessage","setSendMessageInOneOnOne","sendMessageInOneOnOne","setSendMessageInGroup","sendMessageInGroup","setJoinOrLeaveGroup","joinOrLeaveGroup","setBlockUser","blockUser","setSendEmojis","sendEmojis","setSendEmojisInLargerSize","sendEmojisInLargerSize","setSendGifs","sendGifs","setShareCopyForwardMessage","shareCopyForwardMessage","setSendFiles","sendFiles","setSendPhotoVideos","sendPhotoVideos","setViewShareMedia","viewShareMedia","setEnableSoundForMessages","enableSoundForMessages","setEnableSoundForCalls","enableSoundForCalls","setSendStickers","sendStickers","setViewGroupMembers","viewGroupMembers","setCallNotifications","callNotifications","setAllowDeleteGroup","allowDeleteGroup","setKickMember","kickMember","setBanMember","banMember","setAllowPromoteDemoteMembers","allowPromoteDemoteMembers","setAllowAddMembers","allowAddMembers","setShareLocation","shareLocation","setJoinLeaveNotifications","joinLeaveNotifications","setSendVoiceNotes","sendVoiceNotes","setMessageTranslation","messageTranslation","setGroupCreation","groupCreation","setSendTypingIndicator","sendTypingIndicator","setShowUserPresence","showUserPresence","setDeleteMessage","deleteMessage","setThreadedChats","threadedChats","setReplyingToMessage","replyingToMessage","setShowReadDeliveryReceipts","showReadDeliveryReceipts","setHideDeletedMessages","hideDeletedMessages","setEmailReplies","emailReplies","setSendMessageReaction","sendMessageReaction","setCollaborativeWhiteboard","collaborativeWhiteboard","setCollaborativeDocument","collaborativeDocument","setPolls","polls","setSendLiveReaction","sendLiveReaction","setPublicGroup","publicGroup","setPrivateGroup","privateGroup","setPasswordGroup","passwordGroup","setAllowModeratorToDeleteMemberMessages","allowModeratorToDeleteMemberMessages","setUnreadCount","unreadCount","setSmartReplies","smartReplies","setSearchUsers","searchUsers","setSearchGroups","searchGroups","setSearchMessages","searchMessages","setCallRecording","callRecording","setCallLiveStreaming","callLiveStreaming","setCallTranscription","callTranscription","setThumbnailGeneration","thumbnailGeneration","setLinkPreview","linkPreview","setSaveMessages","saveMessages","setPinMessages","pinMessages","setRichMediaPreview","richMediaPreview","setVoiceTranscription","voiceTranscription","setMentions","mentions","setXssFilter","xssFilter","setProfanityFilter","profanityFilter","setImageModeration","imageModeration","setDataMasking","dataMasking","setMalwareScanner","malwareScanner","setSentimentAnalysis","sentimentAnalysis","setInflightMessageModeration","inflightMessageModeration","setMessageHistory","messageHistory","setViewProfile","viewProfile","setMessageInPrivate","messageInPrivate","setShowCallRecordingOption","showCallRecordingOption","setChatWindow","chatWindow","matchWith","optionToMatch","entries","foregroundColor","overrideSystemBackgroundColor","groupInMode","groupListFilterOptions","values","searchChats","setGroupInQnaModeByModerators","highlightMessageFromModerators","ALL","NONE","FRIENDS","PUBLIC","PASSWORD","PUBLIC_AND_PASSWORD","USERS","USERS_AND_GROUPS","isRecentChatListEnabled","Promise","resolve","isGroupListEnabled","isUserSettingsEnabled","isEditMessageEnabled","isQNAModeEnabled","isHighlightMessagesEnabled","isJoinLeaveGroupsEnabled","isLargerSizeEmojisEnabled","isGifsEnabled","isShareCopyForwardMessageEnabled","isSharedMediaEnabled","isMessagesSoundEnabled","isCallsSoundEnabled","isViewingGroupMembersEnabled","isCallActionMessagesEnabled","isGroupDeletionEnabled","isChangingGroupMemberScopeEnabled","isAddingGroupMembersEnabled","isLocationSharingEnabled","isGroupActionMessagesEnabled","isGroupCreationEnabled","isDeleteMessageEnabled","isHideDeletedMessagesEnabled","isViewProfileEnabled","isMessageInPrivateEnabled","isCallListEnabled","isFeatureEnabled","calls_enabled","isUserListEnabled","chat_users_list_enabled","isOneOnOneVideoCallEnabled","call_one_on_one_video_enabled","isGroupVideoCallEnabled","call_groups_video_enabled","isOneOnOneAudioCallEnabled","call_one_on_one_audio_enabled","isGroupAudioCallEnabled","call_groups_audio_enabled","isOneOnOneChatEnabled","chat_one_on_one_enabled","isGroupChatEnabled","chat_groups_enabled","isDeleteMemberMessageEnabled","moderation_groups_moderators_enabled","isBlockUserEnabled","moderation_users_block_enabled","isEmojisEnabled","emojis_enabled","isFilesEnabled","chat_messages_media_enabled","isPhotosVideosEnabled","isKickingGroupMembersEnabled","moderation_groups_kick_enabled","isBanningGroupMembersEnabled","moderation_groups_ban_enabled","isVoiceNotesEnabled","chat_voice_notes_enabled","isTypingIndicatorsEnabled","chat_typing_indicator_enabled","chat_users_presence_enabled","isThreadedMessagesEnabled","chat_messages_threads_enabled","isMessageRepliesEnabled","chat_messages_replies_enabled","isDeliveryReceiptsEnabled","chat_messages_receipts_enabled","isLiveReactionsEnabled","live_reactions_enabled","isPublicGroupEnabled","chat_groups_public_enabled","isPrivateGroupEnabled","chat_groups_private_enabled","isPasswordGroupEnabled","chat_groups_password_enabled","isUnreadCountEnabled","chat_messages_unread_count_enabled","isUserSearchEnabled","chat_users_search_enabled","isGroupSearchEnabled","chat_groups_search_enabled","isMessageSearchEnabled","chat_messages_search_enabled","isCallRecordingEnabled","call_recording_enabled","isCallLiveStreamingEnabled","call_live_streaming_enabled","isCallTranscriptEnabled","call_transcript_enabled","isMessageHistoryEnabled","chat_messages_history_enabled","isMessageTranslationEnabled","message_translation_enabled","isExtensionEnabled","isReactionsEnabled","reactions_enabled","reactions","isCollaborativeWhiteBoardEnabled","collaboration_whiteboard_enabled","collaborationWhiteboard","isCollaborativeDocumentEnabled","collaboration_document_enabled","collaborationDocument","isStickersEnabled","stickers_enabled","sticker","isEmailRepliesEnabled","email_replies_enabled","isPollsEnabled","polls_enabled","isSmartRepliesEnabled","smart_replies_enabled","isThumbnailGenerationEnabled","thumbnail_generation_enabled","isLinkPreviewEnabled","link_preview_enabled","isSaveMessagesEnabled","messages_saved_enabled","isPinMessagesEnabled","messages_pinned_enabled","isRichMediaPreviewEnabled","rich_media_preview_enabled","isVoiceTranscriptionEnabled","voice_transcription_enabled","isMentionsEnabled","mentions_enabled","isXssFilterEnabled","moderation_xss_filter_enabled","isProfanityFilterEnabled","moderation_profanity_filter_enabled","isImageModerationEnabled","moderation_image_moderation_enabled","isDataMaskingEnabled","moderation_data_masking_enabled","isMalwareScannerEnabled","moderation_malware_scanner_enabled","isSentimentAnalysisEnabled","moderation_sentiment_analysis_enabled","chat_messages_custom_enabled","moderation_inflight_message_moderation_enabled","emojis","extensionKey","createContext","CometChatContextProvider","setRoles","roles","GROUP_MEMBER_SCOPE","ADMIN","MODERATOR","PARTICIPANT","getUser","reject","code","getGroup","hasJoined","groupType","GROUP_TYPE","promptMessage","prompt","joinGroup","setToastMessage","timer","loggedInUser","isInitialized","isUserLoggedIn","setInterval","clearInterval","clearGroupMembers","groupMembers","groupAdmins","groupModerators","bannedGroupMembers","setAllGroupMembers","updateGroupMembers","setGroupMembers","setGroupAdmins","setGroupModerators","setBannedGroupMembers","bannedMembers","updateBannedGroupMembers","setCallInProgress","callType","callInProgress","setType","setTypeAndItem","setDeletedGroupId","deletedGroupId","setLeftGroupId","leftGroupId","setLastMessage","lastMessage","setClearedUnreadMessages","flag","clearedUnreadMessages","setDirectCallCustomMessage","event","directCallCustomMessage","directCallCustomMessageAction","checkIfDirectCallIsOngoing","output","customData","sessionID","checkIfCallIsOngoing","getActiveCallSessionID","sessionId","hasKeyValue","undefined","settings","featureRestriction","toastMessage","unreadMessages","toastRef","ACTION_TYPE","TYPE_USER","errorCode","TYPE_GROUP","_component","Provider","toastNotificationPos","children","Storage","attachChangeDetection","addEventListener","detachChangeDetection","removeEventListener","storageKey","storageValue","JSON","stringify","parse","clear","LocalizedString","SELECT_VIDEO_SOURCE","SELECT_INPUT_AUDIO_SOURCE","SELECT_OUTPUT_AUDIO_SOURCE","SELECT_MODE","CALL_RECORDING_STARTED_MSG","USER_JOINED_CALL_MSG","CALL_RECORDING_ENDED_MSG","USER_LEFT_CALL_MSG","CAMERA_ERROR_MSG","MIC_ERROR_MSG","CAMERA_MIC_ERROR_MSG","RECORDING_TEXT","TRYING_TO_START_RECORDING_TEXT","JOINING_TEXT","UN_MUTE_AUDIO_TEXT","MUTE_AUDIO_TEXT","END_CALL_TEXT","START_RECORDING_TEXT","STOP_RECORDING_TEXT","START_SCREEN_SHARE_TEXT","STOP_SCREEN_SHARE_TEXT","MUTE_VIDEO_TEXT","UN_MUTE_VIDEO_TEXT","SELECT_LAYOUT_HEADER","NO_OF_USER_IN_TILE_TEXT","CHANGE_AUDIO_SOURCE","CHANGE_AUDIO_SOURCE_DESC","AUDIO_INPUT_DEVICE_LABEL","NO_AUDIO_DEVICE_AVAILABLE","AUDIO_OUTPUT_DEVICE_LABEL","CHANGE_VIDEO_SOURCE","CHANGE_VIDEO_SOURCE_DESC","VIDEO_DEVICES_LABEL","FULL_SCREEN","EXIT_FULL_SCREEN","CHANGE_LAYOUT","AUDIO_SETTING","VIDEO_SETTING","USER_LIST","MORE","MUTE_USER","PIN_USER","UNPIN_USER","UN_MUTE_USER","MUTED","YOU_HAVE_BLOCKED","NOT_POSSIBLE_TO_SEND_MESSAGES","IOS_BROWSER_WARNING","PEOPLE_TEXT","SPOTLIGHT_DETAIL_TEXT1","SPOTLIGHT_DETAIL_TEXT2","SPOTLIGHT_DETAIL_TEXT3","SPOTLIGHT_DETAIL_TEXT4","callScreenWrapperStyle","fadeAnimation","bottom","animation","callScreenHeaderStyle","cursorStyle","maximized","callScreenResizerStyle","backgroundStyle","clipPath","background","CometChatCallScreen","enableDragging","checkIfCallScreenIsMaximized","dragging","rel","x","pageX","y","pageY","toggleCallScreenBackground","toggleCallScreenInnerBackground","onmousemove","startDragging","onmouseup","disableDragging","elem","callScreenEl","current","dialogWidth","clientWidth","dialogHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","checkIfCallScreenIsMinimized","minimumWidth","minWidth","minimumHeight","Math","min","max","stopPropagation","initResize","element","startX","startY","startWidth","parseFloat","getComputedStyle","getPropertyValue","replace","startHeight","parseInt","startResize","stopResize","minHWidth","maxHeight","setDimensionOfCallScreenInnerBackground","callScreenBackgroundEl","callScreenInnerBackgroundEl","setPositionOfCallScreenInnerBackground","minimize","setSizingAndPostionOfCallScreen","maximize","toggle","startDirectCall","showRecordingButton","callSettings","CallSettingsBuilder","enableDefaultLayout","setSessionID","setIsAudioOnlyCall","setLocalizedStringObject","build","callScreenFrame","startCall","OngoingCallListener","onCallEnded","actionGenerated","onError","startDefaultCall","getSessionId","CALL_TYPE","setMode","CALL_MODE","DEFAULT","onUserJoined","callInitiator","callMessage","category","action","callReceiver","receiverId","receiverType","sentAt","onUserLeft","endedCall","resizeText","iconView","minimizeIcon","maximizeIcon","onMouseDown","userSelect","PureComponent","contextType","SoundManager","incomingCallAudio","outgoingCallAudio","incomingMessageAudio","outgoingMessageAudio","incomingOtherMessageAudio","play","onIncomingCall","onOutgoingCall","onIncomingMessage","onIncomingOtherMessage","onOutgoingMessage","pause","pauseIncomingCall","pauseOutgoingCall","Audio","default","playMessageAlert","messageAudio","currentTime","playCallAlert","callAudio","loop","incomingCallWrapperStyle","slideDown","positionValue","leftPos","rightPos","topPos","bottomPos","zIndexValue","widgetsettings","dockedview","launched","alignment","widgetWidth","widgetHeight","ButtonStyle","callIconStyle","CometChatIncomingCall","adjustFontSize","callButtonRef","reduceFontSize","buttonNodeList","querySelectorAll","forEach","buttonNode","scrollWidth","callScreenUpdated","incomingCallReceived","incomingCallCancelled","outgoingCallAccepted","incomingCall","sender","rejectCall","callStatus","isCallActive","CALL_STATUS","BUSY","REJECTED","rejectedCall","acceptCall","checkForActiveCallAndEndCall","success","endCall","actionHandler","logStorageChange","newValue","oldValue","attachListeners","callScreen","incomingCallAlert","audioCallIcon","VIDEO","videoCallIcon","textOverflow","whiteSpace","textTransform","CallScreenManager","onOutgoingCallRejected","styles","CometChatOutgoingCall","outgoingCallRejected","outgoingCallScreen","errorScreen","errorMessage","clearCallInProgress","cancelCall","CANCELLED","removeListeners","receiver","callIcon","messageAlertManager","msgListenerId","addMessageListener","MessageListener","onCustomMessageReceived","customMessage","removeMessageListener","CometChatIncomingDirectCall","messageListenerCallback","joinCall","ignoreCall","MessageAlertManager","wordBoundary","emailPattern","RegExp","urlPattern","phoneNumPattern","linkify","outputStr","results","match","url","normalizedURL","startsWith","checkMessageForExtensionsData","injectedObject","metadata","extensionsObject","getMessageFileMetadata","metadataKey","fileMetadata","ID","random","getUnixTimestamp","round","dateDiffInDays","b","utc1","UTC","getFullYear","getMonth","getDate","utc2","floor","countEmojiOccurences","string","word","CometChatOutgoingDirectCall","prepareCustomMessageData","sendCustomMessage","RECEIVER_TYPE","GROUP","conversationId","CustomMessage","setSender","setReceiver","setConversationId","_composedAt","_id","newMessageObj","callScreenRef","ConversationListManager","conversationRequest","conversationListenerId","userListenerId","groupListenerId","ConversationsRequestBuilder","setConversationType","setLimit","fetchNext","addUserListener","UserListener","onUserOnline","onlineUser","onUserOffline","offlineUser","addGroupListener","GroupListener","onGroupMemberScopeChanged","changedUser","newScope","oldScope","changedGroup","onGroupMemberKicked","kickedUser","kickedBy","kickedFrom","onGroupMemberBanned","bannedUser","bannedBy","bannedFrom","onGroupMemberUnbanned","unbannedUser","unbannedBy","unbannedFrom","onMemberAddedToGroup","userAdded","userAddedBy","userAddedIn","onGroupMemberLeft","leavingUser","onGroupMemberJoined","joinedUser","joinedGroup","onTextMessageReceived","textMessage","onMediaMessageReceived","mediaMessage","onMessageDeleted","deletedMessage","onMessageEdited","editedMessage","onMessagesRead","messageReceipt","removeUserListener","removeGroupListener","CometChatEvent","_triggers","push","params","chatsWrapperStyle","_parent","chatsHeaderStyle","borderBottom","chatsHeaderCloseStyle","mq","chatsHeaderTitleStyle","enableCloseMenu","CometChatConversationList","incrementUnreadCount","filterConversation","conversationlist","find","c","conversationType","USER","conversationWith","updateLastMessage","conversationList","conversationKey","findIndex","conversationObj","newConversationObj","splice","unshift","newConversation","Conversation","setConversationWith","setUnreadMessageCount","updateUnreadCount","clearUnreadCount","unreadMessageCount","conversationCallback","options","updateUser","markMessageAsDelivered","conversationUpdated","markAsDelivered","updateConversation","conversationEditedDeleted","updateGroupMemberAdded","updateGroupMemberRemoved","updateGroupMemberScopeChanged","updateGroupMemberChanged","conversationWithObj","getStatus","hideGroupActionMessages","playAudio","CATEGORY_ACTION","TYPE_GROUP_MEMBER","getReceiverType","getSender","getReceiverId","conversation","messageId","makeConversation","CometChatHelper","getConversationFromMessage","makeUnreadMessageCount","shouldIncrementCount","incomingMessage","CATEGORY_MESSAGE","makeLastMessage","newMessage","assign","lastMessageObj","newLastMessageObj","membersCount","actionFor","newConversationWithObj","scope","handleScroll","currentTarget","scrollHeight","scrollTop","getConversations","handleClick","onItemClick","handleMenuClose","fetchNextConversation","decoratorMessage","conversations","eachConversation","newUnreadMessageCount","updatedConversation","contextProviderRef","conversationDeleted","deleteConversation","showConfirmDialog","conversationToBeDeleted","onDeleteConfirm","optionSelected","deletedConversation","chatListRef","on","args","blockedByMe","convKey","convObj","convWithObj","newConvWithObj","newConvObj","map","messageContainer","wordWrap","closeBtn","navigateIcon","chatList","dir","getDirection","overflowY","onScroll","chatListWrapper","CometChatConversationListActions","toggleTooltip","setAttribute","dataset","removeAttribute","deleteInProgress","actionInProgress","progressIcon","actionIcon","loadingIcon","deleteIcon","onMouseEnter","onMouseLeave","listStyleType","listItem","selectedState","selectedConversation","itemNameStyle","itemLastMsgStyle","CometChatConversationListItem","getLastMessage","enableHideDeletedMessages","getMessage","CATEGORY_CALL","getCallMessage","getActionMessage","CATEGORY_CUSTOM","getCustomMessage","getLastMessageTimestamp","timestamp","messageTimestamp","currentTimestamp","now","dateDifferenceInDays","dateFormat","getTimeStampForLastMessage","pollMessage","stickerMessage","docMessage","whiteboardMessage","meetingMessage","getTextMessage","messageText","text","xssData","sanitized_text","maskedData","sensitive_data","message_masked","profaneData","profanity","message_clean","MESSAGE_TYPE","TEXT","MEDIA","IMAGE","imageMessage","FILE","fileMessage","videoMessage","audioMessage","CUSTOM","actionMessage","MEMBER_JOINED","MEMBER_LEFT","actionBy","actionOn","MEMBER_SCOPE_CHANGED","extras","byEntity","onEntity","byString","forString","MEMBER_ADDED","MEMBER_KICKED","MEMBER_BANNED","MEMBER_UNBANNED","textContent","enableUnreadCount","handleMouseHover","toggleFlag","isHovering","lastMessageTimestamp","lastMessageTimeStamp","toolTipView","flexGrow","paddingLeft","paddingRight","previewWrapperStyle","slideAnimation","previewCloseStyle","previewOptionStyle","CometChatSmartReplyPreview","alignSelf","stickerWrapperStyle","stickerSectionListStyle","borderTop","overflowX","stickerItemStyle","stickerCloseStyle","CometChatStickerKeyboard","getStickers","callExtension","stickers","activeStickerSet","customStickers","defaultStickers","sort","stickerSetOrder","stickerList","stickerSet","reduce","r","index","stickerSetName","activeStickerList","stickerOrder","sendStickerMessage","stickerItem","onStickerSetClicked","sectionItem","activestickerlist","stickerset","closeStickerKeyboard","stickerlist","activestickerset","sectionItems","stickerSetThumbnail","stickerUrl","stickerName","flexWrap","messageReactionsStyle","reactionData","hoveredBorderStyle","verticalAlign","emojiButtonStyle","reactionCountStyle","CometChatMessageReactions","enableMessageReaction","reactToMessages","emoji","messageObject","colons","msgId","getMessageReactions","reaction","reactionName","replaceAll","reactionCount","userList","reactionTitle","join","concat","reactionClassName","size","native","addMessageReaction","reactIcon","messageReactions","addReactionEmoji","modalWrapperStyle","modalErrorStyle","modalTableStyle","borderCollapse","tr","tableLayout","tableFootStyle","loadingState","textMargin","creatingPoll","td","button","span","addOptionIconStyle","backgroundSize","CometChatCreatePoll","addPollOption","removePollOption","optionKey","opt","optionChangeHandler","newOption","createPoll","question","questionRef","firstOption","optionOneRef","secondOption","optionTwoRef","optionItems","optionRef","pollOptionView","tabIndex","createText","clearIcon","colSpan","autoFocus","addIcon","creatingIcon","removeOptionIconStyle","CometChatCreatePollOptions","autoComplete","removeIcon","messageThumbnailStyle","nameWrapperStyle","paddingValue","messageTxtWrapperStyle","messageTxtTitleStyle","messageBtnStyle","li","CometChatReceiverDocumentBubble","toggleHoverState","launchCollaborativeDocument","documentUrl","documentData","document_url","open","nextProps","nextState","reactionsData","documentTitle","flex","documentIcon","pollAnswerStyle","pollPercentStyle","curvedBorders","answerWrapperStyle","optionData","widthProp","voters","p","checkIconStyle","CometChatReceiverPollMessageBubble","answerPollQuestion","selectedOption","vote","pollId","pollExtensionData","pollOptions","total","totalText","toLocaleString","checkIcon","checkImg","template","messageImgWrapperStyle","CometChatReceiverStickerMessageBubble","stickerData","stickerImg","sticker_name","sticker_url","CometChatReceiverWhiteboardBubble","launchCollaborativeWhiteboard","whiteboardUrl","whiteboardData","board_url","whiteboardIcon","CometChatSenderDocumentBubble","wordBreak","CometChatSenderPollMessageBubble","messageImgWrapper","CometChatSenderStickerBubble","messageTxtIconStyle","CometChatSenderWhiteboardBubble","CometChatActionMessageBubble","getCallActionMessage","INITIATED","ONGOING","UNANSWERED","ENDED","byUser","onUser","messageContainerStyle","messageWrapperStyle","Width","fontStyle","messageTxtStyle","messageInfoWrapperStyle","messageTimeStampStyle","messageDetailStyle","paddingSpace","nameStyle","CometChatDeleteMessageBubble","setLoggedInUser","messageDate","CometChatEmojiKeyboard","categories","people","nature","foods","activity","places","objects","symbols","flags","emojiClicked","showPreview","exclude","i18n","imageWrapperStyle","heightProps","imgStyle","sizeProps","objectFit","CometChatImageViewer","setImage","imageIcon","previewDataStyle","previewTitleStyle","previewDescStyle","previewTextStyle","previewLinkStyle","CometChatLinkPreview","linkObject","linkText","href","CometChatLiveReactions","sendMessage","transientMessage","TransientMessage","sendTransientMessage","setItems","parentElement","offsetWidth","offsetHeight","elements","elementWidth","elementHeight","ySpeed","verticalSpeed","omega","PI","horizontalSpeed","time","sin","items","requestAnimation","animate","transformString","visibility","classList","add","counter","before","reactionImg","Array","fill","messageActionStyle","direction","groupButtonStyle","deleteOption","backgroundProp","CometChatMessageActions","enableThreadedChats","enableDeleteMessage","enableDeleteMessageForModerator","enableEditMessage","enableTranslateMessage","enableMessageInPrivate","sendMessageInPrivate","reactToMessage","viewThread","translateMessage","startThreadIcon","replyCount","editIcon","translateIcon","sendMessageInPrivateIcon","tooltip","chatComposerStyle","order","editPreviewContainerStyle","inputInnerStyle","borderRadiusVal","emojiViewer","stickerViewer","messageInputStyle","disabledState","content","inputStickyStyle","attachments","flexDirectionProp","filePickerStyle","active","showFilePicker","fileItemStyle","stickyAttachButtonStyle","stickyButtonStyle","sendButtonStyle","stickerBtnStyle","CometChatMessageComposer","enableLiveReaction","enablePolls","enableTypingIndicator","enableStickers","enablePhotosVideos","enableFiles","enableEmojis","enableCollaborativeDocument","enableCollaborativeWhiteboard","focusOnMessageComposer","messageInputRef","focus","messageToReact","pasteHtmlAtCaret","messageInput","innerText","messageType","changeHandler","startTyping","toggleFilePicker","currentState","openFileDialogue","fileType","imageUploaderRef","click","fileUploaderRef","audioUploaderRef","videoUploaderRef","onImageChange","files","uploadedFile","reader","FileReader","newFile","File","result","sendMediaMessage","readAsArrayBuffer","onFileChange","onAudioChange","onVideoChange","getReceiverDetails","endTyping","MediaMessage","parentMessageId","setParentMessageId","setMetadata","sendMessageOnEnter","keyCode","shiftKey","sendTextMessage","messageToBeEdited","TextMessage","setText","replyPreview","setId","messageFrom","closeEditPreview","typingInterval","isTyping","typingMetadata","typingNotification","TypingIndicator","persist","toggleStickerPicker","toggleEmojiPicker","toggleCreatePoll","toggleCollaborativeDocument","toggleCollaborativeBoard","closeCreatePoll","sendSticker","sendReplyMessage","clearReplyPreview","startLiveReaction","animationInProgress","timeout","liveReactionInterval","stopLiveReaction","newMessageObject","reactionObject","userObject","emojiObject","reactionExtensionsData","metadatObject","extensions","liveReactionInProgress","shareDocument","shareWhiteboard","prevState","hasXSS","html","selectPastedContent","sel","range","getSelection","getRangeAt","rangeCount","deleteContents","node","lastNode","frag","createDocumentFragment","firstChild","appendChild","firstNode","insertNode","cloneRange","setStartAfter","setStartBefore","collapse","removeAllRanges","addRange","selection","originalRange","createRange","pasteHTML","setEndPoint","select","liveReactionBtn","liveReactionText","docText","docs","docIcon","videoText","audioText","imageText","avp","videoIcon","accept","audioIcon","pollText","createPollBtn","pollIcon","collaborativeDocText","collaborativeDocBtn","collaborativeBoardText","collaborativeBoardBtn","emojiText","emojiBtn","insertEmoticon","StickerText","stickerBtn","stickerIcon","sendMessageText","sendBtn","sendBlue","attachText","attach","roundedPlus","editPreview","smartReplyPreview","smartReplyData","contentEditable","onInput","onBlur","onKeyDown","MessageHeaderManager","onTypingStarted","typingIndicator","onTypingEnded","chatSideBarBtnStyle","displayValue","sidebar","chatUserStyle","chatNameStyle","chatStatusStyle","typing","chatOptionStyle","ongoingCall","bgColor","CometChatMessageHeader","setStatusForUser","USER_STATUS","ONLINE","OFFLINE","lastActiveAt","lastActive","setStatusForGroup","membersText","updateHeader","groupUser","enableUserPresence","showTyping","typingText","resetChat","enableGroupVoiceCall","enableGroupVideoCall","enableOneOnOneVoiceCall","combinedResponse","enableOneOnOneVideoCall","enableAddGroupMembers","enableChangeScope","enableKickGroupMembers","enableBanGroupMembers","enableDeleteGroup","enableViewGroupMembers","enableLeaveGroup","enableSharedMedia","enableBlockUser","initiateAudioCall","initiateVideoCall","viewDetail","videoCallClassName","audioCallClassName","viewDetailClassName","chatWithClassName","chatNameClassName","chatStatusClassName","audioCallText","audioCallBtn","videoCallText","videoCallBtn","viewDetailText","viewDetailBtn","detailPaneIcon","menuIcon","MessageFilter","getCategories","getTypes","MessageListManager","messageRequest","limit","initializeMessageRequest","messageFilterManager","categoryList","typeList","MessagesRequestBuilder","setUID","setCategories","setTypes","hideReplies","setGUID","fetchPrevious","onMessagesDelivered","onTransientMessageReceived","chatListStyle","messageDateStyle","CometChatMessageList","lastScrollTop","times","scrollToBottom","messagesEnd","messageHandler","fetchMessages","messageList","messageCount","getUid","markAsRead","messages","fetchPreviousMessages","messageUpdated","onMessageReadAndDelivered","onMessageReceived","onGroupUpdated","onCallUpdated","updateEditedMessage","messageKey","m","messageObj","getReceiver","getReceiptType","deliveredAt","getDeliveredAt","readAt","getReadAt","reInitializeMessageBuilder","markMessageAsRead","messageReceivedHandler","customMessageReceivedHandler","getSenderMessageComponent","component","getReceiverMessageComponent","getSenderCustomMessageComponent","getReceiverCustomMessageComponent","getActionMessageComponent","getComponent","ifChatWindowChanged","cDate","dateSeparator","dateField","messageSentDate","timeStampInMilliSeconds","getMessageDate","paddingTop","SharedMediaManager","messagetype","mediaMessageListenerId","mediaMessageRequest","setCategory","sectionStyle","containerHeightProp","containerHeight","buttonStyle","activeBtn","itemStyle","itemTypeStyle","CometChatSharedMediaView","messageDeleted","messageReceived","filteredMessages","filter","getMessages","mediaClickHandler","fileIcon","UserDetailManager","userDetailStyle","headerStyle","headerCloseStyle","privacySectionStyle","sectionHeaderStyle","itemLinkStyle","userPresenceStyle","CometChatUserDetails","enableViewProfile","usersList","blockUsers","newType","newItem","unblockUser","unblockUsers","profileLink","link","closeDetailView","blockUserText","blockUserView","sharedmediaView","UserListManager","searchKey","userRequest","initializeUsersRequest","userListModeOptions","usersRequest","UsersRequestBuilder","setSearchKeyword","friendsOnly","contactWrapperStyle","contactHeaderStyle","contactHeaderCloseStyle","contactHeaderTitleStyle","contactSearchButtonStyle","CometChatUserList","toggleUserSearch","enableSearchUser","userUpdated","userlist","userKey","u","userObj","newUserObj","getUsers","val","fetchNextUsers","userListRef","newUserObject","currentLetter","chr","firstChar","selectedUser","clickHandler","searchUser","searchIcon","userListTemplate","userListWrapper","itemDescStyle","marginTop","CometChatUserListItem","userPresence","userScreenSidebarStyle","sidebarView","sidebarview","borderRight","userScreenMainStyle","itemClicked","toggleSideBar","chatWithUser","messageScreen","creatingGroup","inputStyle","CometChatCreateGroup","enablePublicGroup","enablePasswordGroup","enablePrivateGroup","passwordChangeHandler","nameChangeHandler","typeChangeHandler","passwordInput","validate","groupName","createGroup","PRIVATE","Group","newGroup","populateGroupType","groupTypes","groupTypeSelect","groupTypeKeys","groupTypeListOptions","groupTypeKey","GroupDetailManager","groupMemberRequest","bannedGroupMemberRequest","GroupMembersRequestBuilder","BannedMembersRequestBuilder","deleteLink","deleteCss","CometChatGroupDetails","groupUpdated","updateGroupMemberPresence","member","updatedMember","addParticipants","removeParticipants","banMembers","unbanMembers","updateParticipants","memberlist","memberKey","k","memberObj","newMemberObj","bannedmemberlist","bannedMemberKey","bannedMemberObj","newBannedMemberObj","getGroupMembers","administratorslist","moderatorslist","fetchNextGroupMembers","getBannedGroupMembers","fetchNextBannedGroupMembers","deleteGroup","showDeleteConfirmDialog","showLeaveGroupConfirmDialog","showTransferOwnershipConfirmDialog","onLeaveConfirm","leaveGroup","onTransferConfirm","transferOwnership","owner","viewMember","addMember","membersActionHandler","updateOwnership","unbannedMembers","filteredBannedMembers","bannedmember","found","triggerUpdate","groupmembers","filteredMembers","groupmember","closeGroupDetail","addAdministrator","addModerator","viewMembersBtn","paddingBottom","addMembersBtn","deleteGroupBtn","bannedMembersBtn","leaveGroupBtn","viewMembers","loggedinuser","addMembers","GroupListManager","groupRequest","GroupsRequestBuilder","groupWrapperStyle","groupHeaderStyle","groupHeaderCloseStyle","groupHeaderTitleStyle","groupAddStyle","CometChatGroupList","enableSearchGroup","enableCreateGroup","enableJoinGroup","updateMemberChanged","updateMemberRemoved","updateMemberAddition","grouplist","groupKey","g","groupObj","newgroupObj","getGroups","newGroupObj","searchGroup","fetchNextGroups","groupList","createGroupHandler","createGroupActionHandler","groupListRef","Number","selectedGroup","createGroupBtn","groupListTemplate","groupListWrapper","itemIconStyle","CometChatGroupListItem","groupTypeIcon","shieldIcon","lockIcon","modalCaptionStyle","textAlignStyle","listHeaderStyle","nameColumnStyle","editAccess","scopeColumnStyle","actionColumnStyle","CometChatViewGroupMemberList","updateUserColumnTitle","userColumnTitle","matches","updateMembers","changeScope","memberToBan","banGroupMember","memberToKick","kickGroupMember","updateGroupMemberScope","setUserColumnTitle","matchMedia","addListener","modalRowStyle","borderLeft","participantView","avatarStyle","marginProp","displayProp","scopeIconStyle","kickIconStyle","CometChatViewGroupMemberListItem","toggleChangeScope","showChangeScope","scopeChangeHandler","updateMemberScope","contains","changeScopeDropDown","defaultValue","editClassName","changescope","ban","banIcon","kick","kickIcon","doneIcon","scopeIcon","AddMembersManager","membersRequest","initializeMembersRequest","modalCloseStyle","searchButtonStyle","modalListStyle","modalFootStyle","addingMembers","CometChatAddGroupMemberList","membersToAdd","membersToRemove","filteredlist","filteredUserList","foundbanned","membersUpdated","userState","IndexFound","membersList","newmember","newMember","GroupMember","addMembersToGroup","addGroupMemberBtn","addingIcon","firstLetter","changed","selectionBoxStyle","inactiveStateImg","activeStateImg","CometChatAddGroupMemberListItem","checked","setChecked","nameContainer","lastChild","inactiveIcon","activeIcon","htmlFor","roleColumnStyle","CometChatBanGroupMemberList","unbanMember","memberToUnBan","unbanGroupMember","membersToBan","membersToUnBan","userStyle","roleStyle","actionStyle","CometChatBanGroupMemberListItem","unBan","unban","groupScreenSidebarStyle","groupScreenMainStyle","CometChatGroupListWithMessages","otherProps","newObject","chatWithGroup","btnState","newGroupOwner","transferringOwnership","CometChatTransferOwnershipMemberList","changeOwnership","updateGroupOwner","transferGroupOwnership","memberList","transferBtn","transferText","transferIcon","modalColumnStyle","selectionColumnStyle","CometChatTransferOwnershipMemberListItem","handleCheck","toggleSelectedState","isSelected","chatWrapperStyle","viewdetailscreen","threadmessageview","secondaryViewWidth","chatSecondaryStyle","messagePaneUnreadBannerMessageStyle","textShadow","CometChatMessages","enableGroupActionMessages","enableCallActionMessages","enableSendingOneOnOneMessage","enableSendingGroupMessage","updateReplyCount","appendMessage","messageSent","triggerHandler","updateMessages","updateParentThreadedMessage","removeMessages","prependMessages","prependMessagesAndScrollToBottom","refreshingMessages","messageRefreshed","newMessagesArrived","jumpToMessages","messageEdited","clearEditPreview","appendCallMessage","toggleOriginalImageView","audioCall","videoCall","toggleDetailView","toggleReaction","liveReactionReceived","outgoingDirectCallRef","viewThreadedMessage","threadMessageComposed","closeThreadedMessage","appendMemberAddedMessage","appendMemberUnbannedMessage","appendMemberScopeChangedMessage","appendMemberKickedMessage","appendMemberBannedMessage","errorHandler","infoMessageHandler","infoCode","eachMember","viewOriginalImage","viewdetail","parentMessage","threaditem","threadmessageparent","threadmessageitem","threadmessagetype","Call","initiateCall","outgoingCall","outgoingCallRef","liveReaction","markMessagesAsRead","unreadMessage","messageListRef","messagelist","receivedMessage","composerRef","blockedUser","messageComposer","newMessageIndicator","liveReactionView","incomingCallView","incomingDirectCallView","outgoingDirectCallView","outgoingCallView","detailScreen","threadMessageView","activeTab","threadItem","threadType","originalImageView","messageComponent","messageWrapper","parentMessageStyle","messageSeparatorStyle","hr","CometChatMessageThread","parentMessageEdited","newReplyCount","getParentMessageComponent","seperator","replyText","fontWight","scrollbarWidth","CometChatReadReceipt","toggleReadReceipts","receipts","ticks","receiptText","errorTick","sendingTick","greyTick","blueDoubleTick","greyDoubleTick","receipt","getMessageSentTime","CometChatReceiverAudioMessageBubble","controls","CometChatReceiverDirectCallBubble","messageTitle","joinCallMessage","messageFileWrapperStyle","textDecoration","label","CometChatReceiverFileMessageBubble","CometChatReceiverImageMessageBubble","chooseImage","thumbnailGenerationObject","smallUrl","imageToDownload","thumbnailGenerationData","imageName","imageUrl","downloadImage","setMessageImageUrl","imgUrl","xhr","XMLHttpRequest","responseType","readyState","statusText","onerror","Error","ontimeout","send","showVariation","emojiProp","zoom","CometChatReceiverTextMessageBubble","getMessageText","formattedText","emojiParsedMessage","twemoji","folder","ext","parsedMessage","enableLargerSizeEmojis","translatedMessage","translateToLanguage","browserLanguageArray","linkPreviewData","CometChatReceiverVideoMessageBubble","CometChatSenderAudioMessageBubble","getFileData","Blob","fileName","fileUrl","fileData","CometChatSenderDirectCallBubble","CometChatSenderFileMessageBubble","CometChatSenderImageMessageBubble","readAsDataURL","heightProp","CometChatSenderTextMessageBubble","messageTextRef","CometChatSenderVideoMessageBubble","replyCountStyle","CometChatThreadedMessageReplyCount","reply","setReply","replies","bockedSubTitleStyle","unblockButtonStyle","CometChatBlockedUser","chatWith","chatScreenSidebarStyle","chatScreenMainStyle","CometChatConversationListWithMessages","tab","userInfoScreenStyle","userStatusStyle","optionTitleStyle","optionStyle","CometChatUserProfile","userProfile","notificationIcon","privacyIcon","chatIcon","helpIcon","reportIcon","isActive","activeStateBg","itemLinkTextStyle","colorProp","CometChatNavBar","tabListKeys","getFilteredTabs","filteredTabs","promises","enableChats","enableUsers","enableGroups","enableSettings","allSettled","eachTabKey","tabKey","tabEnabled","tabChanged","getActiveTab","getTabList","chatsTabActive","userTabActive","groupsTabActive","moreTabActive","chatGreyIcon","contactGreyIcon","groupGreyIcon","moreGreyIcon","tabName","t","unifiedSidebarStyle","unifiedMainStyle","CometChatUI","navBarAction","navBarRef","App","logout","ChatEngine","appSetting","AppSettingsBuilder","subscribePresenceForAllUsers","setRegion","init","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7682a880.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { CometChat } from '@cometchat-pro/chat';\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [chatComponent, setChatComponent] = useState(0);\r\n    const [error, setError] = useState('');\r\n    const chatComponents = [\r\n        'Chat-Engine',\r\n        'Stream-Chat',\r\n        'React-chat-elements',\r\n        '@chatscope/chat-ui-kit-react',\r\n        'react-chat-widget',\r\n        '@cometchat-pro/chat',\r\n    ]\r\n\r\n    useEffect(() => {\r\n        setUsername('');\r\n        setPassword('');\r\n        setError('');\r\n    }, [chatComponent]);\r\n    async function handleSumbit(e) {\r\n        e.preventDefault();\r\n        const chatEngineAuthObj = {\r\n            'project-ID': '752ebb48-8f33-4e0d-9069-68579c1bfa6a',\r\n            'user-Name': username,\r\n            'user-Secret': password\r\n        }\r\n        const cometChatAuthKey = \"403bade4b0cd851c4d85262792fe19ef8f586427\";\r\n\r\n        try {\r\n            if(chatComponent === 0) {\r\n                await axios.get('https://api.chatengine.io/chats', { headers: chatEngineAuthObj });\r\n                localStorage.setItem('username', username);\r\n                localStorage.setItem('password', password);\r\n                localStorage.setItem('component', chatComponent);\r\n                window.location.reload();\r\n            } else if(chatComponent === 1) {\r\n                localStorage.setItem('username', username);\r\n                localStorage.setItem('password', password);\r\n                localStorage.setItem('component', chatComponent);\r\n                window.location.reload();\r\n            } else if(chatComponent === 2) {\r\n                console.log(\"axios result :: \", chatComponent);\r\n            } else if(chatComponent === 3) {\r\n                console.log(\"axios result :: \", chatComponent);\r\n            } else if(chatComponent === 4) {\r\n                console.log(\"axios result :: \", chatComponent);\r\n            } else if(chatComponent === 5) {\r\n                console.log(\"debugger\");\r\n                CometChat.getLoggedinUser().then(\r\n                    user => {\r\n                        console.log(user);\r\n                        if(!user) {\r\n                            CometChat.login(username, cometChatAuthKey).then(\r\n                                user => {\r\n                                    console.log(\"Login Successful:\", { user });\r\n                                    localStorage.setItem('username', username);\r\n                                    localStorage.setItem('component', chatComponent);\r\n                                    window.location.reload();\r\n                                }, error => {\r\n                                    console.log(\"Login failed with exception:\", { error });\r\n                                    setError(error.message);\r\n                                    throw error;\r\n                                });\r\n                        } else {\r\n                            localStorage.setItem('username', user.name);\r\n                            localStorage.setItem('component', chatComponent);\r\n                            window.location.reload();\r\n                        }\r\n                    }, error => {\r\n                        console.log(\"Something went wrong\", error);\r\n                    });\r\n            }\r\n        } catch (error) {\r\n            localStorage.removeItem('username');\r\n            setError('Invalid Credentials')\r\n            console.log(error);\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <div className='header'>\r\n                <button type='button'\r\n                        style={{backgroundColor : chatComponent === 0 ? '#ffc584' : ''}}\r\n                        className='component'\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            setChatComponent(0);\r\n                        }}\r\n                >\r\n                    rect-chat-engine\r\n                </button>\r\n                <button type='button'\r\n                        style={{backgroundColor : chatComponent === 1 ? '#ffc584' : ''}}\r\n                        className='component'\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            setChatComponent(1);\r\n                        }}>stream-chat</button>\r\n                <button type='button'\r\n                        disabled\r\n                        style={{backgroundColor : chatComponent === 2 ? '#ffc584' : ''}}\r\n                        className='component'\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            setChatComponent(2);\r\n                        }}\r\n                >\r\n                    react-chat-elements\r\n                </button>\r\n                <button type='button'\r\n                        disabled\r\n                        style={{backgroundColor : chatComponent === 3 ? '#ffc584' : ''}}\r\n                        className='component'\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            setChatComponent(3);\r\n                        }}\r\n                >\r\n                    @chatscope/chat-ui-kit-react\r\n                </button>\r\n                <button type='button'\r\n                        disabled\r\n                        style={{backgroundColor : chatComponent === 4 ? '#ffc584' : ''}}\r\n                        className='component'\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            setChatComponent(4);\r\n                        }}\r\n                >\r\n                    react-chat-widget\r\n                </button>\r\n                <button type='button'\r\n                        style={{backgroundColor : chatComponent === 5 ? '#ffc584' : ''}}\r\n                        className='component'\r\n                        onClick={(e) => {\r\n                            e.preventDefault();\r\n                            setChatComponent(5);\r\n                        }}\r\n                >\r\n                    @cometchat-pro/chat\r\n                </button>\r\n            </div>\r\n            <div className='loginForm'>\r\n                <form onSubmit={handleSumbit}>\r\n                    <h3 className='formElement'>{chatComponents[chatComponent]} Login</h3>\r\n                    <h5 className='error'>{error}</h5>\r\n                    <div className='formElement'>\r\n                        <input className='input' type='text' placeholder='Username' value={username} onChange={(e) => setUsername(e.target.value)} />\r\n                    </div>\r\n                    {chatComponent !== 5 && <div className='formElement'>\r\n                        <input className='input' type='password' placeholder='Password' value={password} onChange={(e) => setPassword(e.target.value)} />\r\n                    </div>}\r\n                    <div className='formElement loginButton'>\r\n                        <button className='btn' type='submit' disabled={username === ''}>Log In</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { ChatEngine } from 'react-chat-engine';\r\n\r\nconst ChatEngineIO = () => {\r\n    return (\r\n        <ChatEngine \r\n          height=\"100vh\"\r\n          projectID=\"752ebb48-8f33-4e0d-9069-68579c1bfa6a\"\r\n          userName={localStorage.getItem('username')}\r\n          userSecret={localStorage.getItem('password')}\r\n        />\r\n    )\r\n}\r\n\r\nexport default ChatEngineIO;","import React from 'react';\r\nimport { StreamChat } from 'stream-chat';\r\nimport { Chat, Channel, ChannelHeader, MessageInput, MessageList, Thread, Window } from 'stream-chat-react';\r\n\r\nimport 'stream-chat-react/dist/css/index.css';\r\n\r\nconst chatClient = StreamChat.getInstance('ajsqerfrf2rc');\r\nconst user = {\r\n  id: 'Aravindh',\r\n  name: 'Aravindh',\r\n  image: 'https://getstream.io/random_png/?id=bitter-pond-3&name=bitter-pond-3',\r\n}\r\nchatClient.connectUser(\r\n  user,\r\n  chatClient.devToken(user.id)\r\n);\r\n\r\nconst channel = chatClient.channel('messaging', 'custom_channel_id', {\r\n  // add as many custom fields as you'd like\r\n  image: 'https://www.drupal.org/files/project-images/react.png',\r\n  name: 'Talk about React',\r\n  members: ['rough-shadow-6'],\r\n});\r\n\r\nconst StreamChatApp = () => (\r\n  <Chat client={chatClient} theme='messaging light'>\r\n    <Channel channel={channel}>\r\n      <Window>\r\n        <ChannelHeader />\r\n        <MessageList />\r\n        <MessageInput />\r\n      </Window>\r\n      <Thread />\r\n    </Channel>\r\n  </Chat>\r\n);\r\n\r\nexport default StreamChatApp;","export const TEXT_MESSAGE_RECEIVED = 'onTextMessageReceived';\nexport const MEDIA_MESSAGE_RECEIVED = 'onMediaMessageReceived';\nexport const CUSTOM_MESSAGE_RECEIVED = 'onCustomMessageReceived';\nexport const MESSAGE_DELIVERED = 'onMessagesDelivered';\nexport const MESSAGE_READ = 'onMessagesRead';\nexport const MESSAGE_DELETED = 'onMessageDeleted';\nexport const MESSAGE_EDITED = 'onMessageEdited';\nexport const TRANSIENT_MESSAGE_RECEIVED = \"onTransientMessageReceived\";\n\nexport const INCOMING_CALL_RECEIVED = 'onIncomingCallReceived';\nexport const OUTGOING_CALL_ACCEPTED = 'onOutgoingCallAccepted';\nexport const OUTGOING_CALL_REJECTED = 'onOutgoingCallRejected';\nexport const INCOMING_CALL_CANCELLED = 'onIncomingCallCancelled';\n\nexport const GROUP_MEMBER_SCOPE_CHANGED = \"onGroupMemberScopeChanged\";\nexport const GROUP_MEMBER_KICKED = \"onGroupMemberKicked\";\nexport const GROUP_MEMBER_BANNED = \"onGroupMemberBanned\";\nexport const GROUP_MEMBER_UNBANNED = \"onGroupMemberUnbanned\";\nexport const GROUP_MEMBER_ADDED = \"onMemberAddedToGroup\";\nexport const GROUP_MEMBER_LEFT = \"onGroupMemberLeft\";\nexport const GROUP_MEMBER_JOINED = \"onGroupMemberJoined\";\n\nexport const USER_ONLINE = \"onUserOnline\";\nexport const USER_OFFLINE = \"onUserOffline\";\n\nexport const TYPING_STARTED = \"onTypingStarted\";\nexport const TYPING_ENDED = \"onTypingEnded\";\n\nexport const CUSTOM_TYPE_POLL = \"extension_poll\";\nexport const CUSTOM_TYPE_STICKER = \"extension_sticker\";\nexport const CUSTOM_TYPE_DOCUMENT = \"extension_document\";\nexport const CUSTOM_TYPE_WHITEBOARD = \"extension_whiteboard\";\nexport const CUSTOM_TYPE_MEETING = \"meeting\";\n\nexport const CONSTANTS = {\n\tLOCALE: \"cometchat:locale\",\n\tACTIVECALL: \"cometchat:activecall\",\n\tMAX_MESSAGE_COUNT: 1000,\n\tMETADATA_TYPE_LIVEREACTION: \"live_reaction\",\n\tLIVE_REACTIONS: { heart: \"./resources/heart.png\", thumbsup: \"\", clap: \"\", wink: \"\" },\n\tMESSAGES_COMPONENT: \"messages\",\n\tEMBEDDED_COMPONENT: \"embedded\",\n\tOUTGOING_DEFAULT_CALLING: \"outgoing_default\",\n\tINCOMING_DEFAULT_CALLING: \"incoming_default\",\n\tINCOMING_DIRECT_CALLING: \"incoming_direct\",\n\tOUTGOING_DIRECT_CALLING: \"outgoing_direct\",\n\tAUDIO: {\n\t\tINCOMING_MESSAGE: \"incomingMessage\",\n\t\tINCOMING_OTHER_MESSAGE: \"incomingOtherMessage\",\n\t\tOUTGOING_MESSAGE: \"outgoingMessage\",\n\t\tINCOMING_CALL: \"incomingCall\",\n\t\tOUTGOING_CALL: \"outgoingCall\",\n\t},\n\tERROR_CODES: {\n\t\tERR_CHAT_API_FAILURE: \"ERR_CHAT_API_FAILURE\",\n\t},\n\tCALLS: {\n\t\tONGOING_CALL: \"noOngoingCall\",\n\t\tONGOING_CALL_SAME_GROUP: \"ongoingDirectCallInSameGroup\",\n\t\tONGOING_CALL_DIFF_GROUP: \"ongoingDirectCallInDifferentGroup\",\n\t},\n\tGROUPS: {\n\t\tOWNER: \"owner\",\n\t},\n\tLIVE_REACTION_INTERVAL: 1500,\n\tFILE_METADATA: \"file\",\n};\n\nexport const ACTIONS = {\n\tMESSAGE_SENT: \"messageSent\",\n\tMESSAGE_COMPOSED: \"messageComposed\",\n\tERROR_IN_SENDING_MESSAGE: \"errorInSendingMessage\",\n\tACCEPT_DIRECT_CALL: \"acceptDirectCall\",\n\tJOIN_DIRECT_CALL: \"joinDirectCall\",\n\tSTART_DIRECT_CALL: \"startDirectCall\",\n\tDIRECT_CALL_ENDED: \"directCallEnded\",\n\tPOLL_CREATED: \"pollCreated\",\n\tGROUP_DELETED: \"groupDeleted\",\n\tGROUP_LEFT: \"leftGroup\",\n\tGROUP_CREATED: \"groupCreated\",\n\tVIEW_DETAIL: \"viewDetail\",\n\tVIEW_THREADED_MESSAGE: \"viewThreadedMessage\",\n\tCLOSE_THREADED_MESSAGE: \"closeThreadedMessage\",\n\tTOGGLE_SIDEBAR: \"toggleSidebar\",\n\tON_MESSAGE_EDITED: \"onMessageEdited\",\n\tON_MESSAGE_DELETED: \"onMessageDeleted\",\n\tON_MESSAGE_READ_DELIVERED: \"onMessageReadAndDelivered\",\n\tDELETE_MESSAGE: \"deleteMessage\",\n\tMESSAGE_DELETED: \"messageDeleted\",\n\tEDIT_MESSAGE: \"editMessage\",\n\tMESSAGE_EDITED: \"messageEdited\",\n\tCLOSE_GROUP_DETAIL: \"closeGroupDetail\",\n\tCLOSE_USER_DETAIL: \"closeUserDetail\",\n\tVIEW_ORIGINAL_IMAGE: \"viewOriginalImage\",\n\tFETCH_GROUP_MEMBERS: \"fetchGroupMembers\",\n\tSCOPECHANGE_GROUPMEMBER_SUCCESS: \"updateGroupMember\",\n\tBAN_GROUP_MEMBER: \"ban\",\n\tKICK_GROUP_MEMBER: \"kick\",\n\tBAN_GROUPMEMBER_SUCCESS: \"banGroupMember\",\n\tKICK_GROUPMEMBER_SUCCESS: \"kickGroupMember\",\n\tCHANGE_SCOPE_GROUP_MEMBER: \"changescope\",\n\tUNBAN_GROUP_MEMBER: \"unban\",\n\tADD_GROUP_MEMBER_SUCCESS: \"addGroupMembers\",\n\tFETCH_BANNED_GROUP_MEMBERS: \"fetchBannedGroupMembers\",\n\tUNBAN_GROUP_MEMBER_SUCCESS: \"unbanGroupMembers\",\n\tREACT_TO_MESSAGE: \"reactToMessage\",\n\tINITIATE_VIDEO_CALL: \"initiateVideoCall\",\n\tINITIATE_AUDIO_CALL: \"initiateAudioCall\",\n\tCHANGE_TAB: \"changeTab\",\n\tITEM_CLICKED: \"itemClicked\",\n\tTHREAD_MESSAGE_COMPOSED: \"threadMessageComposed\",\n\tSEND_LIVE_REACTION: \"sendReaction\",\n\tSTOP_LIVE_REACTION: \"stopReaction\",\n\tSHOW_LIVE_REACTION: \"showReaction\",\n\tCLEAR_EDIT_PREVIEW: \"clearEditPreview\",\n\tMESSAGE_RECEIVED: \"messageReceived\",\n\tCUSTOM_MESSAGE_RECEIVED: \"customMessageReceived\",\n\tMESSAGE_READ: \"messageRead\",\n\tMESSAGES_INITIAL_FETCH: \"messageInitialFetch\",\n\tMESSAGES_FETCHED: \"messageFetched\",\n\tREFRESHING_MESSAGES: \"refreshingMessages\",\n\tMESSAGES_REFRESHED: \"messageRefreshed\",\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n\tSTART_AUDIO_CALL: \"startAudioCall\",\n\tSTART_VIDEO_CALL: \"startVideoCall\",\n\tOUTGOING_CALL_ACCEPTED: \"outgoingCallAccepted\",\n\tOUTGOING_CALL_REJECTED: \"outgoingCallRejected\",\n\tOUTGOING_CALL_CANCELLED: \"outgoingCallCancelled\",\n\tINCOMING_CALL_ACCEPTED: \"incomingCallAccepted\",\n\tINCOMING_CALL_REJECTED: \"incomingCallRejected\",\n\tCALL_ENDED: \"callEnded\",\n\tUSER_JOINED_CALL: \"userJoinedCall\",\n\tUSER_LEFT_CALL: \"userLeftCall\",\n\tDELETE_CONVERSATION: \"deleteConversation\",\n\tCONVERSATION_DELETED: \"conversationDeleted\",\n\tSEND_STICKER: \"sendSticker\",\n\tCLOSE_STICKER_KEYBOARD: \"closeStickerKeyboard\",\n\tERROR: \"errorOccurred\",\n\tINFO: \"infoMessage\",\n\tTRANSLATE_MESSAGE: \"translateMessage\"\n};\n\nexport const EVENTS = {\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n};\n\n\nexport const KEYS = {\n\tMETADATA: \"metadata\",\n\tINCREMENT_UNREAD_COUNT: \"incrementUnreadCount\",\n};","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallAlertManager {\n\n    callListenerId = \"incoming_call_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                    callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const theme = {\n    fontFamily: \"Inter, sans-serif\",\n    fontSize: \"14px\",\n    primaryColor: \"#39f\",\n    secondaryTextColor: \"#808080\",\n    color: {\n        primary: \"#141414\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        search: \"rgba(20, 20, 20, 0.4)\",\n        tertiary: \"rgba(20, 20, 20, 0.5)\",\n        grey: \"rgba(20,20,20,0.04)\",\n        helpText: \"rgba(20, 20, 20, 0.6)\",\n        blue: \"#39f\",\n        white: \"#fff\",\n        red: \"#ff3b30\"\n    },\n    borderColor: {\n        primary: \"#eaeaea\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        white: \"#fff\",\n        blue: \"#39f\",\n    },\n    backgroundColor: {\n        white: \"#fff\",\n        primary: \"#E6E6E6\",\n        secondary: \"#f6f6f6\",\n        blue: \"#39f\",\n        red: \"#ff3b30\",\n        grey: \"rgba(20,20,20,0.04)\",\n        lightGrey: \"rgba(20, 20, 20, 0.08)\",\n        darkGrey: \"rgba(20,20,20,0.9)\",\n        callScreenGrey: \"#444444\",\n        silver: \"#c4c4c4\"\n    },\n    breakPoints: [\n        \"(min-width: 320px) and (max-width: 767px)\",\n        \"(min-width: 320px) and (max-width: 480px)\",\n        \"(min-width: 481px) and (max-width: 768px)\",\n        \"(min-width: 769px) and (max-width: 1024px)\",\n        \"(min-width: 1025px) and (max-width: 1200px)\",\n    ]\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { imgStyle } from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatAvatar extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imgRef = React.createRef();\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tavatarImage: srcIcon\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setAvatarImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif(prevProps !== this.props) {\n\n\t\t\tthis.setAvatarImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tsetAvatarImage = () => {\n\n\t\tif ((this.props.image).trim().length) {\n\n\t\t\tthis.getImage(this.props.image);\n\n\t\t} else if (Object.keys(this.props.user).length) {\n\n\t\t\tif (this.props.user.hasOwnProperty(\"avatar\")) {\n\n\t\t\t\tconst avatarImage = this.props.user.avatar;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst uid = this.props.user.uid;\n\t\t\t\tconst char = this.props.user.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(uid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\t\t\t}\n\n\t\t} else if (Object.keys(this.props.group).length) {\n\n\t\t\tif (this.props.group.hasOwnProperty(\"icon\")) {\n\n\t\t\t\tconst avatarImage = this.props.group.icon;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst guid = this.props.group.guid;\n\t\t\t\tconst char = this.props.group.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(guid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tgetImage = (image) => {\n\n\t\tlet img = new Image();\n\t\timg.src = image;\n\t\timg.onload = () => {\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ avatarImage: image });\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\tgenerateAvatar = (generator, data) => {\n\n\t\tconst stringToColour = function (str) {\n\n\t\t\tlet hash = 0;\n\t\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\t\thash = str.charCodeAt(i) + ((hash << 5) - hash);\n\t\t\t}\n\n\t\t\tlet colour = '#';\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\tlet value = (hash >> (i * 8)) & 0xFF;\n\t\t\t\tcolour += ('00' + value.toString(16)).substr(-2);\n\t\t\t}\n\t\t\treturn colour;\n\t\t}\n\n\t\tconst canvas = document.createElement(\"canvas\");\n\t\tconst context = canvas.getContext(\"2d\");\n\n\t\tcanvas.width = 200;\n\t\tcanvas.height = 200;\n\n\t\t// Draw background\n\t\tcontext.fillStyle = stringToColour(generator);\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t// Draw text\n\t\tcontext.font = \"bold 100px 'Inter', sans-serif\";\n\t\tcontext.fillStyle = \"white\";//foregroundColor;\n\t\tcontext.textAlign = \"center\";\n\t\tcontext.textBaseline = \"middle\";\n\t\tcontext.fillText(data, canvas.width / 2, canvas.height / 2);\n\n\t\treturn canvas.toDataURL(\"image/png\");\n\t}\n\n\trender() {\n\n\t\tconst borderWidth = this.props.borderWidth;\n\t\tconst borderStyle = this.props.borderStyle;\n\t\tconst borderColor = this.props.borderColor;\n\t\tconst cornerRadius = this.props.cornerRadius;\n\n\t\tconst getStyle = () => ({ borderWidth: borderWidth, borderStyle: borderStyle, borderColor: borderColor, borderRadius: cornerRadius });\n\n\t\treturn (\n\t\t\t<img src={this.state.avatarImage} css={imgStyle()} alt={this.state.avatarImage} style={getStyle()} ref={el => { this.imgRef = el;}} />\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatAvatar.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderStyle: \"solid\",\n\tborderColor: theme.borderColor.primary,\n\tcornerRadius: \"50%\",\n\ttheme: theme,\n\timage: \"\",\n\tuser: {},\n\tgroup: {},\n};\n\nCometChatAvatar.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderStyle: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n\timage: PropTypes.string,\n\ttheme: PropTypes.object,\n\tuser: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.User)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)])\n}\n\nexport { CometChatAvatar };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const imgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        display: \"inherit\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}","export const backdropStyle = (props) => {\n\n    return {\n        zIndex: \"3\",\n        backgroundColor: \"#000\",\n        opacity: \".3\",\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        top: \"0\",\n        left: \"0\",\n        cursor: \"pointer\",\n        transition: \"background .3s ease-out 0\",\n        ...props.style,\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport {\n    backdropStyle\n} from \"./style\";\n\nconst CometChatBackdrop = props => (props.show ? <div css={backdropStyle(props)} className=\"modal__backdrop\" onClick={props.clicked}></div> : null);\n\n// Specifies the default values for props:\nCometChatBackdrop.defaultProps = {\n\tshow: false,\n\tstyle: {},\n\tclicked: () => {},\n};\n\nCometChatBackdrop.propTypes = {\n    show: PropTypes.bool,\n    style: PropTypes.object,\n    clicked: PropTypes.func,\n}\n\nexport { CometChatBackdrop };","export const badgeStyle = (props) => {\n\n    return {\n        display: \"block\",\n        fontSize: \"12px\",\n        width: \"auto\",\n        height: \"18px\",\n        borderRadius: \"16px\",\n        backgroundColor: `${props.theme.primaryColor}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        fontWeight: \"700\",\n        lineHeight: \"18px\",\n        marginLeft: \"4px\",\n        padding: \"0 9px\",\n        marginRight: \"2px\",\n        opacity: \"1\",\n        transition: \"opacity .1s\",\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { theme } from \"../../../resources/theme\";\nimport { badgeStyle } from \"./style\";\n\nconst CometChatBadgeCount = (props) => {\n\n\tlet badgeCount = null;\n\t\n\tif(props.count) {\n\t\tbadgeCount = (\n\t\t\t<span css={badgeStyle(props)} className=\"unread-count\">{props.count}</span>\n\t\t);\n\t}\n\t\n\treturn badgeCount;\n}\n\n// Specifies the default values for props:\nCometChatBadgeCount.defaultProps = {\n\tcount: 0,\n\ttheme: theme\n};\n\nCometChatBadgeCount.propTypes = {\n\tcount: PropTypes.number,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatBadgeCount };","export const presenceStyle = (props) => {\n\n    let presenceStatus = {\n        backgroundColor: \"#C4C4C4\"\n    }\n\n    if (props.status === \"online\" || props.status === \"available\") {\n        presenceStatus = {\n            backgroundColor: \"#3BDF2F\"\n        }\n    }\n\n    return {\n        width: \"9px\",\n        height: \"9px\",\n        top: \"-12px\",\n        float: \"right\",\n        position: \"relative\",\n        ...presenceStatus\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/react\"\nimport PropTypes from \"prop-types\"\n\nimport {CometChatContext} from \"../../../util/CometChatContext\"\n\nimport {presenceStyle} from \"./style\"\n\nconst CometChatUserPresence = props => {\n\n\tconst context = React.useContext(CometChatContext);\n    const [presence, setPresence] = React.useState(false);\n\n    const togglePresence = () => {\n\n        context.FeatureRestriction.isUserPresenceEnabled().then(response => {\n\n            if (response !== presence) {\n                setPresence(response);\n            }\n\n        }).catch(error => {\n\n            if (presence !== false) {\n                setPresence(false);\n            }\n        })\n\n    }\n\n    React.useEffect(togglePresence);\n\n\t//if user presence feature is disabled\n\tif (presence === false) {\n\t\treturn null\n\t}\n\n\tconst borderWidth = props.borderWidth\n\tconst borderColor = props.borderColor\n\tconst cornerRadius = props.cornerRadius\n\n\tconst getStyle = () => ({borderWidth: borderWidth, borderStyle: \"solid\", borderColor: borderColor, borderRadius: cornerRadius})\n\n\treturn <span css={presenceStyle(props)} className=\"presence\" style={getStyle()}></span>\n}\n\n// Specifies the default values for props:\nCometChatUserPresence.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderColor: \"#eaeaea\",\n\tcornerRadius: \"50%\",\n};\n\nCometChatUserPresence.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n}\n\nexport {CometChatUserPresence}","import * as enums from \"../../util/enums.js\";\n\nimport translationAR from \"./locales/ar/translation.json\";\nimport translationDE from \"./locales/de/translation.json\";\nimport translationEN from \"./locales/en/translation.json\";\nimport translationES from \"./locales/es/translation.json\";\nimport translationFR from \"./locales/fr/translation.json\";\nimport translationHI from \"./locales/hi/translation.json\";\nimport translationMS from \"./locales/ms/translation.json\";\nimport translationPT from \"./locales/pt/translation.json\";\nimport translationRU from \"./locales/ru/translation.json\";\nimport translationZH from \"./locales/zh/translation.json\";\nimport translationZHTW from \"./locales/zh-tw/translation.json\";\nimport translationSV from \"./locales/sv/translation.json\";\nimport translationLT from \"./locales/lt/translation.json\";\nimport translationHU from \"./locales/hu/translation.json\";\n\n// the translations\nconst translations = {\n\tar: translationAR,\n\tde: translationDE,\n\ten: translationEN,\n\tes: translationES,\n\tfr: translationFR,\n\thi: translationHI,\n\tms: translationMS,\n\tpt: translationPT,\n\tru: translationRU,\n\tzh: translationZH,\n\t\"zh-tw\": translationZHTW,\n\tsv: translationSV,\n\tlt: translationLT,\n\thu: translationHU,\n};\n\nclass Translator {\n\n    static key = enums.CONSTANTS[\"LOCALE\"];\n    static rtlLanguages = [\"ar\"];\n    static defaultLanguage = \"en\";\n\n    static getLanguage = () => {\n\n        return localStorage.getItem(this.key);\n    }\n\n    static setLanguage = (language) => {\n\n        const item = this.key;\n        localStorage.setItem(item, language);\n    }\n\n    static getBrowserLanguage = () => ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage);\n\n    static getDefaultLanguage = () => {\n\n        //get the language from localstorage\n        const savedLanguage = this.getLanguage();\n\n        //get the language set in the browser\n        const browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n        let browserLanguage = browserLanguageCode;\n\n        //check if the language set in the browser has hyphen(-), if yes split and take the first element of the array\n        if (browserLanguageCode !== \"zh-tw\" && browserLanguageCode.indexOf(\"-\") !== -1) {\n\n            const browserLanguageArray = browserLanguageCode.split(\"-\");\n            browserLanguage = browserLanguageArray[0];\n        }\n\n        //if there is language set in localstorage and it is different from browser language, update local storage and return the language code\n        if (savedLanguage) {\n\n            if (savedLanguage !== browserLanguage) {\n\n                this.setLanguage(browserLanguage);\n                \n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n                \n            } else {\n\n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n            }\n\n        } else {\n\n            this.setLanguage(browserLanguage);\n\n            //if the translations are not available, default to en\n            return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n        }\n    }\n\n    static getDirection(language) {\n        return this.rtlLanguages.includes(language) ? \"rtl\" : \"ltr\";\n    }\n\n    static translate(str, language) {\n\n        if (translations.hasOwnProperty(language)) {\n\n            const languageDb = translations[language];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n\n        } else {\n\n            const languageDb = translations[this.defaultLanguage];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n        }\n    }\n}\n\nexport default Translator;","export const notificationContainerStyle = (props, keyframes) => {\n\n    // const toastInRight = keyframes`\n    // from {transform: translateX(100%);}\n    // to {transform: translateX(0);}`;\n\n    // const toastInLeft = keyframes`\n    //     from {transform: translateX(-100%); }\n    //     to {transform: translateX(0);}`;\n\n    // let positionProp = {}\n    // if (props.position === \"top-right\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-right\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"top-left\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-left\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n    // }\n\n    return {\n        fontSize: \"14px\",\n        boxSizing: \"border-box\",\n        position: \"absolute\",\n        zIndex: \"5\",\n        width: \"80%\",\n        maxWidth: \"320px\",\n        top: \"70px\",\n        left: \"50%\",\n        transform: \"translate(-50%, 0)\",\n    }\n}\n\nexport const notificationStyle = (props, state) => {\n\n    let backgroundColorProp = {\n        backgroundColor: \"#000\",\n    };\n    if (state.type === \"ERROR\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#d9534f\",\n        };\n\n    } else if (state.type === \"SUCCESS\") {\n       \n        backgroundColorProp = {\n            backgroundColor: \"#5cb85c\",\n        };\n\n    } else if (state.type === \"INFO\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#5bc0de\",\n        };\n\n    } else if (state.type === \"WARNING\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#f0ad4e\",\n        };\n    }\n\n    return {\n        transition: \".3s ease\",\n        position: \"relative\",\n        pointerEvents: \"auto\",\n        overflow: \"hidden\",\n        padding: \"8px\",\n        marginBottom: \"16px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        minHeight: \"50px\",\n        boxShadow: \"0 0 10px #999\",\n        color: \"#fff\",\n        ...backgroundColorProp,\n        backgroundPosition: \"15px\",\n        backgroundRepeat: \"no-repeat\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        boxSizing: \"border-box\"\n    }\n}\n\nexport const notificationIconStyle = () => {\n\n    return {\n        marginRight: \"16px\",\n        width: \"25px\",\n        height: \"25px\",\n        flexShrink: \"0\",\n        \"img\": {\n            maxWidth: \"100%\",\n        }\n    }\n}\n\nexport const notificationMessageContainerStyle = () => {\n\n    return {\n        width: \"calc(100% - 60px)\"\n    }\n}\n\nexport const notificationMessageStyle = () => {\n\n    return {\n        margin: \"0\",\n        textAlign: \"left\",\n        marginLeft: \"-1px\",\n    }\n}\n\nexport const notificationCloseButtonStyle = () => {\n\n    return {\n        width: \"25px\",\n        height: \"25px\",\n        padding: \"0\",\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"transparent\",\n        cursor:\" pointer\",\n        \"img\": {\n            flexShrink: \"0\",\n            maxWidth: \"100%\"\n        }\n    }\n}\n\nexport const iconStyle = (img, theme) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${theme.color.white}`,\n    };\n}\n","export default __webpack_public_path__ + \"static/media/close-circle-filled.2b9a0857.svg\";","export default __webpack_public_path__ + \"static/media/checkmark-filled.73f2a848.svg\";","export default __webpack_public_path__ + \"static/media/warning-filled.178b4e9a.svg\";","export default __webpack_public_path__ + \"static/media/info-filled.2fc272ce.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    notificationContainerStyle,\n    notificationStyle,\n    notificationIconStyle,\n    notificationMessageContainerStyle,\n    notificationMessageStyle,\n    notificationCloseButtonStyle,\n    iconStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close-circle-filled.svg\";\nimport successIcon from \"./resources/checkmark-filled.svg\";\nimport errorIcon from \"./resources/warning-filled.svg\";\nimport infoIcon from \"./resources/info-filled.svg\";\nimport warningIcon from \"./resources/warning-filled.svg\";\n\nexport class CometChatToastNotification extends React.Component {\n\n    interval;\n    static types = {\n        \"INFO\": \"info\",\n        \"WARNING\": \"warning\",\n        \"SUCCESS\": \"success\",\n        \"ERROR\": \"error\",\n    }\n\n    constructor(props) {\n\n        super(props);\n\n        this._isMounted = false;\n        this.state = { \n            type: \"\",\n            message: \"\"\n        };\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount = () => {\n\n        this._isMounted = false;\n        this.clearAutoDismiss();\n    }\n\n    setInfo = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"INFO\", message: message, icon: infoIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setError = (message) => {\n        \n        if (this._isMounted) {\n\n            this.setState({ type: \"ERROR\", message: message, icon: errorIcon });\n            //this.setAutoDismiss();\n        }\n    }\n\n    setSuccess = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"SUCCESS\", message: message, icon: successIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setWarning = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"WARNING\", message: message, icon: warningIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setAutoDismiss = () => {\n\n        this.clearAutoDismiss();\n        \n        if (this.props.autoDelete) {\n            this.interval = setTimeout(() => this.deleteToast(), this.props.dismissTime);\n        }\n    }\n\n    clearAutoDismiss = () => {\n        clearTimeout(this.interval);\n    }\n\n    deleteToast = () => {\n        this.setState({ type: \"\", message: \"\", icon: \"\" });\n    }\n\n    render() {\n\n        if (!this.state.type.trim().length || !this.state.message.trim().length) {\n            return null;\n        }\n\n        const messageClassName = `toast__message message-${CometChatToastNotification.types[this.state.type]}`;\n        const iconClassName = `toast__icon icon-${CometChatToastNotification.types[this.state.type]}`;\n        let toastIcon = (this.state.icon.trim().length) ? (\n\n            <div css={notificationIconStyle()} className={iconClassName}>\n                <i css={iconStyle(this.state.icon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n            </div>\n        ) : null;\n\n        return (\n            <div css={notificationContainerStyle(this.props, keyframes)} className=\"toast__notification\">\n                <div css={notificationStyle(this.props, this.state)} className=\"toast__container\">\n                    {toastIcon}\n                    <div css={notificationMessageContainerStyle()} className={messageClassName}>\n                        <p css={notificationMessageStyle()}>{Translator.translate(this.state.message, this.props.lang)}</p>\n                    </div>\n                    <button css={notificationCloseButtonStyle()} type=\"button\" onClick={this.deleteToast} className=\"toast__close\">\n                        <i css={iconStyle(closeIcon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nCometChatToastNotification.defaultProps = {\n\ttype: \"\",\n\tmessage: \"\",\n\ticon: \"\",\n\tposition: \"center\",\n\tautoDelete: true,\n\tdismissTime: 3000,\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatToastNotification.propTypes = {\n\ttype: PropTypes.oneOf(Object.values(CometChatToastNotification.types).concat(\"\")),\n\tmessage: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tposition: PropTypes.oneOf([\"top-right\", \"bottom-right\", \"top-left\", \"bottom-left\", \"center\"]),\n\tautoDelete: PropTypes.bool,\n\tdismissTime: PropTypes.number,\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n};\n","export const alertWrapperStyle = props => {\n\treturn {\n\t\twidth: \"calc(100% - 32px)\",\n\t\theight: \"auto\",\n\t\tbackgroundColor: `${props.theme.backgroundColor.white}`,\n\t\tposition: \"absolute\",\n\t\tmargin: \"0 auto\",\n\t\tpadding: \"16px\",\n\t\tfontSize: \"13px\",\n\t\tborderRadius: \"8px\",\n\t\tborder: \"1px solid #eee\",\n\t\tzIndex: \"4\",\n\t\ttop: \"50%\",\n\t\tleft: \"0\",\n\t\tright: \"0\",\n\t\ttransform: \"translateY(-50%)\",\n\t};\n};\n\nexport const alertMessageStyle = () => {\n\treturn {\n\t\ttextAlign: \"center\"\n\t}\n}\n\nexport const alertButtonStyle = (props) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tmargin: \"24px 0 0 0\",\n\t\t\"> button\": {\n\t\t\tpadding: \"5px 24px\",\n\t\t\tmargin: \"0 8px\",\n\t\t\tborderRadius: \"4px\",\n\t\t\tfontSize: \"12px\",\n\t\t\tfontWeight: \"600\",\n\t\t\tborder: `1px solid ${props.theme.primaryColor}`,\n\t\t},\n\t\t\"> button[value=yes]\": {\n\t\t\tbackgroundColor: `${props.theme.primaryColor}`,\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t},\n\t\t\"> button[value=no]\": {\n\t\t\tbackgroundColor: `${props.theme.backgroundColor.secondary}`,\n\t\t},\n\t};\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/react\";\n\nimport { CometChatBackdrop } from \"../\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {alertWrapperStyle, alertMessageStyle, alertButtonStyle} from \"./style\";\n\nclass CometChatConfirmDialog extends React.Component {\n\n    render() {\n\n        const confirmButtonText = this.props?.confirmButtonText ? this.props.confirmButtonText : Translator.translate(\"YES\", this.context.language);\n        const cancelButtonText = this.props?.cancelButtonText ? this.props.cancelButtonText : Translator.translate(\"NO\", this.getContext().language);\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} style={{position:\"absolute\"}} clicked={this.props.close} />\n                <div className=\"confirm__dialog\" css={alertWrapperStyle(this.props)}>\n                    <div className=\"confirm__message\" css={alertMessageStyle(this.props)}>{this.props?.message}</div>\n                    <div className=\"confirm__buttons\" css={alertButtonStyle(this.props)}>\n                        <button type=\"button\" value=\"no\" onClick={this.props.onClick}>{cancelButtonText}</button>\n                        <button type=\"button\" value=\"yes\" onClick={this.props.onClick}>{confirmButtonText}</button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport { CometChatConfirmDialog };\n","import tabList from \"../resources/tabs.json\";\n\nexport class UIKitSettings {\n\twidgetSettings;\n\n\tstatic userListFilterOptions = {\n\t\tALL: \"all_users\",\n\t\tNONE: \"none\",\n\t\tFRIENDS: \"friends\",\n\t};\n\n\tstatic groupListFilterOptions = {\n\t\tPUBLIC: \"public_groups\",\n\t\tPASSWORD: \"password_protected_groups\",\n\t\tPUBLIC_AND_PASSWORD: \"public_and_password_protected_groups\",\n\t};\n\n\tstatic chatListFilterOptions = {\n\t\tUSERS: \"users\",\n\t\tGROUPS: \"groups\",\n\t\tUSERS_AND_GROUPS: \"all_chats\",\n\t};\n\n\tconstructor() {\n\t\tthis.customJS = \"\";\n\t\tthis.customCSS = \"\";\n\t\tthis.backgroundColor = \"\";\n\t\tthis.primaryColor = \"\";\n\t\tthis.foregroundColor = \"\";\n\t\tthis.overrideSystemBackgroundColor = \"\";\n\n\t\tthis.chatWindow = window;\n\n\t\tthis.userListMode = UIKitSettings.userListFilterOptions[\"ALL\"];\n\t\tthis.groupInMode = UIKitSettings.groupListFilterOptions[\"PUBLIC_AND_PASSWORD\"];\n\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[\"USERS_AND_GROUPS\"];\n\n\t\tthis.chats = true;\n\t\tthis.calls = false;\n\t\tthis.users = true;\n\t\tthis.groups = true;\n\t\tthis.userSettings = true;\n\t\tthis.tabs = Object.values(tabList);\n\n\t\tthis.searchUsers = true;\n\t\tthis.searchGroups = true;\n\t\tthis.searchMessages = true;\n\t\tthis.searchChats = true;\n\n\t\tthis.unreadCount = true;\n\n\t\tthis.publicGroup = true;\n\t\tthis.privateGroup = true;\n\t\tthis.passwordGroup = true;\n\n\t\tthis.blockUser = true;\n\t\tthis.viewShareMedia = true;\n\n\t\tthis.groupCreation = true;\n\t\tthis.allowDeleteGroup = true;\n\t\tthis.joinOrLeaveGroup = true;\n\t\tthis.viewGroupMembers = true;\n\t\tthis.kickMember = true;\n\t\tthis.banMember = true;\n\t\tthis.allowPromoteDemoteMembers = true;\n\t\tthis.allowAddMembers = true;\n\n\t\tthis.callNotifications = true;\n\t\tthis.joinLeaveNotifications = true;\n\n\t\tthis.enableSoundForMessages = true;\n\t\tthis.enableSoundForCalls = true;\n\n\t\tthis.userVideoCall = true;\n\t\tthis.groupVideoCall = true;\n\t\tthis.userAudioCall = true;\n\t\tthis.groupAudioCall = true;\n\n\t\tthis.sendTypingIndicator = true;\n\t\tthis.showUserPresence = true;\n\t\tthis.showReadDeliveryReceipts = true;\n\n\t\tthis.threadedChats = true;\n\t\tthis.hideDeletedMessages = false;\n\n\t\tthis.sendMessageInOneOnOne = true;\n\t\tthis.sendMessageInGroup = true;\n\t\tthis.editMessage = true;\n\t\tthis.deleteMessage = true;\n\t\tthis.replyingToMessage = true;\n\n\t\tthis.sendEmojis = true;\n\t\tthis.sendEmojisInLargerSize = true;\n\t\tthis.sendGifs = false;\n\t\tthis.shareCopyForwardMessage = false;\n\t\tthis.sendFiles = true;\n\t\tthis.sendPhotoVideos = true;\n\t\tthis.sendVoiceNotes = true;\n\t\tthis.sendLiveReaction = true;\n\n\t\tthis.sendMessageReaction = true;\n\t\tthis.collaborativeWhiteboard = true;\n\t\tthis.collaborativeDocument = true;\n\t\tthis.sendStickers = true;\n\t\tthis.shareLocation = false;\n\t\tthis.polls = true;\n\t\tthis.messageTranslation = true;\n\n\t\tthis.allowModeratorToDeleteMemberMessages = true;\n\t\tthis.setGroupInQnaModeByModerators = false;\n\t\tthis.highlightMessageFromModerators = false;\n\t\tthis.emailReplies = true;\n\t\tthis.smartReplies = true;\n\t\tthis.callRecording = true;\n\t\tthis.callLiveStreaming = true;\n\t\tthis.callTranscription = true;\n\t\tthis.thumbnailGeneration = true;\n\t\tthis.linkPreview = true;\n\t\tthis.saveMessages = true;\n\t\tthis.pinMessages = true;\n\t\tthis.richMediaPreview = true;\n\t\tthis.voiceTranscription = true;\n\t\tthis.mentions = true;\n\t\tthis.xssFilter = true;\n\t\tthis.profanityFilter = true;\n\t\tthis.imageModeration = true;\n\t\tthis.dataMasking = true;\n\t\tthis.malwareScanner = true;\n\t\tthis.sentimentAnalysis = true;\n\t\tthis.inflightMessageModeration = true;\n\t\tthis.messageHistory = true;\n\n\t\tthis.viewProfile = true;\n\t\tthis.messageInPrivate = true;\n\n\t\tthis.showCallRecordingOption = true;\n\t}\n\n\tsetCustomJS = customJS => {\n\t\tthis.customJS = customJS;\n\t};\n\n\tsetCustomCSS = customCSS => {\n\t\tthis.customCSS = customCSS;\n\t};\n\n\tsetTabs = tabList => {\n\t\tthis.tabs = tabList;\n\t};\n\n\tsetUserSettings = userSettings => {\n\t\tthis.userSettings = userSettings;\n\t};\n\n\tsetCalls = calls => {\n\t\tthis.calls = calls;\n\t};\n\n\tsetUsers = users => {\n\t\tthis.users = users;\n\t};\n\n\tsetChats = chats => {\n\t\tthis.chats = chats;\n\t};\n\n\tsetGroups = groups => {\n\t\tthis.groups = groups;\n\t};\n\n\tsetChatListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst chatListFilterKey = this.returnMatchedKey(UIKitSettings.chatListFilterOptions, option);\n\t\tif (chatListFilterKey) {\n\t\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[chatListFilterKey];\n\t\t}\n\t};\n\n\tsetUserListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst userListFilterKey = this.returnMatchedKey(UIKitSettings.userListFilterOptions, option);\n\t\tif (userListFilterKey) {\n\t\t\tthis.userListMode = UIKitSettings.userListFilterOptions[userListFilterKey];\n\t\t}\n\t};\n\n\tsetGroupListMode = () => {};\n\n\tsetUserVideoCall = userVideoCall => {\n\t\tthis.userVideoCall = userVideoCall;\n\t};\n\n\tsetGroupVideoCall = groupVideoCall => {\n\t\tthis.groupVideoCall = groupVideoCall;\n\t};\n\n\tsetUserAudioCall = userAudioCall => {\n\t\tthis.userAudioCall = userAudioCall;\n\t};\n\n\tsetGroupAudioCall = groupAudioCall => {\n\t\tthis.groupAudioCall = groupAudioCall;\n\t};\n\n\tsetEditMessage = editMessage => {\n\t\tthis.editMessage = editMessage;\n\t};\n\n\tsetSendMessageInOneOnOne = sendMessageInOneOnOne => {\n\t\tthis.sendMessageInOneOnOne = sendMessageInOneOnOne;\n\t};\n\n\tsetSendMessageInGroup = sendMessageInGroup => {\n\t\tthis.sendMessageInGroup = sendMessageInGroup;\n\t};\n\n\tsetJoinOrLeaveGroup = joinOrLeaveGroup => {\n\t\tthis.joinOrLeaveGroup = joinOrLeaveGroup;\n\t};\n\n\tsetBlockUser = blockUser => {\n\t\tthis.blockUser = blockUser;\n\t};\n\n\tsetSendEmojis = sendEmojis => {\n\t\tthis.sendEmojis = sendEmojis;\n\t};\n\n\tsetSendEmojisInLargerSize = sendEmojisInLargerSize => {\n\t\tthis.sendEmojisInLargerSize = sendEmojisInLargerSize;\n\t};\n\n\tsetSendGifs = sendGifs => {\n\t\tthis.sendGifs = sendGifs;\n\t};\n\n\tsetShareCopyForwardMessage = shareCopyForwardMessage => {\n\t\tthis.shareCopyForwardMessage = shareCopyForwardMessage;\n\t};\n\n\tsetSendFiles = sendFiles => {\n\t\tthis.sendFiles = sendFiles;\n\t};\n\n\tsetSendPhotoVideos = sendPhotoVideos => {\n\t\tthis.sendPhotoVideos = sendPhotoVideos;\n\t};\n\n\tsetViewShareMedia = viewShareMedia => {\n\t\tthis.viewShareMedia = viewShareMedia;\n\t};\n\n\tsetEnableSoundForMessages = enableSoundForMessages => {\n\t\tthis.enableSoundForMessages = enableSoundForMessages;\n\t};\n\n\tsetEnableSoundForCalls = enableSoundForCalls => {\n\t\tthis.enableSoundForCalls = enableSoundForCalls;\n\t};\n\n\tsetSendStickers = sendStickers => {\n\t\tthis.sendStickers = sendStickers;\n\t};\n\n\tsetViewGroupMembers = viewGroupMembers => {\n\t\tthis.viewGroupMembers = viewGroupMembers;\n\t};\n\n\tsetCallNotifications = callNotifications => {\n\t\tthis.callNotifications = callNotifications;\n\t};\n\n\tsetAllowDeleteGroup = allowDeleteGroup => {\n\t\tthis.allowDeleteGroup = allowDeleteGroup;\n\t};\n\n\tsetKickMember = kickMember => {\n\t\tthis.kickMember = kickMember;\n\t};\n\n\tsetBanMember = banMember => {\n\t\tthis.banMember = banMember;\n\t};\n\n\tsetAllowPromoteDemoteMembers = allowPromoteDemoteMembers => {\n\t\tthis.allowPromoteDemoteMembers = allowPromoteDemoteMembers;\n\t};\n\n\tsetAllowAddMembers = allowAddMembers => {\n\t\tthis.allowAddMembers = allowAddMembers;\n\t};\n\n\tsetShareLocation = shareLocation => {\n\t\tthis.shareLocation = shareLocation;\n\t};\n\n\tsetJoinLeaveNotifications = joinLeaveNotifications => {\n\t\tthis.joinLeaveNotifications = joinLeaveNotifications;\n\t};\n\n\tsetSendVoiceNotes = sendVoiceNotes => {\n\t\tthis.sendVoiceNotes = sendVoiceNotes;\n\t};\n\n\tsetMessageTranslation = messageTranslation => {\n\t\tthis.messageTranslation = messageTranslation;\n\t};\n\n\tsetGroupCreation = groupCreation => {\n\t\tthis.groupCreation = groupCreation;\n\t};\n\n\tsetSendTypingIndicator = sendTypingIndicator => {\n\t\tthis.sendTypingIndicator = sendTypingIndicator;\n\t};\n\n\tsetShowUserPresence = showUserPresence => {\n\t\tthis.showUserPresence = showUserPresence;\n\t};\n\n\tsetDeleteMessage = deleteMessage => {\n\t\tthis.deleteMessage = deleteMessage;\n\t};\n\n\tsetThreadedChats = threadedChats => {\n\t\tthis.threadedChats = threadedChats;\n\t};\n\n\tsetReplyingToMessage = replyingToMessage => {\n\t\tthis.replyingToMessage = replyingToMessage;\n\t};\n\n\tsetShowReadDeliveryReceipts = showReadDeliveryReceipts => {\n\t\tthis.showReadDeliveryReceipts = showReadDeliveryReceipts;\n\t};\n\n\tsetHideDeletedMessages = hideDeletedMessages => {\n\t\tthis.hideDeletedMessages = hideDeletedMessages;\n\t};\n\n\tsetEmailReplies = emailReplies => {\n\t\tthis.emailReplies = emailReplies;\n\t};\n\n\tsetSendMessageReaction = sendMessageReaction => {\n\t\tthis.sendMessageReaction = sendMessageReaction;\n\t};\n\n\tsetCollaborativeWhiteboard = collaborativeWhiteboard => {\n\t\tthis.collaborativeWhiteboard = collaborativeWhiteboard;\n\t};\n\n\tsetCollaborativeDocument = collaborativeDocument => {\n\t\tthis.collaborativeDocument = collaborativeDocument;\n\t};\n\n\tsetPolls = polls => {\n\t\tthis.polls = polls;\n\t};\n\n\tsetSendLiveReaction = sendLiveReaction => {\n\t\tthis.sendLiveReaction = sendLiveReaction;\n\t};\n\n\tsetPublicGroup = publicGroup => {\n\t\tthis.publicGroup = publicGroup;\n\t};\n\n\tsetPrivateGroup = privateGroup => {\n\t\tthis.privateGroup = privateGroup;\n\t};\n\n\tsetPasswordGroup = passwordGroup => {\n\t\tthis.passwordGroup = passwordGroup;\n\t};\n\n\tsetAllowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages => {\n\t\tthis.allowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages;\n\t};\n\n\tsetUnreadCount = unreadCount => {\n\t\tthis.unreadCount = unreadCount;\n\t};\n\n\tsetSmartReplies = smartReplies => {\n\t\tthis.smartReplies = smartReplies;\n\t};\n\n\tsetSearchUsers = searchUsers => {\n\t\tthis.searchUsers = searchUsers;\n\t};\n\n\tsetSearchGroups = searchGroups => {\n\t\tthis.searchGroups = searchGroups;\n\t};\n\n\tsetSearchMessages = searchMessages => {\n\t\tthis.searchMessages = searchMessages;\n\t};\n\n\tsetCallRecording = callRecording => {\n\t\tthis.callRecording = callRecording;\n\t};\n\n\tsetCallLiveStreaming = callLiveStreaming => {\n\t\tthis.callLiveStreaming = callLiveStreaming;\n\t};\n\n\tsetCallTranscription = callTranscription => {\n\t\tthis.callTranscription = callTranscription;\n\t};\n\n\tsetThumbnailGeneration = thumbnailGeneration => {\n\t\tthis.thumbnailGeneration = thumbnailGeneration;\n\t};\n\n\tsetLinkPreview = linkPreview => {\n\t\tthis.linkPreview = linkPreview;\n\t};\n\n\tsetSaveMessages = saveMessages => {\n\t\tthis.saveMessages = saveMessages;\n\t};\n\n\tsetPinMessages = pinMessages => {\n\t\tthis.pinMessages = pinMessages;\n\t};\n\n\tsetRichMediaPreview = richMediaPreview => {\n\t\tthis.richMediaPreview = richMediaPreview;\n\t};\n\n\tsetVoiceTranscription = voiceTranscription => {\n\t\tthis.voiceTranscription = voiceTranscription;\n\t};\n\n\tsetMentions = mentions => {\n\t\tthis.mentions = mentions;\n\t};\n\n\tsetXssFilter = xssFilter => {\n\t\tthis.xssFilter = xssFilter;\n\t};\n\n\tsetProfanityFilter = profanityFilter => {\n\t\tthis.profanityFilter = profanityFilter;\n\t};\n\n\tsetImageModeration = imageModeration => {\n\t\tthis.imageModeration = imageModeration;\n\t};\n\n\tsetDataMasking = dataMasking => {\n\t\tthis.dataMasking = dataMasking;\n\t};\n\n\tsetMalwareScanner = malwareScanner => {\n\t\tthis.malwareScanner = malwareScanner;\n\t};\n\n\tsetSentimentAnalysis = sentimentAnalysis => {\n\t\tthis.sentimentAnalysis = sentimentAnalysis;\n\t};\n\n\tsetInflightMessageModeration = inflightMessageModeration => {\n\t\tthis.inflightMessageModeration = inflightMessageModeration;\n\t};\n\n\tsetMessageHistory = messageHistory => {\n\t\tthis.messageHistory = messageHistory;\n\t};\n\n\tsetViewProfile = viewProfile => {\n\t\tthis.viewProfile = viewProfile;\n\t};\n\n\tsetMessageInPrivate = messageInPrivate => {\n\t\tthis.messageInPrivate = messageInPrivate;\n\t};\n\n\tsetShowCallRecordingOption = showCallRecordingOption => {\n\t\tthis.showCallRecordingOption = showCallRecordingOption;\n\t};\n\n\tsetChatWindow = chatWindow => {\n\t\tthis.chatWindow = chatWindow;\n\t};\n\n\treturnMatchedKey = (matchWith, optionToMatch) => {\n\t\tfor (const [key, value] of Object.entries(matchWith)) {\n\t\t\tif (value === optionToMatch) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport class FeatureRestriction {\n\t/**\n\t * Core Chat\n\t */\n\tstatic chat_users_list_enabled = \"core.chat.users.list.enabled\";\n\tstatic chat_users_presence_enabled = \"core.chat.users.presence.enabled\";\n\tstatic chat_users_search_enabled = \"core.chat.users.search.enabled\";\n\n\tstatic chat_groups_enabled = \"core.chat.groups.enabled\";\n\tstatic chat_groups_public_enabled = \"core.chat.groups.public.enabled\";\n\tstatic chat_groups_private_enabled = \"core.chat.groups.private.enabled\";\n\tstatic chat_groups_password_enabled = \"core.chat.groups.password.enabled\";\n\tstatic chat_groups_search_enabled = \"core.chat.groups.search.enabled\";\n\n\tstatic chat_messages_media_enabled = \"core.chat.messages.media.enabled\";\n\tstatic chat_messages_threads_enabled = \"core.chat.messages.threads.enabled\";\n\tstatic chat_messages_replies_enabled = \"core.chat.messages.replies.enabled\";\n\tstatic chat_messages_receipts_enabled = \"core.chat.messages.receipts.enabled\";\n\tstatic chat_messages_unread_count_enabled = \"core.chat.messages.unread-count.enabled\";\n\tstatic chat_messages_search_enabled = \"core.chat.messages.search.enabled\";\n\tstatic chat_messages_history_enabled = \"core.chat.messages.history.enabled\";\n\tstatic chat_messages_custom_enabled = \"core.chat.messages.custom.enabled\";\n\n\tstatic chat_one_on_one_enabled = \"core.chat.one-on-one.enabled\";\n\tstatic chat_voice_notes_enabled = \"core.chat.voice-notes.enabled\";\n\tstatic chat_typing_indicator_enabled = \"core.chat.typing-indicator.enabled\";\n\n\t/**\n\t * Voice & Video Calling/Conferencing\n\t */\n\tstatic calls_enabled = \"core.call.enabled\";\n\tstatic call_one_on_one_video_enabled = \"core.call.one-on-one.video.enabled\";\n\tstatic call_groups_video_enabled = \"core.call.groups.video.enabled\";\n\tstatic call_one_on_one_audio_enabled = \"core.call.one-on-one.audio.enabled\";\n\tstatic call_groups_audio_enabled = \"core.call.groups.audio.enabled\";\n\tstatic call_recording_enabled = \"core.call.recording.enabled\";\n\tstatic call_live_streaming_enabled = \"core.call.live-streaming.enabled\";\n\tstatic call_transcript_enabled = \"core.call.transcript.enabled\";\n\n\t/**\n\t * Collaboration\n\t */\n\tstatic collaboration_whiteboard_enabled = \"features.collaboration.whiteboard.enabled\";\n\tstatic collaboration_document_enabled = \"features.collaboration.document.enabled\";\n\n\t/**\n\t * Moderation\n\t */\n\tstatic moderation_groups_moderators_enabled = \"features.moderation.groups.moderators.enabled\";\n\tstatic moderation_users_block_enabled = \"features.moderation.users.block.enabled\";\n\tstatic moderation_groups_kick_enabled = \"features.moderation.groups.kick.enabled\";\n\tstatic moderation_groups_ban_enabled = \"features.moderation.groups.ban.enabled\";\n\tstatic moderation_xss_filter_enabled = \"features.moderation.xss-filter.enabled\";\n\tstatic moderation_profanity_filter_enabled = \"features.moderation.profanity-filter.enabled\";\n\tstatic moderation_image_moderation_enabled = \"features.moderation.image-moderation.enabled\";\n\tstatic moderation_data_masking_enabled = \"features.moderation.data-masking.enabled\";\n\tstatic moderation_malware_scanner_enabled = \"features.moderation.malware-scanner.enabled\";\n\tstatic moderation_sentiment_analysis_enabled = \"features.moderation.sentiment-analysis.enabled\";\n\tstatic moderation_inflight_message_moderation_enabled = \"features.moderation.inflight-message-moderation.enabled\";\n\n\t/**\n\t * User Engagement\n\t */\n\tstatic reactions_enabled = \"features.ue.reactions.enabled\";\n\tstatic emojis_enabled = \"features.ue.emojis.enabled\";\n\tstatic stickers_enabled = \"features.ue.stickers.enabled\";\n\tstatic message_translation_enabled = \"features.ue.message-translation.enabled\";\n\tstatic email_replies_enabled = \"features.ue.email-replies.enabled\";\n\tstatic polls_enabled = \"features.ue.polls.enabled\";\n\tstatic live_reactions_enabled = \"features.ue.live-reactions.enabled\";\n\tstatic smart_replies_enabled = \"features.ue.smart-replies.enabled\";\n\tstatic mentions_enabled = \"features.ue.mentions.enabled\";\n\n\t/**\n\t * User Experience\n\t */\n\tstatic thumbnail_generation_enabled = \"features.ux.thumbnail-generation.enabled\";\n\tstatic link_preview_enabled = \"features.ux.link-preview.enabled\";\n\tstatic messages_saved_enabled = \"features.ux.messages.saved.enabled\";\n\tstatic messages_pinned_enabled = \"features.ux.messages.pinned.enabled\";\n\tstatic rich_media_preview_enabled = \"features.ux.rich-media-preview.enabled\";\n\tstatic voice_transcription_enabled = \"features.ux.voice-transcription.enabled\";\n\n\t/**\n\t * Extensions slug\n\t */\n\tstatic dataMasking = \"data-masking\";\n\tstatic profanityFilter = \"profanity-filter\";\n\tstatic thumbnailGeneration = \"thumbnail-generator\";\n\tstatic linkPreview = \"link-preview\";\n\tstatic richMediaPreview = \"rich-media\";\n\tstatic sticker = \"stickers\";\n\tstatic reactions = \"reactions\";\n\tstatic messageTranslation = \"message-translation\";\n\tstatic smartReplies = \"smart-reply\";\n\tstatic collaborationWhiteboard = \"whiteboard\";\n\tstatic collaborationDocument = \"document\";\n\tstatic pinMessages = \"pin-message\";\n\tstatic saveMessages = \"save-message\";\n\tstatic voiceTranscription = \"voice-transcription\";\n\tstatic polls = \"polls\";\n\tstatic xssFilter = \"xss-filter\";\n\tstatic imageModeration = \"image-moderation\";\n\tstatic malwareScanner = \"virus-malware-scanner\";\n\tstatic sentimentAnalysis = \"sentiment-analysis\";\n\tstatic emailReplies = \"email-replies\";\n\tstatic emojis = \"emojis\";\n\tstatic mentions = \"mentions\";\n\n\tstatic isExtensionEnabled = extensionKey => {\n\t\treturn new Promise(resolve =>\n\t\t\tCometChat.isExtensionEnabled(extensionKey)\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false)),\n\t\t);\n\t};\n\n\tUIKitSettings;\n\n\tconstructor(UIKitSettings) {\n\t\tthis.UIKitSettings = UIKitSettings;\n\t}\n\n\tisRecentChatListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.chats));\n\tisGroupListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groups));\n\tisUserSettingsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.userSettings));\n\tisEditMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.editMessage));\n\tisQNAModeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.setGroupInQnaModeByModerators));\n\tisHighlightMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.highlightMessageFromModerators));\n\tisJoinLeaveGroupsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinOrLeaveGroup));\n\tisLargerSizeEmojisEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendEmojisInLargerSize));\n\tisGifsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendGifs));\n\tisShareCopyForwardMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareCopyForwardMessage));\n\tisSharedMediaEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewShareMedia));\n\tisMessagesSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForMessages));\n\tisCallsSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForCalls));\n\tisViewingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewGroupMembers));\n\tisCallActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.callNotifications));\n\tisGroupDeletionEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowDeleteGroup));\n\tisChangingGroupMemberScopeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowPromoteDemoteMembers));\n\tisAddingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowAddMembers));\n\tisLocationSharingEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareLocation));\n\tisGroupActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinLeaveNotifications));\n\tisGroupCreationEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groupCreation));\n\tisDeleteMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.deleteMessage));\n\tisHideDeletedMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.hideDeletedMessages));\n\tisViewProfileEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewProfile));\n\tisMessageInPrivateEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.messageInPrivate));\n\n\tisCallListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.calls_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.calls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_list_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.users))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_one_on_one_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInOneOnOne))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeleteMemberMessageEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_moderators_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.allowModeratorToDeleteMemberMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBlockUserEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_users_block_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.blockUser))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmojisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.emojis_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendEmojis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisFilesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendFiles))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPhotosVideosEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendPhotoVideos))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisKickingGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_kick_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.kickMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBanningGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_ban_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.banMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceNotesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_voice_notes_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendVoiceNotes))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisTypingIndicatorsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_typing_indicator_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendTypingIndicator))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserPresenceEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_presence_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showUserPresence))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThreadedMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_threads_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.threadedChats))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_replies_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.replyingToMessage))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeliveryReceiptsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_receipts_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showReadDeliveryReceipts))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLiveReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.live_reactions_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendLiveReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPublicGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_public_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.publicGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPrivateGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_private_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.privateGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPasswordGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_password_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.passwordGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUnreadCountEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_unread_count_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.unreadCount))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchUsers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchGroups))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallRecordingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_recording_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callRecording))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallLiveStreamingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_live_streaming_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callLiveStreaming))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallTranscriptEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_transcript_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageHistoryEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_history_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageHistory))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageTranslationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.message_translation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.messageTranslation))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageTranslation))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.reactions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.reactions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeWhiteBoardEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_whiteboard_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationWhiteboard))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeWhiteboard))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeDocumentEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_document_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationDocument))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeDocument))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisStickersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.stickers_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sticker))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendStickers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmailRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.email_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.emailReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.emailReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPollsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.polls_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.polls))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.polls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSmartRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.smart_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.smartReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.smartReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThumbnailGenerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.thumbnail_generation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.thumbnailGeneration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.thumbnailGeneration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLinkPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.link_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.linkPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.linkPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSaveMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_saved_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.saveMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.saveMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPinMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_pinned_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.pinMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.pinMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisRichMediaPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.rich_media_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.richMediaPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.richMediaPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceTranscriptionEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.voice_transcription_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.voiceTranscription))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.voiceTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMentionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.mentions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.mentions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.mentions))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisXssFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_xss_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.xssFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.xssFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisProfanityFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_profanity_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.profanityFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.profanityFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisImageModerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_image_moderation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.imageModeration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.imageModeration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDataMaskingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_data_masking_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.dataMasking))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.dataMasking))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMalwareScannerEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_malware_scanner_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.malwareScanner))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.malwareScanner))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSentimentAnalysisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_sentiment_analysis_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sentimentAnalysis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\t// isInFlightMessageModerationEnabled = () => {\n\n\t//     return new Promise(resolve => {\n\n\t//         CometChat.isFeatureEnabled(FeatureRestriction.moderation_inflight_message_moderation_enabled)\n\t//             .then(response => {\n\n\t//                 return response\n\t//                     && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis)\n\t//                     && this.UIKitSettings.inflightMessageModeration;\n\t//             })\n\t//             .catch(error => resolve(false));\n\t//     });\n\t// }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatToastNotification } from \"../components/Shared\";\nimport { UIKitSettings } from \"./UIKitSettings\";\nimport * as enums from \"./enums.js\";\n\nimport Translator from \"../resources/localization/translator\";\nimport { FeatureRestriction } from \"./FeatureRestriction\";\nimport { theme } from \"../resources/theme\";\n\nexport const CometChatContext = React.createContext({});\n\nexport class CometChatContextProvider extends React.Component {\n\tloggedInUser;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst settings = new UIKitSettings();\n\t\tconst featureRestriction = new FeatureRestriction(settings);\n\n\t\tthis.state = {\n\t\t\titem: {},\n\t\t\ttype: \"\",\n\t\t\ttoastMessage: props.toastMessage,\n\t\t\tgroupMembers: props.groupMembers,\n\t\t\tbannedGroupMembers: props.bannedGroupMembers,\n\t\t\tgroupAdmins: props.groupAdmins,\n\t\t\tgroupModerators: props.groupModerators,\n\t\t\tcallInProgress: props.callInProgress,\n\t\t\tcallType: \"\",\n\t\t\tdeletedGroupId: \"\",\n\t\t\tleftGroupId: \"\",\n\t\t\tlastMessage: {},\n\t\t\tunreadMessages: [],\n\t\t\tclearedUnreadMessages: false,\n\t\t\tdirectCallCustomMessage: {},\n\t\t\tdirectCallCustomMessageAction: \"\",\n\t\t\tUIKitSettings: settings,\n\t\t\tFeatureRestriction: featureRestriction,\n\t\t\ttheme: theme,\n\t\t\tlanguage: props.language,\n\t\t\troles: {\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", props.language),\n\t\t\t},\n\t\t\tgetLoggedinUser: this.getLoggedinUser,\n\t\t\tsetGroupMembers: this.setGroupMembers,\n\t\t\tupdateGroupMembers: this.updateGroupMembers,\n\t\t\tsetAllGroupMembers: this.setAllGroupMembers,\n\t\t\tsetGroupAdmins: this.setGroupAdmins,\n\t\t\tsetGroupModerators: this.setGroupModerators,\n\t\t\tsetBannedGroupMembers: this.setBannedGroupMembers,\n\t\t\tupdateBannedGroupMembers: this.updateBannedGroupMembers,\n\t\t\tclearGroupMembers: this.clearGroupMembers,\n\t\t\tsetToastMessage: this.setToastMessage,\n\t\t\tsetCallInProgress: this.setCallInProgress,\n\t\t\tsetItem: this.setItem,\n\t\t\tsetType: this.setType,\n\t\t\tsetTypeAndItem: this.setTypeAndItem,\n\t\t\tsetDeletedGroupId: this.setDeletedGroupId,\n\t\t\tsetLeftGroupId: this.setLeftGroupId,\n\t\t\tsetLastMessage: this.setLastMessage,\n\t\t\tsetClearedUnreadMessages: this.setClearedUnreadMessages,\n\t\t\tsetDirectCallCustomMessage: this.setDirectCallCustomMessage,\n\t\t\tcheckIfDirectCallIsOngoing: this.checkIfDirectCallIsOngoing,\n\t\t\tcheckIfCallIsOngoing: this.checkIfCallIsOngoing,\n\t\t\tgetActiveCallSessionID: this.getActiveCallSessionID,\n\t\t\thasKeyValue: this.hasKeyValue,\n\t\t\tsetRoles: this.setRoles,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLoggedinUser();\n\n\t\tif (this.props.user.trim().length) {\n\t\t\tthis.getUser(this.props.user.trim())\n\t\t\t\t.then(user => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\tthis.setItem(user);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length) {\n\t\t\tthis.getGroup(this.props.group.trim())\n\t\t\t\t.then(group => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\tthis.setItem(group);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.user.trim().length === 0 && this.props.group.trim().length === 0 && this.props._component === enums.CONSTANTS[\"MESSAGES_COMPONENT\"]) {\n\t\t\tconst errorCode = \"UID_OR_GUID_NOT_AVAILABLE\";\n\t\t\tthis.toastRef.setError(errorCode);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif (this.props.user.trim().length && prevProps.user !== this.props.user) {\n\t\t\tthis.getUser(this.props.user)\n\t\t\t\t.then(user => {\n\t\t\t\t\t//this.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\t//this.setItem(user);\n\t\t\t\t\tthis.setTypeAndItem(CometChat.ACTION_TYPE.TYPE_USER, user);\n\t\t\t\t\t//this.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length && prevProps.group !== this.props.group) {\n\t\t\tthis.getGroup(this.props.group)\n\t\t\t\t.then(group => {\n\t\t\t\t\t//this.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t//this.setItem(group);\n\t\t\t\t\tthis.setTypeAndItem(CometChat.ACTION_TYPE.TYPE_GROUP, group);\n\t\t\t\t\t//this.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t}\n\n\t\t//when the active group is deleted, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.deletedGroupId) {\n\t\t\t//this.setItem({});\n\t\t\t//this.setType(\"\");\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setDeletedGroupId(\"\");\n\t\t}\n\n\t\t//when the active group is left, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.leftGroupId) {\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setLeftGroupId(\"\");\n\t\t}\n\n\t\tif (prevProps.language !== this.props.language) {\n\t\t\tthis.setState({ language: this.props.language });\n\t\t\tthis.setRoles();\n\t\t}\n\t}\n\n\tsetRoles = () => {\n\t\tconst roles = {\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", this.props.language),\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", this.props.language),\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", this.props.language),\n\t\t};\n\t\tthis.setState({ roles: roles });\n\t};\n\n\tgetUser = uid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!uid) {\n\t\t\t\tconst error = { code: \"uid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getUser(uid)\n\t\t\t\t.then(user => resolve(user))\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tgetGroup = guid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!guid) {\n\t\t\t\tconst error = { code: \"guid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getGroup(guid)\n\t\t\t\t.then(group => {\n\t\t\t\t\tif (group.hasJoined === false) {\n\t\t\t\t\t\tconst guid = group.guid;\n\t\t\t\t\t\tconst groupType = group.type;\n\t\t\t\t\t\tlet password = \"\";\n\t\t\t\t\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\t\t\t\tconst promptMessage = Translator.translate(\"Enter password\", this.props.lang);\n\t\t\t\t\t\t\tpassword = prompt(promptMessage);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t\t\t\t.then(group => resolve(group))\n\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(group);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tsetToastMessage = (type, message) => {\n\t\t// switch(type) {\n\n\t\t//     case \"error\":\n\t\t//         this.toastRef.setError(message);\n\t\t//     break;\n\t\t//     case \"success\":\n\t\t//         this.toastRef.setSuccess(message);\n\t\t//         break;\n\t\t//     case \"info\":\n\t\t//         this.toastRef.setInfo(message);\n\t\t//         break;\n\t\t//     case \"warning\":\n\t\t//         this.toastRef.setWarning(message);\n\t\t//         break;\n\t\t//     default:\n\t\t//     break;\n\t\t// }\n\n\t\treturn null;\n\t};\n\n\tgetLoggedinUser = () => {\n\t\tlet timerCounter = 10000;\n\t\tlet timer = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (timerCounter === timer) {\n\t\t\t\treturn reject(`timer reached ${timerCounter}`);\n\t\t\t}\n\n\t\t\tif (this.loggedInUser) {\n\t\t\t\treturn resolve(this.loggedInUser);\n\t\t\t}\n\n\t\t\tif (!CometChat.isInitialized()) {\n\t\t\t\treturn reject(\"CometChat not initialized\");\n\t\t\t}\n\n\t\t\tthis.isUserLoggedIn = setInterval(() => {\n\t\t\t\tCometChat.getLoggedinUser()\n\t\t\t\t\t.then(user => {\n\t\t\t\t\t\tthis.loggedInUser = user;\n\t\t\t\t\t\tclearInterval(this.isUserLoggedIn);\n\t\t\t\t\t\treturn resolve(user);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => reject(error));\n\n\t\t\t\ttimer += 100;\n\t\t\t}, 100);\n\t\t});\n\n\t\t// return new Promise((resolve, reject) => {\n\t\t// \tCometChat.getLoggedinUser()\n\t\t// \t\t.then(user => resolve(user))\n\t\t// \t\t.catch(error => reject(error));\n\t\t// });\n\t};\n\n\tclearGroupMembers = () => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [],\n\t\t\tgroupAdmins: [],\n\t\t\tgroupModerators: [],\n\t\t\tbannedGroupMembers: [],\n\t\t});\n\t};\n\n\tsetAllGroupMembers = (groupMembers, groupAdmins, groupModerators) => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tupdateGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupAdmins = groupAdmins => {\n\t\tthis.setState({\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t});\n\t};\n\n\tsetGroupModerators = groupModerators => {\n\t\tthis.setState({\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tsetBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...this.state.bannedGroupMembers, ...bannedMembers],\n\t\t});\n\t};\n\n\tupdateBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...bannedMembers],\n\t\t});\n\t};\n\n\tsetCallInProgress = (call, callType) => {\n\t\tthis.setState({ callInProgress: { ...call }, callType });\n\t};\n\n\tsetItem = item => {\n\t\tthis.setState({ item: { ...item } });\n\t};\n\n\tsetType = type => {\n\t\tthis.setState({ type });\n\t};\n\n\tsetTypeAndItem = (type, item) => {\n\t\tthis.setState({ item: { ...item }, type });\n\t};\n\n\tsetDeletedGroupId = guid => {\n\t\tthis.setState({ deletedGroupId: guid });\n\t};\n\n\tsetLeftGroupId = guid => {\n\t\tthis.setState({ leftGroupId: guid });\n\t};\n\n\tsetLastMessage = message => {\n\t\tthis.setState({ lastMessage: message });\n\t};\n\n\tsetClearedUnreadMessages = flag => {\n\t\tthis.setState({ clearedUnreadMessages: flag });\n\t};\n\n\tsetDirectCallCustomMessage = (message, event) => {\n\t\tthis.setState({ directCallCustomMessage: message, directCallCustomMessageAction: event });\n\t};\n\n\tcheckIfDirectCallIsOngoing = () => {\n\t\tlet output = null;\n\n\t\tif (Object.keys(this.state.callInProgress).length && (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"])) {\n\t\t\tif (this.state.callInProgress.customData.sessionID === this.state.item.guid) {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"];\n\t\t\t} else {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"];\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tcheckIfCallIsOngoing = () => {\n\t\tif (Object.keys(this.state.callInProgress).length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\tlet sessionID;\n\t\tif (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]) {\n\t\t\tsessionID = this.state.callInProgress?.data?.customData?.sessionID;\n\t\t} else {\n\t\t\tsessionID = this.state.callInProgress?.sessionId;\n\t\t}\n\n\t\treturn sessionID;\n\t};\n\n\thasKeyValue = (data, key) => {\n\t\tif (data.hasOwnProperty(key) === false || data[key] === null || data[key] === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\trender() {\n\t\t\n\t\treturn (\n\t\t\t<CometChatContext.Provider value={this.state}>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.language} position={this.props.toastNotificationPos} />\n\t\t\t\t{this.props.children}\n\t\t\t</CometChatContext.Provider>\n\t\t);\n\t}\n}\n\nCometChatContextProvider.defaultProps = {\n\ttoastMessage: {},\n\tgroupMembers: [],\n\tbannedGroupMembers: [],\n\tgroupAdmins: [],\n\tgroupModerators: [],\n\tcallInProgress: {},\n\tuser: \"\",\n\tgroup: \"\",\n\t_component: \"\",\n\tlanguage: Translator.getDefaultLanguage(),\n};\n\nCometChatContextProvider.propTypes = {\n\ttoastMessage: PropTypes.object,\n\tgroupMembers: PropTypes.array,\n\tbannedGroupMembers: PropTypes.array,\n\tgroupAdmins: PropTypes.array,\n\tgroupModerators: PropTypes.array,\n\tcallInProgress: PropTypes.object,\n\tgroup: PropTypes.string,\n\tuser: PropTypes.string,\n\t_component: PropTypes.string,\n\tlanguage: PropTypes.string,\n};\n","export class Storage {\n\n    static attachChangeDetection = (callback) => {\n        window.addEventListener('storage', callback);\n    }\n\n    static detachChangeDetection = (callback) => {\n        window.removeEventListener('storage', callback);\n    }\n\n    static setItem = (storageKey, storageValue) => {\n        localStorage.setItem(storageKey, JSON.stringify(storageValue));\n    }\n\n    static getItem = (storageKey) => {\n        return JSON.parse(localStorage.getItem(storageKey));\n    }\n\n    static removeItem = (storageKey) => {\n        localStorage.removeItem(storageKey);\n    }\n\n    static clear = () => {\n\n    }\n}","import Translator from \"../../../resources/localization/translator\";\n\nexport const LocalizedString = language => {\n\treturn {\n\t\tSELECT_VIDEO_SOURCE: Translator.translate(\"SELECT_VIDEO_SOURCE\", language),\n\t\tSELECT_INPUT_AUDIO_SOURCE: Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", language),\n\t\tSELECT_OUTPUT_AUDIO_SOURCE: Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", language),\n\t\tSELECT_MODE: Translator.translate(\"SELECT_MODE\", language),\n\t\tCALL_RECORDING_STARTED_MSG: Translator.translate(\"CALL_RECORDING_STARTED_MSG\", language),\n\t\tUSER_JOINED_CALL_MSG: Translator.translate(\"USER_JOINED_CALL_MSG\", language),\n\t\tCALL_RECORDING_ENDED_MSG: Translator.translate(\"CALL_RECORDING_ENDED_MSG\", language),\n\t\tUSER_LEFT_CALL_MSG: Translator.translate(\"USER_LEFT_CALL_MSG\", language),\n\t\tCAMERA_ERROR_MSG: Translator.translate(\"CAMERA_ERROR_MSG\", language),\n\t\tMIC_ERROR_MSG: Translator.translate(\"MIC_ERROR_MSG\", language),\n\t\tCAMERA_MIC_ERROR_MSG: Translator.translate(\"CAMERA_MIC_ERROR_MSG\", language),\n\t\tRECORDING_TEXT: Translator.translate(\"RECORDING_TEXT\", language),\n\t\tTRYING_TO_START_RECORDING_TEXT: Translator.translate(\"TRYING_TO_START_RECORDING_TEXT\", language),\n\t\tJOINING_TEXT: Translator.translate(\"JOINING_TEXT\", language),\n\t\tUN_MUTE_AUDIO_TEXT: Translator.translate(\"UN_MUTE_AUDIO_TEXT\", language),\n\t\tMUTE_AUDIO_TEXT: Translator.translate(\"MUTE_AUDIO_TEXT\", language),\n\t\tEND_CALL_TEXT: Translator.translate(\"END_CALL_TEXT\", language),\n\t\tSTART_RECORDING_TEXT: Translator.translate(\"START_RECORDING_TEXT\", language),\n\t\tSTOP_RECORDING_TEXT: Translator.translate(\"STOP_RECORDING_TEXT\", language),\n\t\tSTART_SCREEN_SHARE_TEXT: Translator.translate(\"START_SCREEN_SHARE_TEXT\", language),\n\t\tSTOP_SCREEN_SHARE_TEXT: Translator.translate(\"STOP_SCREEN_SHARE_TEXT\", language),\n\t\tMUTE_VIDEO_TEXT: Translator.translate(\"MUTE_VIDEO_TEXT\", language),\n\t\tUN_MUTE_VIDEO_TEXT: Translator.translate(\"UN_MUTE_VIDEO_TEXT\", language),\n\t\tSELECT_LAYOUT_HEADER: Translator.translate(\"SELECT_LAYOUT_HEADER\", language),\n\t\tNO_OF_USER_IN_TILE_TEXT: Translator.translate(\"NO_OF_USER_IN_TILE_TEXT\", language),\n\t\tCHANGE_AUDIO_SOURCE: Translator.translate(\"CHANGE_AUDIO_SOURCE\", language),\n\t\tCHANGE_AUDIO_SOURCE_DESC: Translator.translate(\"CHANGE_AUDIO_SOURCE_DESC\", language),\n\t\tAUDIO_INPUT_DEVICE_LABEL: Translator.translate(\"AUDIO_INPUT_DEVICE_LABEL\", language),\n\t\tNO_AUDIO_DEVICE_AVAILABLE: Translator.translate(\"NO_AUDIO_DEVICE_AVAILABLE\", language),\n\t\tAUDIO_OUTPUT_DEVICE_LABEL: Translator.translate(\"AUDIO_OUTPUT_DEVICE_LABEL\", language),\n\t\tCHANGE_VIDEO_SOURCE: Translator.translate(\"CHANGE_VIDEO_SOURCE\", language),\n\t\tCHANGE_VIDEO_SOURCE_DESC: Translator.translate(\"CHANGE_VIDEO_SOURCE_DESC\", language),\n\t\tVIDEO_DEVICES_LABEL: Translator.translate(\"VIDEO_DEVICES_LABEL\", language),\n\t\tFULL_SCREEN: Translator.translate(\"FULL_SCREEN\", language),\n\t\tEXIT_FULL_SCREEN: Translator.translate(\"EXIT_FULL_SCREEN\", language),\n\t\tCHANGE_LAYOUT: Translator.translate(\"CHANGE_LAYOUT\", language),\n\t\tAUDIO_SETTING: Translator.translate(\"AUDIO_SETTING\", language),\n\t\tVIDEO_SETTING: Translator.translate(\"VIDEO_SETTING\", language),\n\t\tUSER_LIST: Translator.translate(\"USER_LIST\", language),\n\t\tMORE: Translator.translate(\"MORE\", language),\n\t\tMUTE_USER: Translator.translate(\"MUTE_USER\", language),\n\t\tPIN_USER: Translator.translate(\"PIN_USER\", language),\n\t\tUNPIN_USER: Translator.translate(\"UNPIN_USER\", language),\n\t\tUN_MUTE_USER: Translator.translate(\"UN_MUTE_USER\", language),\n\t\tMUTED: Translator.translate(\"MUTED\", language),\n\t\tYOU_HAVE_BLOCKED: Translator.translate(\"YOU_HAVE_BLOCKED\", language),\n\t\tNOT_POSSIBLE_TO_SEND_MESSAGES: Translator.translate(\"NOT_POSSIBLE_TO_SEND_MESSAGES\", language),\n\t\tIOS_BROWSER_WARNING: Translator.translate(\"IOS_BROWSER_WARNING\", language),\n\t\tPEOPLE_TEXT: Translator.translate(\"PEOPLE_TEXT\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT1: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT1\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT2: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT2\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT3: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT3\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT4: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT4\", language),\n\t};\n};\n","\n\nexport const callScreenWrapperStyle = (props, keyframes) => {\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 50px)\",\n        position: \"absolute\",\n        top: \"50px\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        zIndex: \"999\",\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n        \"iframe\": {\n            border: \"none\"\n        },\n    }\n}\n\nexport const callScreenBackgroundStyle = (state) => {\n\n    return {\n        display: \"none\",\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483001\",\n    }\n}\n\nexport const callScreenContainerStyle = (props) => {\n\n    return {\n        width: props.maxWidth,\n        height: props.maxHeight,\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        overflow: \"hidden\",\n        zIndex: \"2147483002\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const callScreenInnerBackgroundStyle = () => {\n\n    return {\n        display: \"none\",\n        position: \"absolute\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483003\",\n    }\n}\n\nexport const callScreenHeaderStyle = (state) => {\n\n    const cursorStyle = (state.maximized) ? {} : {\n        cursor: \"grabbing\",\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        backgroundColor: \"#282c34\",\n        width: \"100%\",\n        height: \"50px\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"2147483004\",\n        ...cursorStyle\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        width: \"calc(100% - 55px)\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"55px\",\n        padding: \"16px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"button\": {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: \"100%\",\n            padding: \"0px\",\n            userSelect: \"none\",\n            \"img\": {\n                maxWidth: \"100%\",\n                flexShrink: \"0\"\n            }\n        }\n    }\n}\n\nexport const callScreenResizerStyle = (state) => {\n\n    const backgroundStyle = (state.maximized) ? {\n        display: \"none\"\n    }: {\n        cursor: \"nwse-resize\",\n        clipPath: \"polygon(100% 0,100% 100%,0 100%)\",\n        background: \"repeating-linear-gradient(135deg,hsla(0,0%,100%,.5),hsla(0,0%,100%,.5) 2px,#000 0,#000 4px)\",\n    };\n\n    return {\n        width: \"35px\",\n        height: \"35px\",\n        position: \"absolute\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"2147483004\", \n        ...backgroundStyle\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `white`,\n    }\n}","export default __webpack_public_path__ + \"static/media/reduce-size.e5af2bb8.svg\";","export default __webpack_public_path__ + \"static/media/increase-size.97e9cd75.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { Storage } from \"../../../util/Storage\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\nimport { LocalizedString } from \"./strings\";\n\nimport {\n    callScreenBackgroundStyle,\n    callScreenContainerStyle,\n    callScreenInnerBackgroundStyle,\n    callScreenHeaderStyle,\n    callScreenWrapperStyle,\n    headerTitleStyle,\n    headerButtonStyle,\n    callScreenResizerStyle,\n    iconStyle\n} from \"./style\";\n\nimport minimizeIcon from \"./resources/reduce-size.svg\";\nimport maximizeIcon from \"./resources/increase-size.svg\";\n\nclass CometChatCallScreen extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            x: 0,\n            y: 0,\n            rel: null, // position relative to the cursor\n            dragging: false,\n            maximized: true\n        };\n\n        this.loggedInUser = props.loggedInUser;\n        \n        this.callScreenBackgroundEl = React.createRef();\n        this.callScreenInnerBackgroundEl = React.createRef();\n        this.callScreenEl = React.createRef();\n        this.callScreenFrame = React.createRef();\n    }\n\n    componentDidMount() {\n\n        this.document = window.document;\n\n        if (this.props.call.type === enums.CUSTOM_TYPE_MEETING) {\n            this.startDirectCall(this.props.call);\n        } else {\n            this.startDefaultCall(this.props.call);\n        }\n    }\n\n    enableDragging = (e) => {\n\n        e.preventDefault();\n        \n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        this.setState({\n            dragging: true,\n            rel: {\n                x: e.pageX - this.state.x,\n                y: e.pageY - this.state.y\n            }\n        });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n\n        this.document.onmousemove = (e) => this.startDragging(e);\n        this.document.onmouseup = (e) => this.disableDragging(e);\n    }\n\n    checkIfCallScreenIsMaximized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        if (dialogWidth === windowWidth && dialogHeight === windowHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    checkIfCallScreenIsMinimized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const minimumWidth = this.props.minWidth;\n        const minimumHeight = this.props.minHeight;\n\n        if (dialogWidth === minimumWidth && dialogHeight === minimumHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    startDragging = (e) => {\n        \n        if (!this.state.dragging) return;\n        \n        e = e || window.event;\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth; \n        const dialogHeight = elem.clientHeight; \n        const x = Math.min(\n            Math.max(0, e.pageX - this.state.rel.x),\n            window.innerWidth - dialogWidth - 20\n        );\n        const y = Math.min(\n            Math.max(0, e.pageY - this.state.rel.y),\n            window.innerHeight - dialogHeight - 20\n        ); \n\n        this.setState({\n            x: x,\n            y: y\n        });\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    disableDragging = (e) => {\n\n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.setState({ dragging: false });\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n    }\n\n    initResize = (e) => {\n\n        e.preventDefault();\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        const element = this.callScreenEl.current;\n\n        this.startX = e.pageX;\n        this.startY = e.pageY;\n\n        this.startWidth = parseFloat(getComputedStyle(element, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n        this.startHeight = parseInt(getComputedStyle(element, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\n        this.document.onmousemove = (e) => this.startResize(e);\n        this.document.onmouseup = (e) => this.stopResize(e);\n    }\n\n    startResize = (e) => {\n        \n        let width = this.startWidth + (e.pageX - this.startX);\n        let height = this.startHeight + (e.pageY - this.startY);\n\n        if (width < this.props.minWidth) {\n            width = this.props.minHWidth;\n        }\n\n        if (width > window.innerWidth) {\n            width = this.props.maxWidth;\n        }\n\n        if (height < this.props.minHeight) {\n            height = this.props.minHeight;\n        }\n\n        if (height > window.innerHeight) {\n            height = this.props.maxHeight;\n        }\n\n        this.callScreenEl.current.style.width = width + \"px\";\n        this.callScreenEl.current.style.height = height + \"px\";\n\n        this.setDimensionOfCallScreenInnerBackground({ width: width + \"px\", height: height + \"px\" });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n    }\n\n    stopResize = () => {\n        \n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            this.setState({ maximized: true });\n        } \n        if (this.checkIfCallScreenIsMinimized() === true) {\n            this.setState({ maximized: false });\n        }\n    }\n\n    toggleCallScreenBackground = (flag) => {\n\n        if (this.callScreenBackgroundEl && this.callScreenBackgroundEl.current) {\n            this.callScreenBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    toggleCallScreenInnerBackground = (flag) => {\n\n        if (this.callScreenInnerBackgroundEl && this.callScreenInnerBackgroundEl.current) {\n            this.callScreenInnerBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    setDimensionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.width = props.width;\n        this.callScreenInnerBackgroundEl.current.style.height = props.height;\n    }\n\n    setPositionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.top = props.y;\n        this.callScreenInnerBackgroundEl.current.style.left = props.x;\n    }\n\n    minimize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.minWidth + \"px\";\n        const height = this.props.minHeight + \"px\";\n\n        this.setState({ maximized: false });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    maximize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.maxWidth;\n        const height = this.props.maxHeight;\n\n        this.setState({ maximized: true });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    setSizingAndPostionOfCallScreen = (props) => {\n\n        this.callScreenEl.current.style.width = props.width;\n        this.callScreenEl.current.style.height = props.height;\n        this.callScreenEl.current.style.top = \"0px\";\n        this.callScreenEl.current.style.left = \"0px\";\n    }\n\n    toggle = (e) => {\n\n        this.setState({ x: 0, y: 0 });\n\n        if (this.state.maximized) {\n            this.minimize();\n        } else {\n            this.maximize();\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    startDirectCall = (call) => {\n\n        const sessionId = call.data.customData.sessionID;\n        const customCSS = this.context.UIKitSettings.customCSS;\n        const showRecordingButton = this.context.UIKitSettings.showCallRecordingOption;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n            .enableDefaultLayout(true)\n            .setSessionID(sessionId)\n            .setIsAudioOnlyCall(false)\n            .showRecordingButton(showRecordingButton)\n            .setCustomCSS(customCSS)\n            .setLocalizedStringObject(LocalizedString(this.props.lang)).build();\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onCallEnded: call => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress({}, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ENDED\"]);\n                },\n                onError: error => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    \n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ERROR\"]);\n                    const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n                    this.context.setToastMessage(\"error\", errorCode);\n                }\n            })\n        );\n    }\n\n    startDefaultCall = (call) => {\n\n        const sessionId = call.getSessionId();\n        const callType = (call.type === CometChat.CALL_TYPE.AUDIO ? true : false);\n        const customCSS = this.context.UIKitSettings.customCSS;\n        const showRecordingButton = this.context.UIKitSettings.showCallRecordingOption;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n\t\t\t\t\t.setSessionID(sessionId)\n\t\t\t\t\t.enableDefaultLayout(true)\n\t\t\t\t\t.setMode(CometChat.CALL_MODE.DEFAULT)\n\t\t\t\t\t.setIsAudioOnlyCall(callType)\n\t\t\t\t\t.showRecordingButton(showRecordingButton)\n\t\t\t\t\t.setCustomCSS(customCSS)\n\t\t\t\t\t.setLocalizedStringObject(LocalizedString(this.props.lang))\n\t\t\t\t\t.build();\n\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onUserJoined: user => {\n\n                    /* Notification received here if another user joins the call. */\n                    /* this method can be use to display message or perform any actions if someone joining the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": call.action,\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_JOINED_CALL\"], callMessage);\n                    }\n                },\n                onUserLeft: user => {\n                    /* Notification received here if another user left the call. */\n                    /* this method can be use to display message or perform any actions if someone leaving the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": \"left\",\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_LEFT_CALL\"], callMessage);\n                    }\n                },\n                onCallEnded: endedCall => {\n\n                    /* Notification received here if current ongoing call is ended. */\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ENDED\"], endedCall);\n                    /* hiding/closing the call screen can be done here. */\n                }\n            })\n        );\n    }\n\n    render() {\n\n        const resizeText = Translator.translate(\"RESIZE\", this.props.lang);\n        let iconView = (<i css={iconStyle(minimizeIcon)} title={resizeText}></i>);\n        if (this.state.maximized === false) {\n            iconView = (<i css={iconStyle(maximizeIcon)} title={resizeText}></i>);\n        }\n\n        return (\n            <React.Fragment>\n                <div css={callScreenBackgroundStyle(this.state)} ref={this.callScreenBackgroundEl}></div>\n                <div ref={this.callScreenEl} className=\"callscreen__container\" css={callScreenContainerStyle(this.props)} \n                    style={{ top: this.state.y + \"px\", left: this.state.x + \"px\" }}>\n                    <div css={callScreenInnerBackgroundStyle()} ref={this.callScreenInnerBackgroundEl}></div>\n                    <div css={callScreenHeaderStyle(this.state)} className=\"callscreen__header\" onMouseDown={this.enableDragging}>\n                        <div css={headerTitleStyle()}>&nbsp;</div>\n                        <div className=\"callscreen__resize\" css={headerButtonStyle()} onClick={this.toggle} onMouseDown={e => e.stopPropagation()}><button type=\"button\" title={resizeText}>{iconView}</button></div>\n                    </div>\n                    <div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}></div>\n                    <div css={callScreenResizerStyle(this.state)} className=\"callscreen__resizer-both\" onMouseDown={this.initResize}></div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n// Specifies the default values for props:\nCometChatCallScreen.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n    minWidth: 400,\n    minHeight: 300,\n    maxWidth: \"100%\",\n    maxHeight: \"100%\",\n    style: {},\n};\n\nCometChatCallScreen.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n    minWidth: PropTypes.number,\n    minHeight: PropTypes.number,\n    maxWidth: PropTypes.string,\n    maxHeight: PropTypes.string,\n    style: PropTypes.object,\n}\n\nexport { CometChatCallScreen }\n","import * as enums from \"./enums\";\n\nexport class SoundManager {\n\tstatic widgetSettings;\n\tstatic incomingCallAudio = null;\n\tstatic outgoingCallAudio = null;\n\tstatic incomingMessageAudio = null;\n\tstatic outgoingMessageAudio = null;\n\tstatic incomingOtherMessageAudio = null;\n\n\tstatic play = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.onIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.onOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\t\tthis.onIncomingMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\t\tthis.onIncomingOtherMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\t\tthis.onOutgoingMessage(context);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic pause = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.pauseIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.pauseOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic onIncomingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onIncomingOtherMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingOtherMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingothermessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingOtherMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playMessageAlert = messageAudio => {\n\t\tmessageAudio.currentTime = 0;\n\t\tmessageAudio.play();\n\t};\n\n\tstatic onIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playCallAlert = callAudio => {\n\t\ttry {\n\t\t\tcallAudio.currentTime = 0;\n\t\t\tif (typeof callAudio.loop == \"boolean\") {\n\t\t\t\tcallAudio.loop = true;\n\t\t\t} else {\n\t\t\t\tcallAudio.addEventListener(\n\t\t\t\t\t\"ended\",\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tthis.currentTime = 0;\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}\n\t\t\tcallAudio.play();\n\t\t} catch (error) {}\n\t};\n\n\tstatic pauseIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio) {\n\t\t\t\t\tthis.incomingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic pauseOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio) {\n\t\t\t\t\tthis.outgoingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic enableSoundForCalls = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isCallsSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tstatic enableSoundForMessages = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isMessagesSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n}","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n    \n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n                \n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                    \n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n                    \n                    if(props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\"); \n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n                \n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n        cursor: \"pointer\",\n        padding: \"8px 16px\",\n        backgroundColor: backgroundColor,\n        borderRadius: \"5px\",\n        color: `${props.theme.color.white}`,\n        fontSize: \"100%\",\n        outline: \"0\",\n        border: \"0\",\n        width: \"49%\",\n        overflow: \"hidden\"\n    }\n}\n\nexport const callIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/incoming-call.aaaf0cb6.svg\";","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallAlertManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport audioCallIcon from \"./resources/incoming-call.svg\";\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.CallAlertManager = new CallAlertManager();\n\t\tthis.CallAlertManager.attachListeners(this.callScreenUpdated);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tcallScreenUpdated = (key, call) => {\n\t\tswitch (key) {\n\t\t\tcase enums.INCOMING_CALL_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_CANCELLED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.incomingCallCancelled(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = incomingCall => {\n\t\tif (this._isMounted) {\n\t\t\tif (this.state.incomingCall === null) {\n\t\t\t\tif (incomingCall?.callInitiator.uid !== this.loggedInUser?.uid) {\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\t\tthis.setState({ incomingCall: incomingCall });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tincomingCallCancelled = call => {\n\t\tif (this._isMounted) {\n\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\tthis.setState({ incomingCall: null });\n\t\t}\n\t};\n\n\toutgoingCallAccepted = call => {\n\n\t\tif(call.sender?.uid === this.loggedInUser?.uid) {\n\t\t\tif (this._isMounted) {\n\t\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trejectCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tlet callStatus = this.isCallActive() ? CometChat.CALL_STATUS.BUSY : CometChat.CALL_STATUS.REJECTED;\n\n\t\tCometChat.rejectCall(this.state.incomingCall.sessionId, callStatus)\n\t\t\t.then(rejectedCall => {\n\t\t\t\tif (this.isCallActive() === false) {\n\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t}\n\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], rejectedCall);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_REJECTED\"], rejectedCall);\n\t\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tacceptCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tCometChat.acceptCall(this.state.incomingCall.sessionId)\n\t\t\t\t\t.then(call => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"INCOMING_DEFAULT_CALLING\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], call);\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"], call);\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: call });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\n\t\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({ success: true });\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tactionHandler = (action, call) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.getSessionId() === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(audioCallIcon, this.context)} title={Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t\tif (this.state.incomingCall.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\tcallType = (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t\t\t\t<CometChatAvatar user={this.state.incomingCall.sender} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__decline\" onClick={() => this.rejectCall(this.state.incomingCall, CometChat.CALL_STATUS.REJECTED)}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"DECLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__accept\" onClick={this.acceptCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"ACCEPT\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatIncomingCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatIncomingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallScreenManager {\n\n\tcallListenerId = \"callscreen_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\n\t\tCometChat.addCallListener(\n\t\t\tthis.callListenerId,\n\t\t\tnew CometChat.CallListener({\n\t\t\t\tonOutgoingCallAccepted: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_ACCEPTED, call);\n\t\t\t\t},\n\t\t\t\tonOutgoingCallRejected: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_REJECTED, call);\n\t\t\t\t},\n\t\t\t\tonIncomingCallCancelled: call => {\n\t\t\t\t\tcallback(enums.INCOMING_CALL_CANCELLED, call);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeCallListener(this.callListenerId);\n\t}\n}","export const callScreenWrapperStyle = (props, keyframes) => {\n\n    let styles = {\n        width: \"100%\",\n        height: \"100%\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"999\",\n    }\n\n    if (props.widgetsettings) {\n\n        styles = {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"fixed\",\n            top: \"0\",\n            right: \"0\",\n            bottom: \"0\",\n            left: \"0\",\n            zIndex: \"2147483000\",\n        }\n    }\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        ...styles,\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callScreenContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const headerStyle = () => {\n\n    return {\n        padding: \"20px 10px\",\n        width: \"100%\",\n        height: \"20%\",\n    }\n}\n\nexport const headerDurationStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        display: \"inline-block\",\n        padding: \"5px\"\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        textTransform: \"capitalize\",\n        fontSize: \"16px\",\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"50%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"200px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const headerIconStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"15%\",\n        padding: \"10px\",\n        display: \"flex\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        display: \"flex\"\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"27px\",\n        backgroundColor: \"red\",\n        display: \"flex\",\n        margin: \"auto 10px\",\n        cursor: \"pointer\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"i\": {\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `white`,\n            display: \"inline-block\",\n            width: \"24px\",\n            height: \"24px\",\n        },\n    };\n}\n\nexport const errorContainerStyle = () => {\n\n    return {\n        color: \"#fff\",\n        textAlign: \"center\",\n        borderRadius: \"2px\",\n        padding: \"13px 10px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        height: \"10%\",\n        backgroundColor: \"#333\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/end-call.0d5e5b21.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/react\";\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallScreenManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tcallScreenWrapperStyle,\n\tcallScreenContainerStyle,\n\theaderStyle,\n\theaderDurationStyle,\n\theaderNameStyle,\n\tthumbnailWrapperStyle,\n\tthumbnailStyle,\n\theaderIconStyle,\n\ticonWrapperStyle,\n\ticonStyle,\n\terrorContainerStyle\n} from \"./style\"; \n\nimport callIcon from \"./resources/end-call.svg\";\n\nclass CometChatOutgoingCall extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.callScreenFrame = React.createRef();\n\n\t\tthis.state = {\n\t\t\terrorScreen: false,\n\t\t\terrorMessage: null,\n\t\t\toutgoingCallScreen: false,\n\t\t\tcallInProgress: null,\n\t\t}\n\n\t\tCometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.CallScreenManager = new CallScreenManager();\n\t\tthis.CallScreenManager.attachListeners(this.callScreenUpdated);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.CallScreenManager.removeListeners();\n\t\tthis.CallScreenManager = null;\n\t}\n\n\tcallScreenUpdated = (key, call) => {\n\n\t\tswitch (key) {\n\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED://occurs at the caller end\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_REJECTED://occurs at the caller end, callee rejects the call\n\t\t\t\tthis.outgoingCallRejected(call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\toutgoingCallAccepted = (call) => {\n\n\t\tif (this.state.outgoingCallScreen === true) {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"], call);\n\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: call, errorScreen: false, errorMessage: null });\n\n\t\t\tif(this.context) {\n\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"OUTGOING_DEFAULT_CALLING\"]);\n\t\t\t}\n\t\t}\n\t}\n\n\toutgoingCallRejected = (call) => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tif (call.hasOwnProperty(\"status\") && call.status === CometChat.CALL_STATUS.BUSY) {\n\n\t\t\t//show busy message.\n\t\t\tconst errorMessage = `${call.sender.name} ${Translator.translate(\"ON_ANOTHER_CALL\", this.props.lang)}`;\n\t\t\tthis.setState({ errorScreen: true, errorMessage: errorMessage });\n\t\t\tthis.clearCallInProgress();\n\n\t\t} else {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"], call);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null, errorScreen: false, errorMessage: null });\n\t\t\tthis.clearCallInProgress();\n\n\t\t}\n\t}\n\n\tstartCall = (call) => {\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tthis.setState({ outgoingCallScreen: true, callInProgress: call, errorScreen: false, errorMessage: null });\n\t}\n\n\tactionHandler = (action, call) => {\n\n\t\tswitch (action) {\n\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//cancelling an outgoing call\n\tcancelCall = () => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t//if user busy error, just close the callscreen, no need to reject the call\n\t\tif (this.state.errorScreen) {\n\n\t\t\tthis.setState({ errorScreen: false, errorMessage: null, outgoingCallScreen: false, callInProgress: null });\n\t\t\tthis.clearCallInProgress();\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t} else {\n\n\t\t\tCometChat.rejectCall(this.state.callInProgress.sessionId, CometChat.CALL_STATUS.CANCELLED).then(call => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t\t}).catch(error => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\n\t\t\t});\n\t\t}\n\t}\n\n\tclearCallInProgress = () => {\n\t\tif (this.context) {\n\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet callScreen = null, errorScreen = null;\n\t\tif (this.state.callInProgress) {\n\n\t\t\tlet avatar = (<CometChatAvatar user={this.state.callInProgress.receiver} />);\n\t\t\tif (this.state.errorScreen) {\n\t\t\t\terrorScreen = (\n\t\t\t\t\t<div css={errorContainerStyle()} className=\"callscreen__error__wrapper\"><div>{this.state.errorMessage}</div></div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this.state.outgoingCallScreen) {\n\t\t\t\tcallScreen = (\n\t\t\t\t\t<div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}>\n\t\t\t\t\t\t<div css={callScreenContainerStyle()} className=\"callscreen__container\">\n\t\t\t\t\t\t\t<div css={headerStyle()} className=\"callscreen__header\">\n\t\t\t\t\t\t\t\t<span css={headerDurationStyle()} className=\"header__calling\">{Translator.translate(\"CALLING\", this.props.lang)}</span>\n\t\t\t\t\t\t\t\t<h6 css={headerNameStyle()} className=\"header__name\">{this.state.callInProgress.receiver.name}</h6>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle()} className=\"callscreen__thumbnail__wrapper\">\n\t\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"callscreen__thumbnail\">{avatar}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{errorScreen}\n\t\t\t\t\t\t\t<div css={headerIconStyle()} className=\"callscreen__icons\">\n\t\t\t\t\t\t\t\t<div css={iconWrapperStyle()} className=\"icon__block\" onClick={this.cancelCall}>\n\t\t\t\t\t\t\t\t\t<div css={iconStyle(callIcon)} className=\"icon icon__end\"><i></i></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\t}\n\t\t}\n\t\treturn callScreen;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatOutgoingCall.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatOutgoingCall.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n}\n\nexport { CometChatOutgoingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class messageAlertManager {\n\n    msgListenerId = \"incoming_message_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.msgListenerId);\n    }\n}\n","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n\n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n\n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n\n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n\n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: backgroundColor,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t\tfontSize: \"100%\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\twidth: \"49%\",\n\t\t\toverflow: \"hidden\",\n\t\t};\n}\n\nexport const callIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { messageAlertManager } from \"./controller\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingDirectCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t\tmaximize: true,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.MessageAlertManager = new messageAlertManager();\n\t\tthis.MessageAlertManager.attachListeners(this.messageListenerCallback);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageListenerCallback = (key, message) => {\n\t\tswitch (key) {\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = message => {\n\t\tif (this._isMounted) {\n\t\t\tif (message.type !== enums.CUSTOM_TYPE_MEETING) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (Object.keys(this.context.callInProgress).length) {\n\t\t\t\tif (this.context.checkIfDirectCallIsOngoing() && this.context.getActiveCallSessionID() === message.data.customData.sessionID) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (message?.sender.uid !== this.loggedInUser?.uid) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: message});\n\t\t\t}\n\t\t}\n\t};\n\n\tjoinCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"], true);\n\n\t\t\t\tif (this.context) {\n\t\t\t\t\tthis.context.setCallInProgress(this.state.incomingCall, enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"]);\n\t\t\t\t}\n\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\t\t\tthis.setState({incomingCall: null, callInProgress: this.state.incomingCall});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tignoreCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\tthis.setState({incomingCall: null});\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({success: true});\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tactionHandler = action => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tthis.setState({callInProgress: null});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.sessionId === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: null});\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet avatar = (\n\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t<CometChatAvatar cornerRadius=\"50%\" image={this.state.incomingCall.sender.avatar} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tconst callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__ignore\" onClick={this.ignoreCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"IGNORE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__join\" onClick={this.joinCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"JOIN\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatIncomingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatIncomingDirectCall };\n","/* eslint-disable no-useless-concat */\n/* eslint-disable no-extend-native */\nimport dateFormat from \"dateformat\";\nimport Translator from \"../resources/localization/translator\";\nconst milliseconds = 1000;\nconst seconds = 1 * milliseconds;\nconst minute = 60 * seconds;\nconst hour = 60 * minute;\nconst day = 24 * hour;\n\nconst wordBoundary = {\n    start: `(?:^|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n    end: `(?=$|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n};\n\nconst emailPattern = new RegExp(\n    wordBoundary.start +\n    `[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}` +\n    wordBoundary.end,\n    'gi'\n); \nconst urlPattern = new RegExp(\n    wordBoundary.start +\n    `((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,]+[\\\\w/#](\\\\(\\\\))?)` +\n    wordBoundary.end,\n    'gi'\n);\nconst phoneNumPattern = new RegExp(\n    wordBoundary.start +\n    `(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)` +\n    wordBoundary.end,\n    'gi'\n);\n\nexport const linkify = (message) => {\n\n    let outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\n    outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\n\n    const results = outputStr.match(urlPattern);\n\n    results &&\n        results.forEach((url) => {\n\n            url = url.trim();\n            let normalizedURL = url;\n            if (!url.startsWith('http')) {\n                normalizedURL = `//${url}`;\n            }\n            outputStr = outputStr.replace(\n                url,\n                `<a target='blank' rel='noopener noreferrer' href=\"${normalizedURL}\">${url}</a>`\n            );\n        });\n\n    return outputStr;\n}\n\nexport const checkMessageForExtensionsData = (message, extensionKey) => {\n\n    let output = null;\n    \n    if (message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message.metadata;\n        const injectedObject = metadata[\"@injected\"];\n        if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\n\n            const extensionsObject = injectedObject[\"extensions\"];\n            if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\n\n                output = extensionsObject[extensionKey];\n            }\n        }\n    }\n\n    return output;\n}\n\nexport const getMessageFileMetadata = (message, metadataKey) => {\n\n    let fileMetadata = null;\n    if(message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message[\"metadata\"];\n        if (metadata.hasOwnProperty(metadataKey)) {\n            fileMetadata = metadata[metadataKey];\n        }\n    }\n\n    return fileMetadata;\n}\n\nexport const ID = () => {\n    // Math.random should be unique because of its seeding algorithm.\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n    // after the decimal.\n    return '_' + Math.random().toString(36).substr(2, 9);\n};\n\nexport const getUnixTimestamp = () => {\n\n    return Math.round(+new Date() / 1000);\n}\n\nconst dateDiffInDays = (a, b) => {\n\n    const milliSecondsPerDay = day;\n\n    // Discard the time and time-zone information.\n    const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\n    const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\n\n    return Math.floor((utc2 - utc1) / milliSecondsPerDay);\n}\n\n\nexport const getTimeStampForLastMessage = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(messageTimestamp, \"dS mmm\");\n    }\n\n    return timestamp;\n}\n\nexport const getMessageSentTime = (timestamp, lang) => {\n\n    let oTimestamp = null;\n\n    const messageTimestamp = new Date(timestamp) * 1000;\n    oTimestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    return oTimestamp;\n}\n\nexport const getMessageDate = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = Translator.translate(\"TODAY\", lang);\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(timeStampInMilliSeconds, \"dS mmm, yyyy\");\n    }\n\n    return timestamp;\n}\n\nexport const countEmojiOccurences = (string, word) =>  {\n    if(string.split(word).length - 1 >= 3){\n        return 3\n    }else{\n        let content = string;\n        content = string.replace(/<img[^>\"']*(((\"[^\"]*\")|('[^']*'))[^\"'>]*)*>/g,\"\");\n\n        if(content.length>0){\n            return 3;\n            \n        }else{\n            return string.split(word).length - 1;\n        }\n        \n        }\n }","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nclass CometChatOutgoingDirectCall extends React.Component {\n\n    sessionID;\n    static contextType = CometChatContext;\n    \n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            callInProgress: null,\n        }\n\n        this.callScreenRef = React.createRef();\n        \n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    actionHandler = (action) => {\n\n        switch(action) {\n\n            case enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n            case enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n                this.setState({ callInProgress: null });\n            break;\n            default:\n            break;\n        }\n    }\n\n    startCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (!this.sessionID) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if(this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n\n        setTimeout(() => {\n            this.sendCustomMessage();\n        }, 5);\n    }\n\n    joinCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (this.sessionID === null) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if (this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n    }\n\n    prepareCustomMessageData = () => {\n\n        const receiverType = CometChat.RECEIVER_TYPE.GROUP;\n        const customData = { \"sessionID\": this.sessionID, \"sessionId\": this.sessionID, \"callType\": CometChat.CALL_TYPE.VIDEO };\n        const customType = enums.CUSTOM_TYPE_MEETING;\n        const conversationId = `group_${this.sessionID}`;\n\n        const customMessage = new CometChat.CustomMessage(this.sessionID, receiverType, customType, customData);\n        customMessage.setSender(this.loggedInUser);\n        customMessage.setReceiver(receiverType);\n        customMessage.setConversationId(conversationId);\n        customMessage._composedAt = getUnixTimestamp();\n        customMessage._id = ID();\n\n        return customMessage;\n    }\n\n    sendCustomMessage = () => {\n\n        const customMessage = this.prepareCustomMessageData();\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\n        CometChat.sendCustomMessage(customMessage).then(message => {\n\n            const newMessageObj = { ...message, \"_id\": customMessage._id };\n            this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\n        }).catch(error => {\n\n            const newMessageObj = { ...customMessage, \"error\": error };\n            this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    render() {\n\n        let callScreen = null;\n        if(this.state.callInProgress) {\n\n            callScreen = (\n                <CometChatCallScreen ref={el => this.callScreenRef = el} loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />\n            );\n        }\n        return callScreen;\n    }\n}\n\n// Specifies the default values for props:\nCometChatOutgoingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatOutgoingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatOutgoingDirectCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\n\nexport class ConversationListManager {\n\n    conversationRequest = null;\n\n    conversationListenerId = \"chatlist_\" + new Date().getTime();\n    userListenerId = \"chatlist_user_\" + new Date().getTime();\n    groupListenerId = \"chatlist_group_\" + new Date().getTime();\n    callListenerId = \"chatlist_call_\" + new Date().getTime();\n\n    constructor(context) {\n\n        const chatListMode = context.UIKitSettings.chatListMode;\n        const chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n        switch (chatListMode) {\n            case chatListFilterOptions[\"USERS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_USER).setLimit(30).build();\n            break;\n            case chatListFilterOptions[\"GROUPS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_GROUP).setLimit(30).build();\n                break;\n            default:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setLimit(30).build();\n            break;\n        }\n    }\n\n    fetchNextConversation() {\n        return this.conversationRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, changedGroup, message, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, message, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, message, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, unbannedFrom, message, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn, message, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, message, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup, message, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.conversationListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, null, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, null, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, null, customMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, null, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, null, editedMessage);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, null, messageReceipt);\n                }\n            })\n        );\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, null, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, null, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.conversationListenerId);\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n\n}\n","class CometChatEvent {\n\tstatic _triggers = {};\n\n\tstatic on(event, callback) {\n\t\tif (!CometChatEvent._triggers[event]) CometChatEvent._triggers[event] = [];\n\t\tCometChatEvent._triggers[event].push(callback);\n\t}\n\n\tstatic triggerHandler(event, params) {\n\t\tif (CometChatEvent._triggers[event]) {\n\t\t\tfor (const i in CometChatEvent._triggers[event]) CometChatEvent._triggers[event][i](params);\n\t\t}\n\t}\n}\n\nexport { CometChatEvent };","export const chatsWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatsHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"69px\",\n\t};\n};\n\nexport const chatsHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) no-repeat left center`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const chatsHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n    \n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const chatsMsgStyle = () =>{\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const chatsMsgTxtStyle = theme => {\n    \n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const chatsListStyle = () => {\n\n    return {\n        height: \"calc(100% - 75px)\",\n        width: \"100%\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { ConversationListManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { CometChatConversationListItem } from \"../\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n  chatsWrapperStyle,\n  chatsHeaderStyle,\n  chatsHeaderCloseStyle,\n  chatsHeaderTitleStyle,\n  chatsMsgStyle,\n  chatsMsgTxtStyle,\n  chatsListStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatConversationList extends React.Component {\n\n\tloggedInUser = null;\n\tincrementUnreadCount = false;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tconversationlist: [],\n\t\t\tonItemClick: null,\n\t\t\thideGroupActionMessages: false,\n\t\t\tshowConfirmDialog: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t\tconversationToBeDeleted: null,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\n\t\tthis.setState({ conversationlist: [] }, () => {\n\t\t\tthis.ConversationListManager = new ConversationListManager(this.getContext());\n\t\t\tthis.getConversations();\n\t\t\tthis.ConversationListManager.attachListeners(this.conversationCallback);\n\t\t});\n\n\t\t//updating last message whenever a message is composed and sent\n\t\tCometChatEvent.on(\"updateLastMessage\", args => this.updateLastMessage(args));\n\n\t\t//updating unreadcount whenever a new message is received and not read.\n\t\tCometChatEvent.on(enums.EVENTS[\"NEW_MESSAGES\"], args => this.updateUnreadCount(args));\n\n\t\t//clearing unreadcount whenever scrolled to the bottom.\n\t\tCometChatEvent.on(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], args => this.clearUnreadCount(args));\n\t}\n\n\tcomponentDidUpdate() {\n\n\t\t//when a particular chat is selected from the chats list\n\t\tif ((Object.keys(this.getContext().item).length && this.getContext().type.length) || this.getContext().item !== this.item) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\t\t\tconst conversationObj = this.filterConversation();\n\t\t\t\n\t\t\tif (conversationObj && conversationObj.unreadMessageCount > 0 && this.incrementUnreadCount === false) {\n\t\t\t\tlet conversationKey = conversationlist.indexOf(conversationObj);\n\t\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if user is blocked/unblocked, update conversationlist in state\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"uid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid && this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\t\t\tlet conversationlist = [...this.state.conversationlist];\n\n\t\t\t//search for user\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_USER && c.conversationWith.uid === this.getContext().item.uid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { blockedByMe: this.getContext().item.blockedByMe });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"guid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === this.getContext().item.guid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { membersCount: this.getContext().item.membersCount });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from conversation list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user leaving a group, remove group from conversation list\n\t\tif (this.getContext().leftGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().leftGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis._isMounted = false;\n\t\tthis.ConversationListManager.removeListeners();\n\t\tthis.ConversationListManager = null;\n\n\t};\n\n\tfilterConversation = () => {\n\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationObj = conversationlist.find(c => {\n\t\t\tif (\n\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && c.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === this.getContext().item.guid)\n\t\t\t) {\n\t\t\t\treturn c;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\n\t\treturn conversationObj;\n\t}\n\n\tupdateLastMessage = lastMessage => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === lastMessage.conversationId);\n\n\t\tif (conversationKey > -1) {\n\t\t\tconst conversationObj = conversationList[conversationKey];\n\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: { ...lastMessage } };\n\n\t\t\tif (conversationKey === 0) {\n\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t} else {\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t}\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t} else {\n\t\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\t\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet newConversation = new CometChat.Conversation();\n\t\t\tnewConversation.setConversationId(lastMessage.conversationId);\n\t\t\tnewConversation.setConversationType(this.getContext().type);\n\t\t\tnewConversation.setConversationWith(this.getContext().item);\n\t\t\tnewConversation.setLastMessage(lastMessage);\n\t\t\tnewConversation.setUnreadMessageCount(0);\n\n\t\t\tconversationList.unshift(newConversation);\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateUnreadCount = params => {\n\t\t\n\t\tthis.incrementUnreadCount = true;\n\t\treturn false;\n\t};\n\n\tclearUnreadCount = params => {\n\n\t\tthis.incrementUnreadCount = false;\n\n\t\tlet conversationList = [...this.state.conversationlist];\n\t\tconst conversationObj = this.filterConversation();\n\n\t\tif (conversationObj && conversationObj.unreadMessageCount > 0) {\n\t\t\tlet conversationKey = conversationList.indexOf(conversationObj);\n\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t}\n\t\treturn false;\n\t};\n\n\tconversationCallback = (key, item, message, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateUser(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.markMessageAsDelivered(message);\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmarkMessageAsDelivered = message => {\n\n\t\t//if chat window is not open, mark message as delivered\n\t\tif ((this.getContext().type === \"\" || Object.keys(this.getContext().item).length === 0) \n\t\t&& message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message).catch(error => {});\n\t\t}\n\t};\n\n\tconversationUpdated = (key, message, options) => {\n\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && message.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && message.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tswitch (key) {\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\t\tthis.updateConversation(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.conversationEditedDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateGroupMemberAdded(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateGroupMemberRemoved(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateGroupMemberScopeChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.updateGroupMemberChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessagesRead(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateUser = user => {\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationlist.findIndex(conversationObj => conversationObj.conversationType === \"user\" && conversationObj.conversationWith.uid === user.uid);\n\n\t\tif (conversationKey > -1) {\n\t\t\tlet conversationObj = { ...conversationlist[conversationKey] };\n\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith, status: user.getStatus() };\n\n\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: conversationWithObj };\n\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t}\n\t};\n\n\thideGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.hideGroupActionMessages) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.hideGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tplayAudio = message => {\n\t\tif (message.category === CometChat.CATEGORY_ACTION && message.type === CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER && this.state.hideGroupActionMessages === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Sound alert for incoming messages\n\t\t */\n\t\tconst receiverType = message.getReceiverType();\n\t\tconst receiverId = receiverType === CometChat.RECEIVER_TYPE.USER ? message.getSender().uid : message.getReceiverId();\n\n\t\tif (receiverType === this.getContext().type) {\n\t\t\tif ((receiverType === CometChat.RECEIVER_TYPE.USER && receiverId === this.getContext().item.uid) || (receiverType === CometChat.RECEIVER_TYPE.GROUP && receiverId === this.getContext().item.guid)) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t} else {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t\t}\n\t\t} else {\n\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t}\n\t};\n\n\tonMessagesRead = messageReceipt => {\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconversationList.forEach((conversation, conversationKey) => {\n\t\t\tif (conversation?.conversationType === messageReceipt.receiverType) {\n\t\t\t\tif ((conversation?.conversationType === CometChat.RECEIVER_TYPE.USER && messageReceipt.receiver === conversation?.conversationWith?.uid) || (conversation?.conversationType === CometChat.RECEIVER_TYPE.GROUP && messageReceipt.receiver === conversation?.conversationWith?.guid)) {\n\t\t\t\t\tlet unreadMessageCount = conversation.unreadMessageCount;\n\t\t\t\t\t/**\n\t\t\t\t\t * If the message id of the read reciept if greater than or equal to the lastmessage id, set unreadmessagecount to 0\n\t\t\t\t\t */\n\t\t\t\t\tif (messageReceipt?.messageId >= conversation?.lastMessage?.id) {\n\t\t\t\t\t\tunreadMessageCount = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationObj = { ...conversation, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tmakeConversation = message => {\n\t\tconst promise = new Promise(resolve => {\n\t\t\tCometChat.CometChatHelper.getConversationFromMessage(message).then(conversation => {\n\t\t\t\tlet conversationList = [...this.state.conversationlist];\n\t\t\t\tlet conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\t\t\tlet conversationObj = { ...conversation };\n\t\t\t\tif (conversationKey > -1) {\n\t\t\t\t\tconversationObj = { ...conversationList[conversationKey] };\n\t\t\t\t}\n\n\t\t\t\tresolve({ conversationKey: conversationKey, conversationObj: conversationObj, conversationList: conversationList });\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tmakeUnreadMessageCount = (message, conversation = {}) => {\n\t\t/**\n\t\t * If the received message is sent by the logged in user, don't increment the unread count\n\t\t */\n\t\tif (Object.keys(conversation).length === 0) {\n\t\t\tif (message.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tlet unreadMessageCount = parseInt(conversation.unreadMessageCount);\n\t\tif (\n\t\t\t(this.getContext().item.hasOwnProperty(\"guid\") && conversation.conversationWith.hasOwnProperty(\"guid\") && this.getContext().item.guid === conversation.conversationWith.guid) ||\n\t\t\t(this.getContext().item.hasOwnProperty(\"uid\") && conversation.conversationWith.hasOwnProperty(\"uid\") && this.getContext().item.uid === conversation.conversationWith.uid)\n\t\t) {\n\t\t\tif (this.incrementUnreadCount === true) {\n\t\t\t\tunreadMessageCount = ++unreadMessageCount;\n\t\t\t} else {\n\t\t\t\tunreadMessageCount = 0;\n\t\t\t}\n\t\t} else {\n\t\t\tunreadMessageCount = this.shouldIncrementCount(message) ? ++unreadMessageCount : unreadMessageCount;\n\t\t}\n\t\treturn unreadMessageCount;\n\t};\n\n\tshouldIncrementCount = incomingMessage => {\n\t\tlet output = false;\n\t\tif (\n\t\t\t(incomingMessage.category === CometChat.CATEGORY_MESSAGE && incomingMessage.sender.uid !== this.loggedInUser?.uid) ||\n\t\t\t(this.getContext().hasKeyValue(incomingMessage, enums.KEYS[\"METADATA\"]) &&\n\t\t\t\tthis.getContext().hasKeyValue(incomingMessage[enums.KEYS[\"METADATA\"]], enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]) &&\n\t\t\t\tincomingMessage[enums.KEYS[\"METADATA\"]][enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]] === true &&\n\t\t\t\tincomingMessage.sender.uid !== this.loggedInUser?.uid)\n\t\t) {\n\t\t\toutput = true;\n\t\t}\n\t\t\n\t\treturn output;\n\t};\n\n\tmakeLastMessage = (message, conversation = {}) => {\n\t\tconst newMessage = Object.assign({}, message);\n\t\treturn newMessage;\n\t};\n\n\tupdateConversation = (key, message) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, conversationObj);\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, {});\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconversationEditedDeleted = message => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = conversationObj.lastMessage;\n\n\t\t\t\tif (lastMessageObj.id === message.id) {\n\t\t\t\t\tconst newLastMessageObj = Object.assign({}, lastMessageObj, message);\n\t\t\t\t\tlet newConversationObj = Object.assign({}, conversationObj, { lastMessage: newLastMessageObj });\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberAdded = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t} else {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\t\t\t\t\tlet scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\t\tlet hasJoined = options.hasJoined;\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope, hasJoined: hasJoined };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberRemoved = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t} else {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberScopeChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\n\t\t\t\tlet scope = conversationWithObj.scope;\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tscope = options.scope;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope };\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid !== options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getConversations();\n\t};\n\n\t//click handler\n\thandleClick = conversation => {\n\n\t\tif (!this.props.onItemClick) return;\n\t\tthis.props.onItemClick(conversation.conversationWith, conversation.conversationType);\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tgetConversations = () => {\n\t\t\n\t\tthis.ConversationListManager.fetchNextConversation()\n\t\t\t.then(conversationList => {\n\n\t\t\t\tif (conversationList.length === 0) {\n\t\t\t\t\tif (this.state.conversationlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_CHATS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\tlet conversations = [...this.state.conversationlist];\n\t\t\t\t//if conversation exists already in the state, remove it from this list\n\t\t\t\tconversationList.forEach(eachConversation => {\n\n\t\t\t\t\tlet conversationKey = conversations.findIndex(c => c.conversationId === eachConversation.conversationId);\n\t\t\t\t\tif (conversationKey > -1) {\n\n\t\t\t\t\t\tconst newUnreadMessageCount = conversations[conversationKey][\"unreadMessageCount\"] + eachConversation[\"unreadMessageCount\"];\n\t\t\t\t\t\tconst updatedConversation = { ...conversations[conversationKey], unreadMessageCount: newUnreadMessageCount };\n\t\t\t\t\t\tconversations.splice(conversationKey, 1, updatedConversation);\n\n\t\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis.setState({ conversationlist: [...conversations, ...conversationList] });\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, conversation) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CONVERSATION_DELETED\"]:\n\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_CONVERSATION\"]:\n\t\t\t\tthis.deleteConversation(conversation);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tdeleteConversation = conversation => {\n\n\t\tif (!this.state.showConfirmDialog) {\n\t\t\tthis.setState({ showConfirmDialog: true, conversationToBeDeleted: conversation });\n\t\t}\n\t};\n\n\tonDeleteConfirm = e => {\n\n\t\tconst optionSelected = e.target.value;\n\n\t\tthis.setState({ showConfirmDialog: false });\n\t\tif (optionSelected === \"yes\") {\n\n\t\t\tconst conversation = this.state.conversationToBeDeleted;\n\t\t\tconst conversationWith = conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP ? conversation?.conversationWith?.guid : conversation?.conversationWith?.uid;\n\t\t\tCometChat.deleteConversation(conversationWith, conversation.conversationType)\n\t\t\t\t.then(deletedConversation => {\n\t\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\t} else {\n\n\t\t\tthis.setState({ showConfirmDialog: false, conversationToBeDeleted: null });\n\t\t}\n\t};\n\n\tconversationDeleted = conversation => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\tif (conversationKey > -1) {\n\n\t\t\tif (\n\t\t\t\t(conversation.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && conversation.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t(conversation.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && conversation.conversationWith.guid === this.getContext().item.guid)\n\t\t\t) {\n\t\t\t\tthis.getContext().setTypeAndItem(\"\", {});\n\t\t\t}\n\n\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\tthis.setState({ conversationlist: conversationList, conversationToBeDeleted: null });\n\t\t}\n\n\t};\n\n\trender() {\n\n\t\tconst conversationList = this.state.conversationlist.map((conversation, key) => {\n\n\t\t\treturn <CometChatConversationListItem key={conversation.conversationId} conversation={conversation} loggedInUser={this.loggedInUser} handleClick={this.handleClick} actionGenerated={this.actionHandler} />;\n\t\t});\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={chatsMsgStyle()} className=\"chats__decorator-message\">\n\t\t\t\t\t<p css={chatsMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet closeBtn = <div css={chatsHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet showConfirmDialog = null;\n\t\tif (this.state.showConfirmDialog) {\n\t\t\tshowConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onDeleteConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"DELETE_CONFIRM\", this.getContext().language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"DELETE\", this.getContext().language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.getContext().language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst chatList = (\n\t\t\t<div css={chatsWrapperStyle(this.props, theme)} className=\"chats\">\n\t\t\t\t<div css={chatsHeaderStyle(theme)} className=\"chats__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={chatsHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={chatsListStyle()} className=\"chats__list\" onScroll={this.handleScroll} ref={el => (this.chatListRef = el)}>\n\t\t\t\t\t{conversationList}\n\t\t\t\t</div>\n\t\t\t\t{showConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\n\t\tlet chatListWrapper = chatList;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tchatListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{chatList}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn chatListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => { },\n\t_parent: \"\"\n};\n\nCometChatConversationList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatConversationList };","export const conversationActionStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"8px\",\n\t\tmargin: \"0\",\n\t\twidth: \"72px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.primary}`,\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-end\",\n\t\tposition: \"absolute\",\n\t\tright: \"16px\",\n\t\theight: \"100%\",\n\t};\n};\n\nexport const groupButtonStyle = (actionInProgress, progressIcon, actionIcon) => {\n\n\tconst backgroundImage = actionInProgress ? progressIcon : actionIcon;\n\n\treturn {\n\t\toutline: \"0\",\n\t\tborder: \"0\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tdisplay: \"inline-flex\",\n\t\tjustifyContent: \"center\",\n\t\tposition: \"relative\",\n\t\tbackground: `url(${backgroundImage}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/progress.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/react\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {conversationActionStyle, groupButtonStyle} from \"./style.js\";\n\nimport loadingIcon from \"./resources/progress.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\n\nclass CometChatConversationListActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tdeleteInProgress: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tdeleteConversation = event => {\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_CONVERSATION\"], this.props.conversation);\n\t\tevent.stopPropagation();\n\t};\n\n\trender() {\n\t\tconst deleteConversation = (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tcss={groupButtonStyle(this.state.deleteInProgress, loadingIcon, deleteIcon)}\n\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\tdata-title={Translator.translate(\"DELETE\", this.context.language)}\n\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\tonClick={this.deleteConversation} />\n\t\t\t</li>\n\t\t);\n\n\t\treturn (\n\t\t\t<ul css={conversationActionStyle(this.context)} className=\"list__item__actions\">\n\t\t\t\t{deleteConversation}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport {CometChatConversationListActions};","export const listItem = (props) => {\n\n    const selectedState = (props.selectedConversation && props.selectedConversation.conversationId === props.conversation.conversationId) ? {\n        backgroundColor: `${props.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        position: \"relative\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${props.theme.backgroundColor.primary}`\n        },\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemRowStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"baseline\",\n    }\n}\n\nexport const itemNameStyle = (props) => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"calc(100% - 70px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"22px\",\n        color: `${props.theme.color.primary}`\n    }\n}\n\nexport const itemLastMsgStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"13px\",\n        fontWeight: \"400\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n\nexport const itemLastMsgTimeStyle = (props) => {\n\n    return {\n        fontSize: \"11px\",\n        width: \"70px\",\n        textAlign: \"right\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport {CometChatAvatar, CometChatBadgeCount, CometChatUserPresence } from \"../../Shared\";\nimport {CometChatConversationListActions} from \"../CometChatConversationListActions\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getTimeStampForLastMessage } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  listItem,\n  itemThumbnailStyle,\n  itemDetailStyle,\n  itemRowStyle,\n  itemNameStyle,\n  itemLastMsgStyle,\n  itemLastMsgTimeStyle\n} from \"./style\";\n\nclass CometChatConversationListItem extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlastMessage: \"\",\n\t\t\tlastMessageTimestamp: \"\",\n\t\t\tenableUnreadCount: false,\n\t\t\tisHovering: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst message = this.getLastMessage();\n\t\tconst timestamp = this.getLastMessageTimestamp();\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousItem = JSON.stringify(prevProps.conversation);\n\t\tconst currentItem = JSON.stringify(this.props.conversation);\n\n\t\tif (previousItem !== currentItem) {\n\t\t\tconst message = this.getLastMessage();\n\t\t\tconst timestamp = this.getLastMessageTimestamp();\n\n\t\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t\t}\n\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tgetLastMessage = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet message = null;\n\t\tconst lastMessage = this.props.conversation.lastMessage;\n\n\t\tif (lastMessage.hasOwnProperty(\"deletedAt\")) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessage = \"\";\n\t\t\t} else {\n\t\t\t\tmessage = this.props.loggedInUser.uid === lastMessage.sender.uid ? `${Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", this.context.language)}` : `${Translator.translate(\"THIS_MESSAGE_DELETED\", this.context.language)}`;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (lastMessage.category) {\n\t\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\t\tmessage = this.getMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\t\tmessage = this.getCallMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\t\t\tmessage = this.getActionMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\t\tmessage = this.getCustomMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetLastMessageTimestamp = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.lastMessage.hasOwnProperty(\"sentAt\") === false && this.props.conversation.lastMessage.hasOwnProperty(\"_composedAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet timestamp = this.props.conversation.lastMessage._composedAt || this.props.conversation.lastMessage.sentAt;\n\t\ttimestamp = getTimeStampForLastMessage(timestamp, this.context.language);\n\n\t\treturn timestamp;\n\t};\n\n\tgetCustomMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t{\n\t\t\t\t\tconst pollMessage = Translator.translate(\"CUSTOM_MESSAGE_POLL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${pollMessage}` : `${pollMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t{\n\t\t\t\t\tconst stickerMessage = Translator.translate(\"CUSTOM_MESSAGE_STICKER\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${stickerMessage}` : `${stickerMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t{\n\t\t\t\t\tconst docMessage = Translator.translate(\"CUSTOM_MESSAGE_DOCUMENT\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${docMessage}` : `${docMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t{\n\t\t\t\t\tconst whiteboardMessage = Translator.translate(\"CUSTOM_MESSAGE_WHITEBOARD\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${whiteboardMessage}` : `${whiteboardMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t{\n\t\t\t\t\tconst meetingMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = `${sender} ${meetingMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetTextMessage = message => {\n\t\tlet messageText = message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\")) {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\treturn messageText;\n\t};\n\n\tgetMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props?.loggedInUser?.uid !== lastMessage?.sender?.uid ? `${lastMessage?.sender?.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t{\n\t\t\t\t\tconst textMessage = this.getTextMessage(lastMessage);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${textMessage}` : `${textMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.MEDIA:\n\t\t\t\t{\n\t\t\t\t\tconst mediaMessage = Translator.translate(\"MEDIA_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${mediaMessage}` : `${mediaMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t{\n\t\t\t\t\tconst imageMessage = Translator.translate(\"MESSAGE_IMAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${imageMessage}` : `${imageMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t{\n\t\t\t\t\tconst fileMessage = Translator.translate(\"MESSAGE_FILE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${fileMessage}` : `${fileMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"MESSAGE_VIDEO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"MESSAGE_AUDIO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.CUSTOM:\n\t\t\t\t{\n\t\t\t\t\tconst customMessage = Translator.translate(\"CUSTOM_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${customMessage}` : `${customMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetCallMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.hasOwnProperty(\"actionBy\") === false || message.hasOwnProperty(\"actionOn\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT && (message.actionBy.hasOwnProperty(\"name\") === false || message.actionOn.hasOwnProperty(\"name\") === false)) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED) {\n\t\t\tif (message.hasOwnProperty(\"data\") && message.data.hasOwnProperty(\"extras\")) {\n\t\t\t\tif (message.data.extras.hasOwnProperty(\"scope\")) {\n\t\t\t\t\tif (message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\t\t\t\treturn actionMessage;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn actionMessage;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn actionMessage;\n\t\t\t}\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.hasOwnProperty(\"scope\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tconst byEntity = message.actionBy;\n\t\tconst onEntity = message.actionOn;\n\n\t\tconst byString = byEntity.name;\n\t\tconst forString = message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT ? onEntity.name : \"\";\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"ADDED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"KICKED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"BANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"UNBANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message[\"data\"][\"extras\"][\"scope\"][\"new\"];\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"MADE\", this.context.language)} ${forString} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableUnreadCount = () => {\n\t\tthis.context.FeatureRestriction.isUnreadCountEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableUnreadCount) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUnreadCount !== false) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = toggleFlag => {\n\t\tif (toggleFlag && !this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: true });\n\t\t} else if (!toggleFlag && this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: false });\n\t\t}\n\t};\n\n\trender() {\n\t\tlet lastMessageTimeStamp = null;\n\t\tif (this.state.lastMessage) {\n\t\t\tlastMessageTimeStamp = (\n\t\t\t\t<span css={itemLastMsgTimeStyle(this.props)} className=\"item__details__timestamp\">\n\t\t\t\t\t{this.state.lastMessageTimestamp}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet presence;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tconst status = this.props.conversation.conversationWith.status;\n\t\t\tpresence = <CometChatUserPresence status={status} borderColor={this.props.theme.borderColor.primary} />;\n\t\t}\n\n\t\tlet avatar = null;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tavatar = <CometChatAvatar user={this.props.conversation.conversationWith} />;\n\t\t} else if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = <CometChatAvatar group={this.props.conversation.conversationWith} />;\n\t\t}\n\n\t\tlet unreadCount = null;\n\t\tif (this.state.enableUnreadCount) {\n\t\t\tunreadCount = <CometChatBadgeCount count={this.props.conversation.unreadMessageCount} />;\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatConversationListActions {...this.props} conversation={this.props.conversation} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props)} className=\"list__item\" onMouseEnter={() => this.handleMouseHover(true)} onMouseLeave={() => this.handleMouseHover(false)} onClick={() => this.props.handleClick(this.props.conversation)}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t{presence}\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_one\">\n\t\t\t\t\t\t<div css={itemNameStyle(this.props)} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.props.conversation.conversationWith.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{lastMessageTimeStamp}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_two\">\n\t\t\t\t\t\t<div css={itemLastMsgStyle(this.props)} className=\"item__details__last-message\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.state.lastMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{unreadCount}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{toolTipView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListItem.defaultProps = {\n\ttheme: theme,\n\tloggedInUser: null,\n\tconversation: {\n\t\tconversationWith: {}\n\t}\n};\n\nCometChatConversationListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tloggedInUser: PropTypes.shape(CometChat.User),\n\tconversation: PropTypes.shape(CometChat.Conversation)\n}\n\nexport { CometChatConversationListItem };\n","export const previewWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"8px 8px 16px 8px\",\n        marginBottom: \"-8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tfontSize: \"13px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row-reverse\",\n\t\tjustifyContent: \"space-between\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const previewOptionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        width: \"100%\",\n    }\n}\n\nexport const previewOptionStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px\",\n\t\tmargin: \"0 8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRadius: \"10px\",\n\t\tcursor: \"pointer\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import { useContext } from 'react';\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/react';\nimport PropTypes from 'prop-types';\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { theme } from \"../../../../resources/theme\";\n\nimport {\n    previewWrapperStyle,\n    previewHeadingStyle,\n    previewCloseStyle,\n    previewOptionsWrapperStyle,\n    previewOptionStyle,\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatSmartReplyPreview = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    const options = props.options.map((option, key) => {\n\n        return (<div key={key} css={previewOptionStyle(context)} className=\"option\" onClick={() => props.clicked(option)}>{option}</div>)\n    })\n\n    return (\n        <div css={previewWrapperStyle(context, keyframes)} className=\"reply__preview__wrapper\">\n            <div css={previewHeadingStyle()} className=\"preview__heading\">\n                <div css={previewCloseStyle(closeIcon, context)} onClick={props.close} className=\"preview__close\"></div>\n            </div>\n            <div css={previewOptionsWrapperStyle()} className=\"preview__options\">{options}</div>\n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatSmartReplyPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatSmartReplyPreview.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatSmartReplyPreview };","export const stickerWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: \"none\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tborderRadius: \"10px 10px 0 0\",\n\t\theight: \"215px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t};\n};\n\nexport const stickerSectionListStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.silver}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\ttextTransform: \"uppercase\",\n\t\toverflowX: \"auto\",\n\t\toverflowY: \"hidden\",\n\t\tpadding: \"10px\",\n\t\t\"::-webkit-scrollbar\": {\n\t\t\tbackground: `${context.theme.backgroundColor.primary}`,\n\t\t},\n\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\tbackground: `${context.theme.backgroundColor.silver}`,\n\t\t},\n\t};\n};\n\nexport const sectionListItemStyle = () => {\n\n    return {\n\n        height: \"35px\",\n        width: \"35px\",\n        cursor: \"pointer\",\n        flexShrink: \"0\",\n        \":not(:first-of-type)\": {\n            marginLeft: \"16px\",\n        },\n    }\n}\n\nexport const stickerListStyle = () => {\n\n    return {\n        height: \"calc(100% - 50px)\",\n        display: \"flex\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    }\n}\n\nexport const stickerItemStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"50px\",\n\t\tminHeight: \"50px\",\n\t\tmaxWidth: \"70px\",\n\t\tmaxHeight: \"70px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\tmarginRight: \"20px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}`]: {\n\t\t\tmaxWidth: \"70px\",\n\t\t\tmaxHeight: \"70px\",\n\t\t},\n\t};\n};\n\nexport const stickerMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"35%\",\n    }\n}\n\nexport const stickerMsgTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"24px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};\n\nexport const stickerCloseStyle = (img, context) => {\n\t\n\treturn {\n\t\twidth: \"20px\",\n\t\theight: \"20px\",\n\t\tborderRadius: \"50%\",\n\t\talignSelf: \"flex-end\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t\tmargin: \"8px 8px 0 0\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/react';\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { \n    stickerWrapperStyle, \n    stickerSectionListStyle, \n    stickerListStyle,\n    sectionListItemStyle,\n    stickerItemStyle,\n    stickerMsgStyle,\n    stickerMsgTxtStyle,\n    stickerCloseStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatStickerKeyboard extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.decoratorMessage = Translator.translate(\"LOADING\", context.language);\n\n        this.state = {\n            stickerlist: [],\n            stickerset: {},\n            activestickerlist: [],\n            activestickerset: null\n        }\n    }\n\n    componentDidMount() {\n        this.getStickers();\n    }\n\n    getStickers = () => {\n\n        CometChat.callExtension('stickers', 'GET', 'v1/fetch', null).then(stickers => {\n\n            // Stickers received\n            let activeStickerSet = null; \n            const customStickers = (stickers.hasOwnProperty(\"customStickers\")) ? stickers[\"customStickers\"] : [];\n            const defaultStickers = (stickers.hasOwnProperty(\"defaultStickers\")) ? stickers[\"defaultStickers\"] : [];\n\n            defaultStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            customStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            const stickerList = [...defaultStickers, ...customStickers];\n            \n            if (stickerList.length === 0) {\n                this.decoratorMessage = Translator.translate(\"NO_STICKERS_FOUND\", this.context.language);\n            }\n\n            const stickerSet = stickerList.reduce((r, sticker, index) => {\n\n                const { stickerSetName } = sticker;\n                if (index === 0) {\n                    activeStickerSet = stickerSetName;\n                }\n\n                r[stickerSetName] = [...r[stickerSetName] || [], { ...sticker}];\n\n                return r;\n            }, {});\n\n            let activeStickerList = [];\n            if (Object.keys(stickerSet).length) {\n\n                Object.keys(stickerSet).forEach(key => {\n                    stickerSet[key].sort(function (a, b) {\n                        return a.stickerOrder - b.stickerOrder;\n                    });\n                });\n\n                activeStickerList = stickerSet[activeStickerSet];\n            }\n            \n            this.setState({ \n                \"stickerlist\": stickerList, \n                \"stickerset\": stickerSet, \n                \"activestickerlist\": activeStickerList, \n                \"activestickerset\": activeStickerSet \n            });\n\n        }).catch(error => {\n            \n            this.decoratorMessage = Translator.translate(\"SOMETHING_WRONG\", this.context.language);\n            this.setState({ \"activestickerlist\": [], \"stickerset\": {} });\n        });\n    }\n\n    sendStickerMessage = (stickerItem) => {\n        this.props.actionGenerated(enums.ACTIONS[\"SEND_STICKER\"], stickerItem);\n    }\n\n    onStickerSetClicked = (sectionItem) => {\n\n        this.setState({ activestickerlist: [] }, () => {\n\n            const stickerSet = { ...this.state.stickerset };\n            const activeStickerList = stickerSet[sectionItem];\n            this.setState({ \"activestickerset\": sectionItem, \"activestickerlist\": activeStickerList });\n        });\n    }\n\n    closeStickerKeyboard = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]);\n    }\n\n    render() {\n\n        let messageContainer = null;\n        if (this.state.activestickerlist.length === 0) {\n            messageContainer = (\n                <div css={stickerMsgStyle()} className=\"stickers__decorator-message\">\n                    <p css={stickerMsgTxtStyle(this.context)} className=\"decorator-message\">{this.decoratorMessage}</p>\n                </div>\n            );\n        }\n\n        let stickers = null;\n        if (Object.keys(this.state.stickerset).length) {\n\n            const sectionItems = Object.keys(this.state.stickerset).map((sectionItem, key) => {\n\n                const stickerSetThumbnail = this.state.stickerset[sectionItem][0][\"stickerUrl\"];\n                return( <div  key={key}  className=\"stickers__sectionitem\" css={sectionListItemStyle()}  onClick={() => this.onStickerSetClicked(sectionItem)}>\n                    <img src={stickerSetThumbnail} alt={sectionItem} />\n                </div>\n                );\n            });\n\n            let activeStickerList = [];\n            if (this.state.activestickerlist.length) {\n\n                const stickerList = [...this.state.activestickerlist];\n                activeStickerList = stickerList.map((stickerItem, key) => {\n\n                    return (\n                        <div key={key} css={stickerItemStyle(this.context)} onClick={() => this.sendStickerMessage(stickerItem)} className=\"stickers__listitem\">\n                            <img src={stickerItem.stickerUrl} alt={stickerItem.stickerName} />\n                        </div>\n                    );\n                });\n            }\n\n            stickers = (\n                <React.Fragment>\n                    <div css={stickerCloseStyle(closeIcon, this.context)} className=\"stickers__close\" onClick={this.closeStickerKeyboard}></div>\n                    <div css={stickerListStyle(this.props)} className=\"stickers__list\">\n                        {activeStickerList}\n                    </div>\n                    <div css={stickerSectionListStyle(this.context)} className=\"stickers__sections\">\n                        {sectionItems}\n                    </div>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <div css={stickerWrapperStyle(this.context, keyframes)} className=\"stickers\">\n                {messageContainer}\n                {stickers}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatStickerKeyboard.defaultProps = {\n    theme: theme\n};\n\nCometChatStickerKeyboard.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatStickerKeyboard };","export const messageReactionsStyle = (props, reactionData, context, loggedInUser) => {\n\n\tconst uid = loggedInUser?.uid;\n\tlet borderStyle = {};\n\tlet hoveredBorderStyle = {};\n\n\tif (reactionData.hasOwnProperty(uid)) {\n\t\tborderStyle = {\n\t\t\tborder: `1px solid ${context.theme.primaryColor}`,\n\t\t};\n\n\t\thoveredBorderStyle = { ...borderStyle };\n\t} else {\n\t\tborderStyle = {\n\t\t\tborder: \"1px solid transparent\",\n\t\t};\n\n\t\thoveredBorderStyle = {\n\t\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\t};\n\t}\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tpadding: \"2px 6px\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tverticalAlign: \"top\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tborderRadius: \"12px\",\n\t\tmargin: \"4px 4px 0 0\",\n\t\t...borderStyle,\n\t\t\".emoji-mart-emoji\": {\n\t\t\tdisplay: \"inline-flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tcursor: \"pointer\",\n\t\t},\n\t\t\"&:hover\": {\n\t\t\t...hoveredBorderStyle,\n\t\t},\n\t};\n};\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        \"i\": {\n            height: \"24px\",\n            width: \"24px\",\n            mask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n        }        \n    }\n}\n\nexport const reactionCountStyle = context => {\n\n\treturn {\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tpadding: \"0 1px 0 3px\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { Emoji } from \"emoji-mart\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageReactionsStyle,\n    reactionCountStyle,\n    emojiButtonStyle,\n} from \"./style\";\n\nimport reactIcon from \"./resources/reactions.svg\";\n\nclass CometChatMessageReactions extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tenableMessageReaction: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.enableMessageReaction();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableMessageReaction && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableMessageReaction !== false) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treactToMessages = emoji => {\n\n\t\tlet messageObject = { ...this.props.message };\n\t\tdelete messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"][emoji.colons][this.loggedInUser.uid];\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], messageObject);\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.props.message.id,\n\t\t\temoji: emoji.colons,\n\t\t}).then(response => {\n\t\t\t\n\t\t\t// Reaction failed\n\t\t\tif (!response || !response.success || response.success !== true) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t});\n\t};\n\n\tgetMessageReactions = reaction => {\n\t\t\n\t\tif (reaction === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst messageReactions = Object.keys(reaction).map((data, key) => {\n\t\t\tconst reactionData = reaction[data];\n\t\t\tconst reactionName = data.replaceAll(\":\", \"\");\n\t\t\tconst reactionCount = Object.keys(reactionData).length;\n\n\t\t\tif (!reactionCount) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst userList = [];\n\t\t\tlet reactionTitle = \"\";\n\n\t\t\tfor (const user in reactionData) {\n\t\t\t\tuserList.push(reactionData[user][\"name\"]);\n\t\t\t}\n\n\t\t\tif (userList.length) {\n\t\t\t\treactionTitle = userList.join(\", \");\n\t\t\t\tconst str = ` ${Translator.translate(\"REACTED\", this.context.language)}`;\n\t\t\t\treactionTitle = reactionTitle.concat(str);\n\t\t\t}\n\n\t\t\tconst reactionClassName = `reaction reaction__${reactionName}`;\n\t\t\treturn (\n\t\t\t\t<div key={key} css={messageReactionsStyle(this.props, reactionData, this.context, this.loggedInUser)} className={reactionClassName} title={reactionTitle}>\n\t\t\t\t\t<Emoji emoji={{ id: reactionName }} size={16} native onClick={this.reactToMessages} />\n\t\t\t\t\t<span css={reactionCountStyle(this.context)} className=\"reaction__count\">\n\t\t\t\t\t\t{reactionCount}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\t\treturn messageReactions;\n\t};\n\n\taddMessageReaction = () => {\n\t\t//If reacting to messages feature is disabled\n\t\tif (this.state.enableMessageReaction === false) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst addReactionEmoji = (\n\t\t\t<div key=\"-1\" css={messageReactionsStyle(this.props, {}, this.context)} className=\"reaction reaction__add\" title={Translator.translate(\"ADD_REACTION\", this.context.language)}>\n\t\t\t\t<button type=\"button\" css={emojiButtonStyle(reactIcon, this.context)} className=\"button__reacttomessage\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message)}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\n\t\treturn addReactionEmoji;\n\t};\n\n\trender() {\n\t\tconst reaction = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tconst messageReactions = this.getMessageReactions(reaction);\n\n\t\tconst addReactionEmoji = this.addMessageReaction();\n\n\t\tif (messageReactions !== null && messageReactions.length && addReactionEmoji !== null) {\n\t\t\tif (this.props.message?.sender?.uid !== this.loggedInUser?.uid) {\n\t\t\t\tmessageReactions.push(addReactionEmoji);\n\t\t\t} else {\n\t\t\t\tmessageReactions.unshift(addReactionEmoji);\n\t\t\t}\n\t\t}\n\n\t\treturn messageReactions;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageReactions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageReactions.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageReactions };\n","export const modalWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"50%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n    }\n}\n\nexport const modalTableStyle = context => {\n\n\treturn {\n\t\tborderCollapse: \"collapse\",\n\t\tmargin: \"0\",\n\t\tpadding: \"0\",\n\t\twidth: \"100%\",\n\t\theight: \"90%\",\n\t\ttr: {\n\t\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\t\tdisplay: \"table\",\n\t\t\twidth: \"100%\",\n\t\t\ttableLayout: \"fixed\",\n\t\t},\n\t};\n};\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 16px\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    \"&:focus\": {\n                        outline: \"none\"\n                    }\n                },\n                \"label\": {\n                    padding: \"8px 16px\", \n                },\n                \":first-of-type\": {\n                    width: \"120px\"\n                }\n            }\n        }\n    }\n}\n\n\nexport const tableFootStyle = (context, state, img) => {\n\n\tlet loadingState = {};\n\tlet textMargin = {};\n\n\tif (state.creatingPoll) {\n\t\tloadingState = {\n\t\t\tdisabled: \"true\",\n\t\t\tpointerEvents: \"none\",\n\t\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n\t\t};\n\n\t\ttextMargin = {\n\t\t\tmarginRight: \"24px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\ttr: {\n\t\t\tborder: \"none\",\n\t\t\ttd: {\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tbutton: {\n\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\tpadding: \"8px 16px\",\n\t\t\t\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\t\tfontSize: \"14px\",\n\t\t\t\t\toutline: \"0\",\n\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t...loadingState,\n\t\t\t\t\tspan: {\n\t\t\t\t\t\t...textMargin,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        width: \"50px\"\n    }\n}\n\nexport const addOptionIconStyle = (img, context) => {\n\n    return {\n        backgroundSize: \"28px 28px\",\n        cursor: \"pointer\",\n        display: \"block\",\n        height: \"24px\",\n        width: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../../Shared\";\nimport { CometChatCreatePollOptions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\"; \n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalErrorStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    tableFootStyle,\n    iconWrapperStyle,\n    addOptionIconStyle\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport addIcon from \"./resources/add-circle-filled.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatCreatePoll extends React.Component {\n\n    loggedInUser = null;\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n        this.state = {\n            errorMessage: \"\",\n            options: [],\n            creatingPoll: false\n        }\n\n        this.questionRef = React.createRef();\n        this.optionOneRef = React.createRef();\n        this.optionTwoRef = React.createRef();\n        this.optionRef = React.createRef();\n    }\n\n    addPollOption = () => {\n\n        const options = [...this.state.options];\n        options.push({ value: \"\", id: new Date().getTime() });\n        this.setState({options: options});\n    }\n\n    removePollOption = (option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id);\n        if (optionKey > -1) {\n\n            options.splice(optionKey, 1);\n            this.setState({ options: options});\n        }\n    }\n\n    optionChangeHandler = (event, option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id); \n        if (optionKey > -1) {\n\n            const newOption = { ...option, value: event.target.value}\n            options.splice(optionKey, 1, newOption);\n            this.setState({ options: options });\n        }\n    }\n\n    createPoll = () => {\n\n        const question = this.questionRef.current.value.trim();\n        const firstOption = this.optionOneRef.current.value.trim();\n        const secondOption = this.optionTwoRef.current.value.trim();\n        const optionItems = [firstOption, secondOption];\n\n        if (question.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_QUESTION\", this.context.language) });\n            return false;\n        }\n\n        if (firstOption.length === 0 || secondOption.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_OPTION\", this.context.language) });\n            return false;\n        }\n\n        this.state.options.forEach(function (option) {\n            optionItems.push(option.value)\n        })\n\n        let receiverId;\n        let receiverType = this.context.type;\n        if (this.context.type === CometChat.RECEIVER_TYPE.USER) {\n            receiverId = this.context.item.uid;\n        } else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP) {\n            receiverId = this.context.item.guid;\n        }\n        \n        this.setState({ creatingPoll: true, errorMessage: \"\" });\n\n        CometChat.callExtension('polls', 'POST', 'v2/create', {\n            \"question\": question,\n            \"options\": optionItems,\n            \"receiver\": receiverId,\n            \"receiverType\": receiverType\n        }).then(response => {\n\n            if (response && response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\n\n                this.setState({ creatingPoll: false });\n                this.props.actionGenerated(enums.ACTIONS[\"POLL_CREATED\"]);\n\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => {\n\n            this.setState({ creatingPoll: false });\n            this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n        });\n    }\n\n    render() {\n\n        const optionList = [...this.state.options];\n        const pollOptionView = optionList.map((option, index) => {\n            return (\n                <CometChatCreatePollOptions \n                key={index} \n                option={option} \n                tabIndex={index+4}\n                lang={this.context.language}\n                optionChangeHandler={this.optionChangeHandler}\n                removePollOption={this.removePollOption} />\n            );\n        });\n\n        const createText = (this.state.creatingPoll) ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__createpoll\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <table css={modalTableStyle(this.context)}>\n                            <caption css={tableCaptionStyle()} className=\"modal__title\">{Translator.translate(\"CREATE_POLL\", this.context.language)}</caption>\n                            <tbody css={tableBodyStyle()}>\n                                <tr className=\"error\">\n                                    <td colSpan=\"3\"><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n                                </tr>\n                                <tr className=\"poll__question\">\n                                    <td><label>{Translator.translate(\"QUESTION\", this.context.language)}</label></td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" autoFocus tabIndex=\"1\" placeholder={Translator.translate(\"ENTER_YOUR_QUESTION\", this.context.language)} ref={this.questionRef} />\n                                    </td>\n                                </tr>\n                                <tr className=\"poll__options\">\n                                    <td>\n                                        <label>{Translator.translate(\"OPTIONS\", this.context.language)}</label>\n                                    </td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"2\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionOneRef} />\n                                    </td>\n                                </tr>\n                                <tr ref={this.optionRef} className=\"poll__options\">\n                                    <td>&nbsp;</td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"3\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionTwoRef} />\n                                    </td>\n                                </tr>\n                                {pollOptionView}\n                                <tr>\n                                    <td>&nbsp;</td>\n                                    <td>\n                                        <label>{Translator.translate(\"ADD_NEW_OPTION\", this.context.language)}</label>\n                                    </td>\n                                    <td css={iconWrapperStyle()}>\n                                        <i tabIndex=\"100\" css={addOptionIconStyle(addIcon, this.context)} className=\"option__add\" onClick={this.addPollOption}></i>\n                                    </td>\n                                </tr>\n                            </tbody>\n                            <tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n                                <tr className=\"createpoll\">\n                                    <td colSpan=\"2\">\n                                        <button type=\"button\" onClick={this.createPoll}>\n                                            <span>{createText}</span>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatCreatePoll.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatCreatePoll.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatCreatePoll };\n","export const removeOptionIconStyle = (img, context) => {\n\n\treturn {\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.red}`,\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"block\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n    return {\n        width: \"50px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/remove.b83180e3.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { iconWrapperStyle } from \"../CometChatCreatePoll/style\";\n\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { removeOptionIconStyle } from \"./style\";\nimport removeIcon from \"./resources/remove.svg\";\n\nconst CometChatCreatePollOptions = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    return (\n        <tr className=\"poll__options\">\n            <td>&nbsp;</td>\n            <td>\n                <input \n                autoFocus\n                tabIndex={props.tabIndex}\n                type=\"text\" \n                autoComplete=\"off\" \n                placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", context.language)}\n                value={props.value}\n                onChange={(event) => props.optionChangeHandler(event, props.option)} />\n            </td>\n            <td css={iconWrapperStyle()} className=\"option__remove\">\n                <span css={removeOptionIconStyle(removeIcon, context)} onClick={() => props.removePollOption(props.option)}></span>\n            </td>\n        </tr>\n    );\n}\n\nexport { CometChatCreatePollOptions };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    messageTxtTitleStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatReceiverDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_DOCUMENT\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__document__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDocumentBubble };\n","\nexport const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n\twidth: \"calc(100% - 36px)\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (state, optionData, context) => {\n\n\tlet countPadding = \"0px 16px 0px 0px\";\n    let widthProp = \"calc(100% - 40px)\";\n\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(state?.loggedInUser?.uid)) {\n\t\t//countPadding = \"0px 8px\";\n\t\twidthProp = \"calc(100% - 80px)\";\n\t}\n\n\treturn {\n\t\twidth: \"100%\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tminHeight: \"35px\",\n        \tpadding: \"0 16px\",\n\t\theight: \"100%\",\n\t\tzIndex: \"2\",\n\t\tp: {\n\t\t\tmargin: \"0\",\n\t\t\twidth: widthProp,\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t\tspan: {\n\t\t\twidth: \"40px\",\n\t\t\tpadding: countPadding,\n\t\t\tfontWeight: \"bold\",\n\t\t\tdisplay: \"inline-block\",\n\t\t\tfontSize: \"13px\",\n\t\t},\n\t};\n};\n\nexport const checkIconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"40px\",\n\t\theight: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/checkmark.2fca5711.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    checkIconStyle,\n    pollTotalStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\n\nimport checkImg from \"./resources/checkmark.svg\";\n\nclass CometChatReceiverPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tloggedInUser: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: {...user} });\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n        \n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tanswerPollQuestion = (event, selectedOption) => {\n\t\tCometChat.callExtension(\"polls\", \"POST\", \"v2/vote\", {\n\t\t\tvote: selectedOption,\n\t\t\tid: this.pollId,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.hasOwnProperty(\"success\") === false || (response.hasOwnProperty(\"success\") && response[\"success\"] === false)) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// if (!this.props.message.hasOwnProperty(\"metadata\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata.hasOwnProperty(\"@injected\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"].hasOwnProperty(\"extensions\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"][\"extensions\"].hasOwnProperty(\"polls\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst pollOptions = [];\n\t\t//const pollExtensionData = this.props.message.metadata[\"@injected\"][\"extensions\"][\"polls\"];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tlet checkIcon = null;\n\t\t\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(this.state.loggedInUser?.uid)) {\n\t\t\t\tcheckIcon = <i css={checkIconStyle(checkImg, this.context)}></i>;\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option} onClick={event => this.answerPollQuestion(event, option)}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.state, optionData, this.context)}>\n\t\t\t\t\t\t{checkIcon}\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__poll__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverPollMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageImgContainerStyle,\n    messageImgWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverStickerMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t{stickerImg}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverStickerMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverStickerMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverStickerMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatReceiverWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_WHITEBOARD\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__whiteboard__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(whiteboardIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_WHITEBOARD\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"whiteboard__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"whiteboard__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverWhiteboardBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle,\n} from \"./style\";\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatSenderDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n            \n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_DOCUMENT\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (context, width) => {\n\n    return {\n        width: \"100%\",\n        color: `${context.theme.color.primary}`,\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: \"35px\",\n        padding: \"0 16px\",\n        height: \"100%\",\n        zIndex: \"2\",\n        \"p\": {\n            margin: \"0\",\n            width: \"calc(100% - 40px)\",\n            whiteSpace: \"pre-wrap\",\n            wordWrap: \"break-word\",\n            fontSize: \"14px\",\n        },\n        \"span\": {\n            maxWidth: \"40px\",\n            padding: \"0px 16px 0px 0px\",\n            fontWeight: \"bold\",\n            display: \"inline-block\",\n            fontSize: \"13px\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollTotalStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst pollOptions = [];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.results.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.context, width)}>\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderPollMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageImgWrapper,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderStickerBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} className=\"message__img__wrapper\">\n\t\t\t\t\t\t{stickerImg}{\" \"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderStickerBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderStickerBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderStickerBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"> img\": {\n            backgroundColor: \"white\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        paddingLeft: \"8px\"\n    }\n}\n\nexport const messageTxtIconStyle = (img, context) => {\n\n    return {\n        mask: `url(${img}) no-repeat left center`,\n        backgroundColor: `${context.theme.color.white}`,\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n                fontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageTxtIconStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatSenderWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_WHITEBOARD\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<i css={messageTxtIconStyle(whiteboardIcon, this.context)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderWhiteboardBubble };","export const actionMessageStyle = () => {\n\n    return {\n        padding: \"8px 16px\",\n        marginBottom: \"16px\",\n        textAlign: \"center\",\n        height: \"36px\"\n    }\n}\n\nexport const actionMessageTxtStyle = () => {\n\n    return {\n        fontSize: \"13.5px\",\n        margin: \"0\",\n        lineHeight: \"20px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { actionMessageStyle, actionMessageTxtStyle } from \"./style\"\n\nclass CometChatActionMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tgetCallActionMessage = message => {\n\t\tconst call = message;\n\t\tlet actionMessage = null;\n\n\t\tswitch (call.status) {\n\t\t\tcase CometChat.CALL_STATUS.INITIATED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_INITIATED\", this.context.language);\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.ONGOING: {\n\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\tactionMessage = Translator.translate(\"CALL_ACCEPTED\", this.context.language);\n\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.ONGOING) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_ACCEPTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === \"left\") {\n\t\t\t\t\t\tif (call.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\t\t\t\tactionMessage = `${Translator.translate(\"YOU\", this.context.language)} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionMessage = `${call.sender.name} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.UNANSWERED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_UNANSWERED\", this.context.language);\n\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_AUDIO_CALL\", this.context.language) : Translator.translate(\"MISSED_AUDIO_CALL\", this.context.language);\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_VIDEO_CALL\", this.context.language) : Translator.translate(\"MISSED_VIDEO_CALL\", this.context.language);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.REJECTED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_REJECTED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.ENDED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_ENDED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.CANCELLED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_CANCELLED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.BUSY:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_BUSY\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tconst byUser = message?.actionBy?.name;\n\t\tconst onUser = message?.actionOn?.name;\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"ADDED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"KICKED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"BANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"UNBANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message?.newScope;\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"MADE\", this.context.language)} ${onUser} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.category === CometChat.CATEGORY_CALL) {\n\t\t\tactionMessage = this.getCallActionMessage(message);\n\t\t} else if (message.category === CometChat.CATEGORY_ACTION) {\n\t\t\tactionMessage = this.getActionMessage(message);\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div css={actionMessageStyle()} className=\"action__message\">\n\t\t\t\t<p css={actionMessageTxtStyle()}>{this.getMessage(this.props.message)}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatActionMessageBubble.defaultProps = {\n    theme: theme,\n};\n\nCometChatActionMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatActionMessageBubble };","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageContainerStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\"\n    } : {\n        alignSelf: \"flex-start\"\n    };\n\n    return {\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        flexShrink: \"0\",\n        ...alignment\n    }\n}\n\nexport const messageWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        display: \"flex\",\n        flexDirection : \"column\",\n    } : {};\n\n    return {\n        flex: \"1 1\",\n        position: \"relative\",\n        width: \"100%\",\n        ...alignment\n    }\n}\n\nexport const messageTxtWrapperStyle = (props, context, loggedInUser) => {\n\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        padding: \"8px 12px\",\n        alignSelf: \"flex-end\",\n        Width: \"100%\",\n        backgroundColor: `${context.theme.backgroundColor.secondary}`,\n        fontStyle: \"italic\",\n        ...alignment\n    }\n}\n\nexport const messageTxtStyle = context => {\n\n\treturn {\n\t\tfontSize: \"14px!important\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"20px!important\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf : \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        ...alignment,\n    }\n}\n\nexport const messageTimeStampStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: 500,\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"uppercase\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"12px 0\",\n        float: \"left\",\n    }\n}\n\nexport const messageDetailStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpaddingLeft: \"5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tflex: \"1 1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tposition: \"relative\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameWrapperStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpadding: \"3px 5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\talignSelf: \"flex-start\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameStyle = context => {\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};","import React, { useContext, useState, useEffect } from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtStyle,\n    messageInfoWrapperStyle,\n    messageTimeStampStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle\n} from \"./style\";\n\nconst CometChatDeleteMessageBubble = (props) => {\n\n    const context = useContext(CometChatContext);\n\n\tconst [loggedInUser, setLoggedInUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tcontext.getLoggedinUser().then(user => {\n\t\t\tsetLoggedInUser({ ...user });\n\t\t});\n\t}, [context]);\n\n    let message = null;\n    const messageDate = (props.message.sentAt * 1000);\n    if (props.message?.sender?.uid === loggedInUser?.uid) {\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t{Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", context.language)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tlet avatar = null,\n\t\t\t\tname = null;\n\t\t\tif (props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tavatar = (\n\t\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t\t<CometChatAvatar user={props.message.sender} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tname = (\n\t\t\t\t\t<div css={nameWrapperStyle(props, loggedInUser)} className=\"message__name__wrapper\">\n\t\t\t\t\t\t<span css={nameStyle(context)} className=\"message__name\">\n\t\t\t\t\t\t\t{props.message.sender.name}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(props, loggedInUser)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"THIS_MESSAGE_DELETED\", context.language)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n    return (\n        <div css={messageContainerStyle(props, loggedInUser)} className=\"message__deleted\">\n            <div css={messageWrapperStyle(props, loggedInUser)} className=\"message__wrapper\">{message}</div>                            \n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatDeleteMessageBubble.defaultProps = {\n    theme: theme\n};\n\nCometChatDeleteMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatDeleteMessageBubble };","export const pickerStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \".emoji-mart\": {\n            borderRadius: \"5px 5px 0 0\",\n            borderBottom: \"0px\",\n            \".emoji-mart-category-list\": {\n                \" > li\": {\n                    width: \"50px\",\n                    height: \"30px\",\n                    margin: \"8px\",\n                    \".emoji-mart-emoji\": {\n                        width: \"50px\",\n                        height: \"30px\",\n                        padding: \"0px\",\n                        \" > span\": {\n                            width: \"50px!important\",\n                            height: \"30px!important\",\n                            cursor: \"pointer\",\n                        }\n                    }\n                }\n            },\n        },\n        \".emoji-mart-scroll\": {\n            height: \"200px\"\n        },\n        \".emoji-mart-preview, .emoji-mart-search\": {\n            display: \"none\"\n        },\n        \".emoji-mart-category\": {\n            \".emoji-mart-emoji:hover:before\": {\n                background: \"none\",\n                borderRadius: \"0px\",\n            }\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { Picker } from \"emoji-mart\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    pickerStyle\n} from \"./style\";\n\nclass CometChatEmojiKeyboard extends React.Component {\n\n    categories = {};\n    title = \"\";\n\n    constructor(props) {\n\n        super(props);\n\n        const categories = {\n            people: Translator.translate(\"SMILEY_PEOPLE\", props.lang),\n            nature: Translator.translate(\"ANIMALES_NATURE\", props.lang),\n            foods: Translator.translate(\"FOOD_DRINK\", props.lang),\n            activity: Translator.translate(\"ACTIVITY\", props.lang),\n            places: Translator.translate(\"TRAVEL_PLACES\", props.lang),\n            objects: Translator.translate(\"OBJECTS\", props.lang),\n            symbols: Translator.translate(\"SYMBOLS\", props.lang),\n            flags: Translator.translate(\"FLAGS\", props.lang)\n        }\n\n        const title = Translator.translate(\"PICK_YOUR_EMOJI\", props.lang);\n\n        this.state = {\n            categories: categories, \n            title: title\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n\n        if(prevProps.lang !== this.props.lang) {\n\n            const categories = {\n                search: Translator.translate(\"SEARCH\", this.props.lang),\n                people: Translator.translate(\"SMILEY_PEOPLE\", this.props.lang),\n                nature: Translator.translate(\"ANIMALES_NATURE\", this.props.lang),\n                foods: Translator.translate(\"FOOD_DRINK\", this.props.lang),\n                activity: Translator.translate(\"ACTIVITY\", this.props.lang),\n                places: Translator.translate(\"TRAVEL_PLACES\", this.props.lang),\n                objects: Translator.translate(\"OBJECTS\", this.props.lang),\n                symbols: Translator.translate(\"SYMBOLS\", this.props.lang),\n                flags: Translator.translate(\"FLAGS\", this.props.lang)\n            }\n\n            const title = Translator.translate(\"PICK_YOUR_EMOJI\", this.props.lang);\n\n            this.setState({ categories: { ...categories}, title: title });\n        }\n    }\n\n    render() {\n\n        const exclude = [\"search\", \"recent\"];\n        return(\n            <div css={pickerStyle()}>\n            <Picker\n            title={this.state.title}\n            emoji=\"point_up\"\n            native\n            onClick={this.props.emojiClicked}\n            showPreview={false}\n            exclude={exclude}\n            i18n={{ categories: this.state.categories }} \n            style={{ bottom: \"100px\", \"zIndex\": \"2\", \"width\": \"100%\", height: \"230px\" }} />\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatEmojiKeyboard.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n};\n\nCometChatEmojiKeyboard.propTypes = {\n    lang: PropTypes.string,\n}\n\nexport { CometChatEmojiKeyboard };","export const imageWrapperStyle = (context, closeIcon, img) => {\n\n    const heightProps = (img) ? {\n        height: \"auto\",\n    } : {\n        height: \"100%\",\n    };\n\n\tconst mq = [...context.theme.breakPoints];\n\n    return {\n\t\tposition: \"absolute\",\n\t\ttop: \"0\",\n\t\tleft: \"0\",\n\t\tbottom: \"0\",\n\t\tright: \"0\",\n\t\twidth: \"100%\",\n\t\tpadding: \"1.8% 2.3%\",\n\t\tzIndex: \"9999\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tbackground: `url(${closeIcon}) no-repeat 99% 0.8% #fff`,\n\t\tcursor: \"pointer\",\n\t\t...heightProps,\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n}\n\nexport const imgStyle = image => {\n\n    const sizeProps = (!image) ? {\n        width: \"24px\",\n        height: \"24px\",\n    } : {\n\t\tmaxHeight: \"100%\",\n\t};\n\n\treturn {\n\t\tobjectFit: \"contain\",\n\t\t...sizeProps,\n\t};\n};","export default __webpack_public_path__ + \"static/media/ring.f2985674.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React, { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport {\n    imageWrapperStyle,\n    imgStyle,\n} from \"./style\";\n\nimport loadingIcon from \"./resources/ring.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatImageViewer = (props) => {\n\n    const context = useContext(CometChatContext);\n    const [image, setImage] = React.useState(null);\n\n    let img = new Image();\n    img.src = props.message.data.url;\n\n    img.onload = () => {\n        setImage(img.src);\n    };\n\n    let imageIcon = null;\n    if (image) {\n        imageIcon = image;\n    } else {\n        imageIcon = loadingIcon;\n    }\n\n    return (\n        <React.Fragment>\n            <CometChatBackdrop show={true} clicked={props.close} />\n            <div css={imageWrapperStyle(context, closeIcon, image)} onClick={props.close} className=\"image__wrapper\">\n                <img src={imageIcon} css={imgStyle(image)} alt={imageIcon} />\n            </div>\n        </React.Fragment>\n    );\n}\n\n\n// Specifies the default values for props:\nCometChatImageViewer.defaultProps = {\n\tcount: 0,\n\tclose: () => {},\n};\n\nCometChatImageViewer.propTypes = {\n\tshow: PropTypes.bool,\n\tclose: PropTypes.func,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatImageViewer };","export const messagePreviewContainerStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tboxShadow: \"0px 1px 2px 1px rgba(0,0,0,0.18)\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messagePreviewWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\"\n    }\n}\n\nexport const previewImageStyle = (img) => {\n\n    return {\n        background: `url(${img}) no-repeat center center`,\n        backgroundSize: \"contain\",\n        height: \"150px\",\n        margin: \"12px 0\",\n    }\n}\n\nexport const previewDataStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tpadding: \"16px\",\n\t};\n};\n\nexport const previewTitleStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontWeight: \"700\",\n\t\tmarginBottom: \"8px\",\n\t};\n};\n\nexport const previewDescStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontStyle: \"italic\",\n\t\tfontSize: \"13px\",\n\t};\n};\n\nexport const previewTextStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\t\".message__txt__wrapper\": {\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.helpText}`,\n\t\t\tfontStyle: \"normal\",\n\t\t\tpadding: \"8px 0\",\n\t\t},\n\t};\n};\n\nexport const previewLinkStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: \"12px\",\n\t\t\"> a\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t\tfontWeight: \"700\",\n\t\t},\n\t};\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messagePreviewContainerStyle,\n    messagePreviewWrapperStyle,\n    previewImageStyle,\n    previewDataStyle,\n    previewTitleStyle,\n    previewDescStyle,\n    previewLinkStyle,\n    previewTextStyle,\n} from \"./style\";\n\nclass CometChatLinkPreview extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    render() {\n\n        const linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n        const linkObject = linkPreviewData[\"links\"][0];\n\n        const pattern = /(http:|https:)?\\/\\/(www\\.)?(youtube.com|youtu.be)(\\S+)?/;\n        const linkText = (linkObject[\"url\"].match(pattern)) ? Translator.translate(\"VIEW_ON_YOUTUBE\", this.context.language) : Translator.translate(\"VISIT\", this.context.language);\n\n        return (\n            <div css={messagePreviewContainerStyle(this.context)} className=\"message__preview\">\n                <div css={messagePreviewWrapperStyle()} className=\"preview__card\">\n                    <div css={previewImageStyle(linkObject[\"image\"])} className=\"card__image\"></div>\n                    <div css={previewDataStyle(this.context)} className=\"card__info\">\n                        <div css={previewTitleStyle(this.context)} className=\"card__title\"><span>{linkObject[\"title\"]}</span></div>\n                        <div css={previewDescStyle(this.context)} className=\"card__desc\"><span>{linkObject[\"description\"]}</span></div>\n                        <div css={previewTextStyle(this.context)} className=\"card__text\">{this.props.messageText}</div>\n                    </div>\n                    <div css={previewLinkStyle(this.context)} className=\"card__link\">\n                        <a href={linkObject[\"url\"]} target=\"_blank\" rel=\"noopener noreferrer\">{linkText}</a>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatLinkPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatLinkPreview.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatLinkPreview };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n    reactionContainerStyle,\n    reactionEmojiStyle\n} from \"./style\";\n\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatLiveReactions extends React.PureComponent {\n\n    static contextType = CometChatContext;\n    \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.parentElement = React.createRef();\n\n\t\tthis.counter = 0;\n\t\tthis.verticalSpeed = 5;\n\t\tthis.horizontalSpeed = 2;\n\t\tthis.items = [];\n\n\t\tthis.before = Date.now();\n\n\t\tconst reaction = props.reaction ? enums.CONSTANTS[\"LIVE_REACTIONS\"][props.reaction] : enums.CONSTANTS[\"LIVE_REACTIONS\"][\"heart\"];\n\t\tconst reactionImg = <img src={heartIcon} alt={reaction} />;\n\t\tthis.emojis = Array(6).fill(reactionImg);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t//this.sendMessage();\n\t\tthis.setItems();\n\t\tthis.requestAnimation();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.timer = null;\n\t}\n\n\tsendMessage = () => {\n\n        //fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n        const receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n        const receiverId = (this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER) ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\tsetItems = () => {\n\t\tconst width = this.parentElement.offsetWidth;\n\t\tconst height = this.parentElement.offsetHeight;\n\n\t\tconst elements = this.parentElement.querySelectorAll(\".emoji\");\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst element = elements[i],\n\t\t\t\telementWidth = element.offsetWidth,\n\t\t\t\telementHeight = element.offsetHeight;\n\n\t\t\tconst item = {\n\t\t\t\telement: element,\n\t\t\t\telementHeight: elementHeight,\n\t\t\t\telementWidth: elementWidth,\n\t\t\t\tySpeed: -this.verticalSpeed,\n\t\t\t\tomega: (2 * Math.PI * this.horizontalSpeed) / (width * 60), //omega= 2Pi*frequency\n\t\t\t\trandom: (Math.random() / 2 + 0.5) * i * 10000, //random time offset\n\t\t\t\tx: function (time) {\n\t\t\t\t\treturn ((Math.sin(this.omega * (time + this.random)) + 1) / 2) * (width - elementWidth);\n\t\t\t\t},\n\t\t\t\ty: height + (Math.random() + 1) * i * elementHeight,\n\t\t\t};\n\n\t\t\tthis.items.push(item);\n\t\t}\n\t};\n\n\trequestAnimation = () => {\n\t\tthis.timer = setTimeout(this.animate, 1000 / 60);\n\t};\n\n\tanimate = () => {\n\t\tif (!this.parentElement) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst height = this.parentElement.offsetHeight;\n\t\tconst time = +new Date(); //little trick, gives unix time in ms\n\n\t\tfor (let i = 0; i < this.items.length; i++) {\n\t\t\tconst item = this.items[i];\n\n\t\t\tconst transformString = \"translate3d(\" + item.x(time) + \"px, \" + item.y + \"px, 0px)\";\n\t\t\titem.element.style.transform = transformString;\n\n\t\t\titem.element.style.visibility = \"visible\";\n\n\t\t\tif (item.y <= height) {\n\t\t\t\titem.element.classList.add(\"fade\");\n\t\t\t}\n\n\t\t\titem.y += item.ySpeed;\n\t\t}\n\n\t\tthis.requestAnimation();\n\t};\n\n\trender() {\n\t\tconst emojis = this.emojis.map((emoji, index) => (\n\t\t\t<span className=\"emoji\" css={reactionEmojiStyle()} key={index}>\n\t\t\t\t{emoji}\n\t\t\t</span>\n\t\t));\n\t\treturn (\n\t\t\t<div ref={el => (this.parentElement = el)} css={reactionContainerStyle()}>\n\t\t\t\t{emojis}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatLiveReactions };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","export const reactionContainerStyle = () => {\n\n    return {\n        width: \"100px\",\n        height: \"calc(100% - 120px)\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: \"70px\",\n        right: \"0\",\n    }\n}\n\nexport const reactionEmojiStyle = () => {\n\n    return {\n        position: \"absolute\",\n        color: \"#DD4144\",\n        visibility: \"hidden\",\n        width: \"20px\",\n        height: \"20px\",\n        opacity: \"1\",\n        transition: \"opacity 3s\",\n        \"&.fade\": {\n            opacity: \"0\"\n        }\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageActionStyle = (props, context, loggedInUser) => {\n\n    const topPos = (props.message.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? { top: \"-4px\" } : { top: \"-30px\" };\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? { alignSelf: \"flex-end\" } : { alignSelf: \"flex-start\" };\n    const direction = (props.message?.sender?.uid === loggedInUser?.uid) ? { \n        \"li:not(:last-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    } : {\n        flexDirection: \"row-reverse\",\n        \"li:not(:first-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    };\n\n    return {\n        position: \"absolute\",\n        zIndex: \"1\",\n        display: \"flex\",\n        listStyleType: \"none\",\n        padding: \"8px\",\n        margin: \"0\",\n        height: \"35px\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        ...alignment,\n        ...topPos,\n        ...direction,\n    }\n}\n\nexport const actionGroupStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        position: \"relative\",\n    }\n}\n\nexport const groupButtonStyle = (img, context, deleteOption) => {\n\n    const backgroundProp = (deleteOption) ? {\n        backgroundColor: `${context.theme.color.red}!important`\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}!important`\n    };\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        height: \"24px\",\n        width: \"24px\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        mask: `url(${img}) center center no-repeat`,\n        ...backgroundProp\n    }\n}","export default __webpack_public_path__ + \"static/media/threaded-message.d845cc3f.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","export default __webpack_public_path__ + \"static/media/message-translate.80731563.svg\";","export default __webpack_public_path__ + \"static/media/send-message-in-private.293d36b5.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageActionStyle,\n\tactionGroupStyle,\n\tgroupButtonStyle\n} from \"./style\";\n\nimport startThreadIcon from \"./resources/threaded-message.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\nimport editIcon from \"./resources/edit.svg\";\nimport reactIcon from \"./resources/reactions.svg\";\nimport translateIcon from \"./resources/message-translate.svg\";\nimport sendMessageInPrivateIcon from \"./resources/send-message-in-private.svg\";\n\n\nclass CometChatMessageActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tenableMessageReaction: false,\n\t\t\tenableThreadedChats: false,\n\t\t\tenableDeleteMessage: false,\n\t\t\tenableEditMessage: false,\n\t\t\tenableTranslateMessage: false,\n\t\t\tenableMessageInPrivate: false,\n\t\t\tenableDeleteMessageForModerator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\n\t\t\tthis.setState({loggedInUser: { ...user }});\n\n\t\t}).then(() => {\n\n\t\t\tthis.enableMessageReaction();\n\t\t\tthis.enableThreadedChats();\n\t\t\tthis.enableDeleteMessage();\n\t\t\tthis.enableDeleteMessageForModerator();\n\t\t\tthis.enableEditMessage();\n\t\t\tthis.enableTranslateMessage();\n\t\t\tthis.enableMessageInPrivate();\n\t\t});\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t});\n\t};\n\n\tenableThreadedChats = () => {\n\t\t/**\n\t\t * If threaded chats are open, return false\n\t\t */\n\t\tif (this.props.message.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If threaded replies feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableThreadedChats: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessage = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessageForModerator = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMemberMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t});\n\t};\n\n\tenableEditMessage = () => {\n\t\t/**\n\t\t * If the message is not sent by the logged in user or the message type is not text\n\t\t */\n\t\tif (this.props.message.sender?.uid !== this.state.loggedInUser?.uid || this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isEditMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableEditMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t});\n\t};\n\n\tenableTranslateMessage = () => {\n\t\t/**\n\t\t * message type is not text\n\t\t */\n\t\tif (this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isMessageTranslationEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t});\n\t};\n\n\t/**\n\t * If message in private feature is enabled\n\t */\n\tenableMessageInPrivate = () => {\n\t\tthis.context.FeatureRestriction.isMessageInPrivateEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t});\n\t};\n\n\tsendMessageInPrivate = () => {\n\t\t\n\t\tconst item = this.props.message?.sender;\n\t\tconst type = CometChat.ACTION_TYPE.TYPE_USER;\n\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\treactToMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message);\n\t};\n\n\tviewThread = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], this.props.message);\n\t};\n\n\tdeleteMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_MESSAGE\"], this.props.message);\n\t};\n\n\teditMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"EDIT_MESSAGE\"], this.props.message);\n\t};\n\n\ttranslateMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TRANSLATE_MESSAGE\"], this.props.message);\n\t};\n\n\trender() {\n\t\t//don't show the tooltip while the message is being sent\n\t\tif (this.props.message.hasOwnProperty(\"sentAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet reactToMessage = null;\n\t\tif (this.state.enableMessageReaction) {\n\t\t\treactToMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(reactIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__reacttomessage\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"ADD_REACTION\", this.context.language)}\n\t\t\t\t\t\tonClick={this.reactToMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet threadedChats = null;\n\t\tif (this.state.enableThreadedChats) {\n\t\t\tthreadedChats = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(startThreadIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__threadedchats\"\n\t\t\t\t\t\tdata-title={this.props.message.replyCount ? Translator.translate(\"REPLY_TO_THREAD\", this.context.language) : Translator.translate(\"REPLY_IN_THREAD\", this.context.language)}\n\t\t\t\t\t\tonClick={this.viewThread}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * in one-on-one chat, allow deleting self messages if delete feature is enabled\n\t\t * in group chat, allow deleting other's messages for moderators and admins if moderator delete feature && delete feature is enabled\n\t\t */\n\t\tlet deleteMessage = null;\n\t\tif (\n\t\t\t(this.props.message.sender?.uid === this.state.loggedInUser?.uid && this.state.enableDeleteMessage) ||\n\t\t\t(this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP &&\n\t\t\t\tthis.props.message.sender?.uid !== this.state.loggedInUser?.uid &&\n\t\t\t\tthis.context.item.hasOwnProperty(\"scope\") &&\n\t\t\t\tthis.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT &&\n\t\t\t\tthis.state.enableDeleteMessageForModerator &&\n\t\t\t\tthis.state.enableDeleteMessage)\n\t\t) {\n\t\t\tdeleteMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(deleteIcon, this.context, 1)}\n\t\t\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"DELETE_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.deleteMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet editMessage = null;\n\t\tif (this.state.enableEditMessage) {\n\t\t\teditMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(editIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__edit\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"EDIT_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.editMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet translateMessage = null;\n\t\tif (this.state.enableTranslateMessage) {\n\t\t\ttranslateMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\tcss={groupButtonStyle(translateIcon, this.context)}\n\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\tdata-title={Translator.translate(\"TRANSLATE_MESSAGE\", this.context.language)}\n\t\t\t\t\tonClick={this.translateMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * if send message in private feature is enabled, if group chat window is open, and messages are not sent by the loggedin user...\n\t\t */\n\t\tlet messageInPrivate = null;\n\t\tif (this.state.enableMessageInPrivate === true && this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.props.message?.sender?.uid !== this.state.loggedInUser?.uid) {\n\t\t\tmessageInPrivate = (\n\t\t\t\t<li>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(sendMessageInPrivateIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"SEND_MESSAGE_IN_PRIVATE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.sendMessageInPrivate}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet tooltip = (\n\t\t\t<ul css={messageActionStyle(this.props, this.context, this.state.loggedInUser)} className=\"message__actions\">\n\t\t\t\t{reactToMessage}\n\t\t\t\t{threadedChats}\n\t\t\t\t{editMessage}\n\t\t\t\t{deleteMessage}\n\t\t\t\t{messageInPrivate}\n\t\t\t\t{translateMessage}\n\t\t\t</ul>\n\t\t);\n\n\t\tif (threadedChats === null && deleteMessage === null && editMessage === null && reactToMessage === null && translateMessage === null && messageInPrivate === null) {\n\t\t\ttooltip = null;\n\t\t}\n\n\t\treturn tooltip;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageActions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageActions.propTypes = {\n\ttheme: PropTypes.object.isRequired,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageActions };\n","export const chatComposerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\torder: \"3\",\n\t\tposition: \"relative\",\n\t\tflex: \"none\",\n\t\tminHeight: \"105px\",\n\t};\n};\n\nexport const editPreviewContainerStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -60px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"7px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborderColor: `${context.theme.borderColor.primary}`,\n\t\tborderWidth: \"1px 1px 1px 5px\",\n\t\tborderStyle: \"solid\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontSize: \"13px\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewTextStyle = () => {\n\n    return {\n        padding: \"5px 0\",\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const composerInputStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"row\",\n        alignItems: \"flex-end\",\n        position: \"relative\",\n        zIndex: \"2\",\n        padding: \"0\",\n        minHeight: \"85px\",\n    }\n}\n\nexport const inputInnerStyle = (props, state, context) => {\n\n    const borderRadiusVal = (state.emojiViewer || state.stickerViewer) ? {\n        borderRadius: \"0 0 8px 8px\",\n    } : {\n        borderRadius: \"8px\",\n    };\n\n    return {\n        flex: \"1 1 auto\",\n        position: \"relative\",\n        outline: \"none\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        minHeight: \"85px\",\n        ...borderRadiusVal\n    }\n}\n\nexport const messageInputStyle = (disabled) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents : \"none\",\n        opacity: \"0.4\"\n    } : {};\n\n    return {\n        width: \"100%\",\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        padding: \"16px\",\n        outline: \"none\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        position: \"relative\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        zIndex: \"1\",\n        minHeight: \"50px\",\n        maxHeight: \"100px\",\n        userSelect: \"text\",\n        ...disabledState,\n        '&:empty:before': {\n            content: \"attr(placeholder)\",\n            color: \"rgb(153, 153, 153)\",\n            pointerEvents: \"none\",\n            display: \"block\", /* For Firefox */\n        }\n    }\n}\n\nexport const inputStickyStyle = (disabled, attachments, context) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents: \"none\",\n    } : {};\n\n    const flexDirectionProp = (attachments === null) ? {\n        flexDirection: \"row-reverse\",\n    } : {};\n\n    return {\n        padding: \"8px 16px\",\n        // height: \"40px\",\n        borderTop: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        ...flexDirectionProp,\n        ...disabledState,\n        '&:empty:before': {\n            pointerEvents: \"none\",\n        }\n    }\n}\n\nexport const stickyAttachmentStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"auto\"\n    }\n}\n\nexport const attachmentIconStyle = () => {\n\n    return {\n        margin: \"auto 0\",\n        width: \"24px\",\n        height: \"20px\",\n        cursor: \"pointer\",\n    }\n}\n\nexport const filePickerStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        width: \"calc(100% - 20px)\",\n        opacity: \"1\",\n    } : {};\n\n    return {\n        width: \"0\",\n        borderRadius: \"8px\",\n        overflow: \"hidden\",\n        zIndex: \"1\",\n        opacity: \"0\",\n        transition: \"width 0.5s linear\",\n        ...active,\n    }\n}\n\nexport const fileListStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"0 0 0 16px\",\n    }\n}\n\nexport const fileItemStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: \"0 16px 0 0\",\n        \" > i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        },\n        ' > input': {\n            display: \"none\",\n        },\n    }\n}\n\nexport const stickyAttachButtonStyle = (img, context) => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"24px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const stickyButtonStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        display: \"none\",\n    } : {\n        display: \"flex\",\n    };\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"auto\",\n        ...active\n    }\n}\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const sendButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.primaryColor}`\n        }\n    }\n}\n\nexport const reactionBtnStyle = () => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n    }\n}\n\nexport const stickerBtnStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/video.2493964e.svg\";","export default __webpack_public_path__ + \"static/media/audio-file.5e5200f5.svg\";","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","export default __webpack_public_path__ + \"static/media/image.74b5a891.svg\";","export default __webpack_public_path__ + \"static/media/emoji.c7a39969.svg\";","export default __webpack_public_path__ + \"static/media/send-message.1fcc4bdc.svg\";","export default __webpack_public_path__ + \"static/media/polls.30ae277d.svg\";","export default __webpack_public_path__ + \"static/media/stickers.d5d3db8f.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport { CometChatSmartReplyPreview, CometChatCreatePoll, CometChatStickerKeyboard } from \"../Extensions\";\nimport { CometChatEmojiKeyboard } from \"../\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatComposerStyle,\n\teditPreviewContainerStyle,\n\tpreviewHeadingStyle,\n\tpreviewCloseStyle,\n\tpreviewTextStyle,\n\tcomposerInputStyle,\n\tinputInnerStyle,\n\tmessageInputStyle,\n\tinputStickyStyle,\n\tstickyAttachmentStyle,\n\tfilePickerStyle,\n\tfileListStyle,\n\tfileItemStyle,\n\tstickyAttachButtonStyle,\n\tstickyButtonStyle,\n\temojiButtonStyle,\n\tsendButtonStyle,\n\treactionBtnStyle,\n\tstickerBtnStyle\n} from \"./style\";\n\nimport roundedPlus from \"./resources/add-circle-filled.svg\";\nimport videoIcon from \"./resources/video.svg\";\nimport audioIcon from \"./resources/audio-file.svg\";\nimport docIcon from \"./resources/file-upload.svg\";\nimport imageIcon from \"./resources/image.svg\";\nimport insertEmoticon from \"./resources/emoji.svg\";\nimport sendBlue from \"./resources/send-message.svg\";\nimport pollIcon from \"./resources/polls.svg\";\nimport stickerIcon from \"./resources/stickers.svg\";\nimport closeIcon from \"./resources/close.svg\";\nimport documentIcon from \"./resources/collaborative-document.svg\";\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatMessageComposer extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imageUploaderRef = React.createRef();\n\t\tthis.fileUploaderRef = React.createRef();\n\t\tthis.audioUploaderRef = React.createRef();\n\t\tthis.videoUploaderRef = React.createRef();\n\t\tthis.messageInputRef = React.createRef();\n\t\tthis.liveReactionInProgress = false;\n\t\tthis.isTyping = false;\n\n\t\tthis.state = {\n\t\t\tshowFilePicker: false,\n\t\t\tmessageInput: \"\",\n\t\t\tmessageType: \"\",\n\t\t\temojiViewer: false,\n\t\t\tcreatePoll: false,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tstickerViewer: false,\n\t\t\tmessageToReact: \"\",\n\t\t\tshareDocument: false,\n\t\t\tshareWhiteboard: false,\n\t\t\tenableLiveReaction: false,\n\t\t\tenablePolls: false,\n\t\t\tenableTypingIndicator: false,\n\t\t\tenableStickers: false,\n\t\t\tenablePhotosVideos: false,\n\t\t\tenableFiles: false,\n\t\t\tenableEmojis: false,\n\t\t\tenableCollaborativeDocument: false,\n\t\t\tenableCollaborativeWhiteboard: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevProps.messageToBeEdited !== this.props.messageToBeEdited) {\n\t\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\t\tthis.setState({ messageInput: messageToBeEdited, messageToBeEdited: messageToBeEdited });\n\n\t\t\tconst element = this.messageInputRef.current;\n\t\t\tif (messageToBeEdited) {\n\t\t\t\tlet messageText = messageToBeEdited.text;\n\n\t\t\t\t//xss extensions data\n\t\t\t\tconst xssData = checkMessageForExtensionsData(messageToBeEdited, \"xss-filter\");\n\t\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t\t}\n\n\t\t\t\telement.focus();\n\t\t\t\telement.textContent = \"\";\n\t\t\t\tthis.pasteHtmlAtCaret(messageText, false);\n\t\t\t} else {\n\t\t\t\telement.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\tif (prevProps.replyPreview !== this.props.replyPreview) {\n\t\t\tthis.setState({ replyPreview: this.props.replyPreview });\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messageToReact);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messageToReact);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ messageToReact: this.props.messageToReact });\n\t\t}\n\n\t\tif (this.context.item !== this.item) {\n\t\t\tthis.messageInputRef.current.textContent = \"\";\n\t\t\tthis.setState({ stickerViewer: false, emojiViewer: false, replyPreview: null, messageToBeEdited: \"\", messageInput: \"\" });\n\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tif (prevState.messageInput !== this.state.messageInput) {\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\t/**\n\t * if live reactions feature is disabled\n\t */\n\tenableLiveReaction = () => {\n\t\tthis.context.FeatureRestriction.isLiveReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLiveReaction) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLiveReaction !== false) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if polls feature is disabled\n\t */\n\tenablePolls = () => {\n\t\tthis.context.FeatureRestriction.isPollsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePolls) {\n\t\t\t\t\tthis.setState({ enablePolls: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePolls !== false) {\n\t\t\t\t\tthis.setState({ enablePolls: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if stickers feature is disabled\n\t */\n\tenableStickers = () => {\n\t\tthis.context.FeatureRestriction.isStickersEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableStickers) {\n\t\t\t\t\tthis.setState({ enableStickers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableStickers !== false) {\n\t\t\t\t\tthis.setState({ enableStickers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding photos, videos feature is disabled\n\t */\n\tenablePhotosVideos = () => {\n\t\tthis.context.FeatureRestriction.isPhotosVideosEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePhotosVideos) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePhotosVideos !== false) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding files feature is disabled\n\t */\n\tenableFiles = () => {\n\t\tthis.context.FeatureRestriction.isFilesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableFiles) {\n\t\t\t\t\tthis.setState({ enableFiles: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableFiles !== false) {\n\t\t\t\t\tthis.setState({ enableFiles: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sending emojis feature is disabled\n\t */\n\tenableEmojis = () => {\n\t\tthis.context.FeatureRestriction.isEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableEmojis) {\n\t\t\t\t\tthis.setState({ enableEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative document feature is disabled\n\t */\n\tenableCollaborativeDocument = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeDocumentEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeDocument) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeDocument !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative whiteboard feature is disabled\n\t */\n\tenableCollaborativeWhiteboard = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeWhiteBoardEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeWhiteboard) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeWhiteboard !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfocusOnMessageComposer = () => {\n\t\tif (this.messageInputRef && this.messageInputRef.current) {\n\t\t\tthis.messageInputRef.current.focus();\n\t\t}\n\t};\n\n\tpasteHtmlAtCaret(html, selectPastedContent) {\n\t\tvar sel, range;\n\t\tconst chatWindow = this.context.UIKitSettings.chatWindow;\n\t\tif (chatWindow.getSelection) {\n\t\t\t// IE9 and non-IE\n\t\t\tsel = chatWindow.getSelection();\n\t\t\tif (sel.getRangeAt && sel.rangeCount) {\n\t\t\t\trange = sel.getRangeAt(0);\n\t\t\t\trange.deleteContents();\n\n\t\t\t\t// Range.createContextualFragment() would be useful here but is\n\t\t\t\t// only relatively recently standardized and is not supported in\n\t\t\t\t// some browsers (IE9, for one)\n\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\tel.innerText = html;\n\t\t\t\tvar frag = document.createDocumentFragment(),\n\t\t\t\t\tnode,\n\t\t\t\t\tlastNode;\n\t\t\t\twhile ((node = el.firstChild)) {\n\t\t\t\t\tlastNode = frag.appendChild(node);\n\t\t\t\t}\n\t\t\t\tvar firstNode = frag.firstChild;\n\t\t\t\trange.insertNode(frag);\n\n\t\t\t\t// Preserve the selection\n\t\t\t\tif (lastNode) {\n\t\t\t\t\trange = range.cloneRange();\n\t\t\t\t\trange.setStartAfter(lastNode);\n\t\t\t\t\tif (selectPastedContent) {\n\t\t\t\t\t\trange.setStartBefore(firstNode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange.collapse(true);\n\t\t\t\t\t}\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ((sel = document.selection) && sel.type !== \"Control\") {\n\t\t\t// IE < 9\n\t\t\tvar originalRange = sel.createRange();\n\t\t\toriginalRange.collapse(true);\n\t\t\tsel.createRange().pasteHTML(html);\n\t\t\tif (selectPastedContent) {\n\t\t\t\trange = sel.createRange();\n\t\t\t\trange.setEndPoint(\"StartToStart\", originalRange);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t}\n\t}\n\n\temojiClicked = (emoji, event) => {\n\t\tif (this.state.messageToReact) {\n\t\t\tthis.reactToMessages(emoji);\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = this.messageInputRef.current;\n\t\telement.focus();\n\t\tthis.pasteHtmlAtCaret(emoji.native, false);\n\t\tthis.setState({ messageInput: element.innerText, messageType: \"text\" });\n\t};\n\n\tchangeHandler = event => {\n\t\tthis.startTyping();\n\n\t\tconst elem = event.currentTarget;\n\t\tlet messageInput = elem.textContent.trim();\n\n\t\tif (!messageInput.length) {\n\t\t\tevent.currentTarget.textContent = messageInput;\n\t\t\t//return false;\n\t\t}\n\n\t\tthis.setState({ messageInput: elem.innerText, messageType: \"text\" });\n\t};\n\n\ttoggleFilePicker = () => {\n\t\tconst currentState = !this.state.showFilePicker;\n\t\tthis.setState({ showFilePicker: currentState });\n\t};\n\n\topenFileDialogue = fileType => {\n\t\tswitch (fileType) {\n\t\t\tcase \"image\":\n\t\t\t\tthis.imageUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"file\":\n\t\t\t\tthis.fileUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"audio\":\n\t\t\t\tthis.audioUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"video\":\n\t\t\t\tthis.videoUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonImageChange = e => {\n\t\tif (!this.imageUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.imageUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.IMAGE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonFileChange = e => {\n\t\tif (!this.fileUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.fileUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.FILE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonAudioChange = e => {\n\t\tif (!this.audioUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.audioUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.AUDIO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonVideoChange = e => {\n\t\tif (!this.videoUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.videoUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.VIDEO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.context.item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.context.item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\tsendMediaMessage = (messageInput, messageType) => {\n\t\tthis.toggleFilePicker();\n\t\tthis.endTyping(null, null);\n\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet mediaMessage = new CometChat.MediaMessage(receiverId, messageInput, messageType, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\tmediaMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\n\t\tmediaMessage.setSender(this.loggedInUser);\n\t\tmediaMessage.setReceiver(this.context.type);\n\t\tmediaMessage.setType(messageType);\n\t\tmediaMessage.setMetadata({\n\t\t\t[enums.CONSTANTS[\"FILE_METADATA\"]]: messageInput,\n\t\t});\n\t\tmediaMessage._composedAt = getUnixTimestamp();\n\t\tmediaMessage._id = ID();\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [mediaMessage]);\n\n\t\tCometChat.sendMessage(mediaMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: mediaMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...mediaMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendMessageOnEnter = event => {\n\t\tif (event.keyCode === 13 && !event.shiftKey) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendTextMessage();\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tsendTextMessage = () => {\n\t\tif (this.state.emojiViewer) {\n\t\t\tthis.setState({ emojiViewer: false });\n\t\t}\n\n\t\tif (!this.state.messageInput.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tthis.editMessage();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.endTyping(null, null);\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageInput = this.state.messageInput.trim();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage.setText(messageInput);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\t\tthis.setState({ messageInput: \"\", replyPreview: false });\n\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\teditMessage = () => {\n\t\tthis.endTyping(null, null);\n\n\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageText = this.state.messageInput.trim();\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageText, receiverType);\n\t\ttextMessage.setId(messageToBeEdited.id);\n\n\t\tconst newMessage = Object.assign({}, textMessage, { messageFrom: messageToBeEdited.messageFrom });\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessage);\n\n\t\tthis.setState({ messageInput: \"\" });\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tthis.closeEditPreview();\n\n\t\tCometChat.editMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], { ...message });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseEditPreview = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]);\n\t};\n\n\tstartTyping = (timer, metadata) => {\n\t\tlet typingInterval = timer || 5000;\n\n\t\t//if typing indicator feature is disabled\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.isTyping) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.startTyping(typingNotification);\n\n\t\tthis.isTyping = setTimeout(() => {\n\t\t\tthis.endTyping(null, typingMetadata);\n\t\t}, typingInterval);\n\t};\n\n\tendTyping = (event, metadata) => {\n\t\t//fixing synthetic issue\n\t\tif (event) {\n\t\t\tevent.persist();\n\t\t}\n\n\t\t//if typing indicator is disabled for chat wigdet in dashboard\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.endTyping(typingNotification);\n\n\t\tclearTimeout(this.isTyping);\n\t\tthis.isTyping = null;\n\t};\n\n\ttoggleStickerPicker = () => {\n\t\tconst stickerViewer = this.state.stickerViewer;\n\t\tthis.setState({ stickerViewer: !stickerViewer, emojiViewer: false });\n\t};\n\n\ttoggleEmojiPicker = () => {\n\t\tconst emojiViewer = this.state.emojiViewer;\n\t\tthis.setState({ emojiViewer: !emojiViewer, stickerViewer: false });\n\t};\n\n\ttoggleCreatePoll = () => {\n\t\tconst createPoll = this.state.createPoll;\n\t\tthis.setState({ createPoll: !createPoll });\n\t};\n\n\ttoggleCollaborativeDocument = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"document\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with document url\n\t\t\t\tif (response && response.hasOwnProperty(\"document_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"DOCUMENT_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"DOCUMENT_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleCollaborativeBoard = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"whiteboard\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with board_url\n\t\t\t\tif (response && response.hasOwnProperty(\"board_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"WHITEBOARD_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"WHITEBOARD_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseCreatePoll = () => {\n\t\tthis.toggleCreatePoll();\n\t\tthis.toggleFilePicker();\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"POLL_CREATED\"]:\n\t\t\t\tthis.toggleCreatePoll();\n\t\t\t\tthis.toggleFilePicker();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_STICKER\"]:\n\t\t\t\tthis.sendSticker(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]:\n\t\t\t\tthis.toggleStickerPicker();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsendSticker = stickerMessage => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tconst customData = { sticker_url: stickerMessage.stickerUrl, sticker_name: stickerMessage.stickerName };\n\t\tconst customType = enums.CUSTOM_TYPE_STICKER;\n\n\t\tconst customMessage = new CometChat.CustomMessage(receiverId, receiverType, customType, customData);\n\t\tif (this.props.parentMessageId) {\n\t\t\tcustomMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\tcustomMessage.setSender(this.loggedInUser);\n\t\tcustomMessage.setReceiver(this.context.type);\n\t\tcustomMessage.setMetadata({ incrementUnreadCount: true });\n\t\tcustomMessage._composedAt = getUnixTimestamp();\n\t\tcustomMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendCustomMessage(customMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: customMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...customMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendReplyMessage = messageInput => {\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.setState({ replyPreview: null });\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tclearReplyPreview = () => {\n\t\tthis.setState({ replyPreview: null });\n\t};\n\n\tstartLiveReaction = event => {\n\t\t//if a live reaction is already in progress, return\n\t\tif (this.animationInProgress === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\t//fetch the interval from the constants\n\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\n\t\t//mount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"SEND_LIVE_REACTION\"]);\n\t\tthis.sendTransientMessage();\n\n\t\t//set the timer to stop the live reaction\n\t\tthis.timeout = setTimeout(this.stopLiveReaction, liveReactionInterval);\n\t};\n\n\tstopLiveReaction = () => {\n\t\t\n\t\t//unmount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"]);\n\n\t\t//set the animation flag to false\n\t\tthis.animationInProgress = false;\n\t};\n\t\n\t\n\tsendTransientMessage = () => {\n\t\t//fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n\t\tconst receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n\t\tconst receiverId = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\treactToMessages = emoji => {\n\n\t\t//close the emoji keyboard\n\t\tthis.toggleEmojiPicker();\n\n\t\t//message object data structure\n\t\tlet messageObject = { ...this.state.messageToReact };\n\t\tlet newMessageObject = {};\n\t\tlet reactionObject = {};\n\n\t\tconst userObject = {};\n\t\tif (this.loggedInUser.avatar && this.loggedInUser.avatar.length) {\n\t\t\tuserObject[\"name\"] = this.loggedInUser.name;\n\t\t\tuserObject[\"avatar\"] = this.loggedInUser.avatar;\n\t\t} else {\n\t\t\tuserObject[\"name\"] = this.loggedInUser.name;\n\t\t}\n\n\t\tconst emojiObject = {\n\t\t\t[emoji.colons]: { [this.loggedInUser.uid]: userObject },\n\t\t};\n\n\t\tconst reactionExtensionsData = checkMessageForExtensionsData(messageObject, \"reactions\");\n\t\t//if the message object has reactions extension data in metadata\n\t\tif (reactionExtensionsData) {\n\t\t\t//if the reactions metadata has the selected emoji/reaction\n\t\t\tif (reactionExtensionsData[emoji.colons]) {\n\t\t\t\t//if the reactions metadata has the selected emoji/reaction for the loggedin user\n\t\t\t\tif (reactionExtensionsData[emoji.colons][this.loggedInUser.uid]) {\n\t\t\t\t\treactionObject = {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t};\n\t\t\t\t\tdelete reactionObject[emoji.colons][this.loggedInUser.uid];\n\t\t\t\t} else {\n\t\t\t\t\treactionObject = {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t\t[emoji.colons]: {\n\t\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"][emoji.colons],\n\t\t\t\t\t\t\t[this.loggedInUser.uid]: userObject,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treactionObject = {\n\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t...emojiObject,\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\tif (messageObject.hasOwnProperty(\"metadata\") === false) {\n\t\t\t\tmessageObject[\"metadata\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"].hasOwnProperty(\"@injected\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"][\"@injected\"].hasOwnProperty(\"extensions\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"][\"extensions\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"][\"@injected\"][\"extensions\"].hasOwnProperty(\"reactions\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"] = {};\n\t\t\t}\n\n\t\t\treactionObject = {\n\t\t\t\t...emojiObject,\n\t\t\t};\n\t\t}\n\n\t\tconst metadatObject = {\n\t\t\tmetadata: {\n\t\t\t\t...messageObject[\"metadata\"],\n\t\t\t\t\"@injected\": {\n\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"],\n\t\t\t\t\textensions: {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"],\n\t\t\t\t\t\treactions: {\n\t\t\t\t\t\t\t...reactionObject,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tnewMessageObject = {\n\t\t\t...messageObject,\n\t\t\tdata: {\n\t\t\t\t...messageObject,\n\t\t\t\t...metadatObject,\n\t\t\t},\n\t\t\t...metadatObject,\n\t\t};\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessageObject);\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.state.messageToReact.id,\n\t\t\temoji: emoji.colons,\n\t\t})\n\t\t.then(response => {\n\t\t\t// Reaction failed\n\t\t\tif (!response || !response.success || response.success !== true) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\trender() {\n\t\tlet liveReactionBtn = null;\n\t\tconst liveReactionText = Translator.translate(\"LIVE_REACTION\", this.context.language);\n\t\tif (enums.CONSTANTS[\"LIVE_REACTIONS\"].hasOwnProperty(this.props.reaction)) {\n\t\t\tconst reactionName = this.props.reaction;\n\t\t\tliveReactionBtn = (\n\t\t\t\t<div title={liveReactionText} css={reactionBtnStyle()} className=\"button__reactions\" onClick={this.startLiveReaction}>\n\t\t\t\t\t<img src={heartIcon} alt={reactionName} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet disabledState = false;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tdisabledState = true;\n\t\t}\n\n\t\tconst docText = Translator.translate(\"ATTACH_FILE\", this.context.language);\n\t\tlet docs = (\n\t\t\t<div\n\t\t\t\ttitle={docText}\n\t\t\t\tcss={fileItemStyle(docIcon, this.context)}\n\t\t\t\tclassName=\"filelist__item item__file\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.openFileDialogue(\"file\");\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t\t<input onChange={this.onFileChange} type=\"file\" id=\"file\" ref={this.fileUploaderRef} />\n\t\t\t</div>\n\t\t);\n\n\t\tconst videoText = Translator.translate(\"ATTACH_VIDEO\", this.context.language);\n\t\tconst audioText = Translator.translate(\"ATTACH_AUDIO\", this.context.language);\n\t\tconst imageText = Translator.translate(\"ATTACH_IMAGE\", this.context.language);\n\t\tlet avp = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\ttitle={videoText}\n\t\t\t\t\tcss={fileItemStyle(videoIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__video\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"video\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onVideoChange} accept=\"video/*\" type=\"file\" ref={this.videoUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={audioText}\n\t\t\t\t\tcss={fileItemStyle(audioIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__audio\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"audio\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onAudioChange} accept=\"audio/*\" type=\"file\" ref={this.audioUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={imageText}\n\t\t\t\t\tcss={fileItemStyle(imageIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__image\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"image\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onImageChange} accept=\"image/*\" type=\"file\" ref={this.imageUploaderRef} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tconst pollText = Translator.translate(\"CREATE_POLL\", this.context.language);\n\t\tlet createPollBtn = (\n\t\t\t<div title={pollText} css={fileItemStyle(pollIcon, this.context)} className=\"filelist__item item__poll\" onClick={this.toggleCreatePoll}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeDocText = Translator.translate(\"COLLABORATE_USING_DOCUMENT\", this.context.language);\n\t\tlet collaborativeDocBtn = (\n\t\t\t<div title={collaborativeDocText} css={fileItemStyle(documentIcon, this.context)} className=\"filelist__item item__document\" onClick={this.toggleCollaborativeDocument}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeBoardText = Translator.translate(\"COLLABORATE_USING_WHITEBOARD\", this.context.language);\n\t\tlet collaborativeBoardBtn = (\n\t\t\t<div title={collaborativeBoardText} css={fileItemStyle(whiteboardIcon, this.context)} className=\"filelist__item item__whiteboard\" onClick={this.toggleCollaborativeBoard}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst emojiText = Translator.translate(\"EMOJI\", this.context.language);\n\t\tlet emojiBtn = (\n\t\t\t<div\n\t\t\t\ttitle={emojiText}\n\t\t\t\tcss={emojiButtonStyle(insertEmoticon, this.context)}\n\t\t\t\tclassName=\"button__emoji\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.toggleEmojiPicker();\n\t\t\t\t\tthis.setState({ messageToReact: \"\" });\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst StickerText = Translator.translate(\"STICKER\", this.context.language);\n\t\tlet stickerBtn = (\n\t\t\t<div title={StickerText} css={stickerBtnStyle(stickerIcon, this.context)} className=\"button__sticker\" onClick={this.toggleStickerPicker}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst sendMessageText = Translator.translate(\"SEND_MESSAGE\", this.context.language);\n\t\tlet sendBtn = (\n\t\t\t<div title={sendMessageText} css={sendButtonStyle(sendBlue, this.context)} className=\"button__send\" onClick={this.sendTextMessage}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if uploading photos, videos feature is disabled\n\t\tif (this.state.enablePhotosVideos === false) {\n\t\t\tavp = null;\n\t\t}\n\n\t\t//if files upload are disabled for chat widget in dashboard\n\t\tif (this.state.enableFiles === false) {\n\t\t\tdocs = null;\n\t\t}\n\n\t\t//if polls feature is disabled\n\t\tif (this.state.enablePolls === false || this.props.parentMessageId) {\n\t\t\tcreatePollBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeDocument === false || this.props.parentMessageId) {\n\t\t\tcollaborativeDocBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeWhiteboard === false || this.props.parentMessageId) {\n\t\t\tcollaborativeBoardBtn = null;\n\t\t}\n\n\t\t//if emojis are disabled for chat widget in dashboard\n\t\tif (this.state.enableEmojis === false) {\n\t\t\temojiBtn = null;\n\t\t}\n\n\t\t//if live reactions is disabled for chat widget in dashboard\n\t\tif (this.state.enableLiveReaction === false || this.state.messageInput.length || this.props.parentMessageId) {\n\t\t\tliveReactionBtn = null;\n\t\t}\n\n\t\t//if stickers is disabled for chat widget in dashboard\n\t\tif (this.state.enableStickers === false) {\n\t\t\tstickerBtn = null;\n\t\t}\n\n\t\tif (!this.state.messageInput.length) {\n\t\t\tsendBtn = null;\n\t\t}\n\n\t\tconst attachText = Translator.translate(\"ATTACH\", this.context.language);\n\t\tlet attach = (\n\t\t\t<div css={stickyAttachmentStyle()} className=\"input__sticky__attachment\">\n\t\t\t\t<div css={stickyAttachButtonStyle(roundedPlus, this.context)} className=\"attachment__icon\" onClick={this.toggleFilePicker} title={attachText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t\t<div css={filePickerStyle(this.state)} className=\"attachment__filepicker\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={fileListStyle()} className=\"filepicker__filelist\">\n\t\t\t\t\t\t{avp}\n\t\t\t\t\t\t{docs}\n\t\t\t\t\t\t{createPollBtn}\n\t\t\t\t\t\t{collaborativeDocBtn}\n\t\t\t\t\t\t{collaborativeBoardBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (avp === null && docs === null && createPollBtn === null && collaborativeDocBtn === null && collaborativeBoardBtn === null) {\n\t\t\tattach = null;\n\t\t}\n\n\t\tlet createPoll = null;\n\t\tif (this.state.createPoll) {\n\t\t\tcreatePoll = <CometChatCreatePoll close={this.closeCreatePoll} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet editPreview = null;\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tlet messageText = this.state.messageToBeEdited.text;\n\n\t\t\t//xss extensions data\n\t\t\tconst xssData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"xss-filter\");\n\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t}\n\n\t\t\t//datamasking extensions data\n\t\t\tconst maskedData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"data-masking\");\n\t\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\t\tmessageText = maskedData.data.message_masked;\n\t\t\t}\n\n\t\t\t//profanity extensions data\n\t\t\tconst profaneData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"profanity-filter\");\n\t\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\t\tmessageText = profaneData.message_clean;\n\t\t\t}\n\n\t\t\teditPreview = (\n\t\t\t\t<div css={editPreviewContainerStyle(this.context, keyframes)}>\n\t\t\t\t\t<div css={previewHeadingStyle()}>\n\t\t\t\t\t\t<div css={previewTextStyle()}>{Translator.translate(\"EDIT_MESSAGE\", this.context.language)}</div>\n\t\t\t\t\t\t<span css={previewCloseStyle(closeIcon, this.context)} onClick={this.closeEditPreview}></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{messageText}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet smartReplyPreview = null;\n\t\tif (this.state.replyPreview) {\n\t\t\tconst message = this.state.replyPreview;\n\n\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\tconst options = [smartReplyData[\"reply_positive\"], smartReplyData[\"reply_neutral\"], smartReplyData[\"reply_negative\"]];\n\t\t\t\tsmartReplyPreview = <CometChatSmartReplyPreview options={options} clicked={this.sendReplyMessage} close={this.clearReplyPreview} />;\n\t\t\t}\n\t\t}\n\n\t\tlet stickerViewer = null;\n\t\tif (this.state.stickerViewer) {\n\t\t\tstickerViewer = <CometChatStickerKeyboard actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet emojiViewer = null;\n\t\tif (this.state.emojiViewer) {\n\t\t\temojiViewer = <CometChatEmojiKeyboard emojiClicked={this.emojiClicked} lang={this.context.language} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatComposerStyle(this.context)} className=\"chat__composer\">\n\t\t\t\t{editPreview}\n\t\t\t\t{smartReplyPreview}\n\t\t\t\t{stickerViewer}\n\t\t\t\t{emojiViewer}\n\t\t\t\t<div css={composerInputStyle()} className=\"composer__input\">\n\t\t\t\t\t<div tabIndex=\"-1\" css={inputInnerStyle(this.props, this.state, this.context)} className=\"input__inner\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={messageInputStyle(disabledState)}\n\t\t\t\t\t\t\tclassName=\"input__message-input\"\n\t\t\t\t\t\t\tcontentEditable=\"true\"\n\t\t\t\t\t\t\tplaceholder={Translator.translate(\"ENTER_YOUR_MESSAGE_HERE\", this.context.language)}\n\t\t\t\t\t\t\tdir={Translator.getDirection(this.context.language)}\n\t\t\t\t\t\t\tonInput={this.changeHandler}\n\t\t\t\t\t\t\tonBlur={event => this.endTyping(event)}\n\t\t\t\t\t\t\tonKeyDown={this.sendMessageOnEnter}\n\t\t\t\t\t\t\tref={this.messageInputRef}></div>\n\t\t\t\t\t\t<div css={inputStickyStyle(disabledState, attach, this.context)} className=\"input__sticky\">\n\t\t\t\t\t\t\t{attach}\n\t\t\t\t\t\t\t<div css={stickyButtonStyle(this.state)} className=\"input__sticky__buttons\">\n\t\t\t\t\t\t\t\t{stickerBtn}\n\t\t\t\t\t\t\t\t{emojiBtn}\n\t\t\t\t\t\t\t\t{sendBtn}\n\t\t\t\t\t\t\t\t{liveReactionBtn}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createPoll}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageComposer.defaultProps = {\n  theme: theme,\n  reaction: \"heart\"\n};\n\nCometChatMessageComposer.propTypes = {\n  theme: PropTypes.object,\n  reaction: PropTypes.string\n}\n\nexport { CometChatMessageComposer };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class MessageHeaderManager {\n\n    userListenerId = \"head_user_\" + new Date().getTime();\n    msgListenerId = \"head_message_\" + new Date().getTime();\n    groupListenerId = \"head_group_\" + new Date().getTime();\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTypingStarted: typingIndicator => {\n                    callback(enums.TYPING_STARTED, typingIndicator);\n                },\n                onTypingEnded: typingIndicator => {\n                    callback(enums.TYPING_ENDED, typingIndicator);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, kickedUser);\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, bannedUser);\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn);\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, leavingUser);\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup);\n                }\n            })\n        );\n\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const chatHeaderStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t};\n};\n\nexport const chatDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        width: \"calc(100% - 116px)\",\n    }\n}\n\nexport const chatSideBarBtnStyle = (img, props, context) => {\n\n    const displayValue = (props.hasOwnProperty(\"sidebar\") && props.sidebar === 0) ? { display: \"none!important\"} : {};\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        float: \"left\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block\"\n\t\t},\n        ...displayValue\n    }\n}\n\nexport const chatThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        margin: \"0 16px\",\n    }\n}\n\nexport const chatUserStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\tpadding: \"0\",\n\t\tflexGrow: \"1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"calc(100% - 80px)!important\",\n\t\t},\n\t};\n};\n\nexport const chatNameStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        color: `${context.theme.primary}`,\n    }\n}\n\nexport const chatStatusStyle = (state, context) => {\n\n    let status = {};\n    if (context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\n        status = {\n            color: `${context.theme.color.blue}`,\n            textTransform: \"capitalize\",\n        };\n\n        if (state.presence === \"offline\") {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"capitalize\",\n            }\n        } \n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"none\",\n                fontStyle: \"italic\",\n            };\n        }\n        \n    } else if (context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\n        status = {\n            color: `${context.theme.color.helpText}`,\n        }\n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                fontStyle: \"italic\",\n            };\n        }\n    }\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        ...status\n    }\n}\n\nexport const chatOptionWrapStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"auto\",\n    }\n}\n\nexport const chatOptionStyle = (img, context, ongoingCall) => {\n\n    const bgColor = (ongoingCall) ? {\n        backgroundColor: `${context.theme.secondaryTextColor}`\n    } : {\n        backgroundColor: `${context.theme.primaryColor}`\n    };\n    \n    return {\n        width: \"24px\",\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            ...bgColor\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/menu.0c8d2d60.svg\";","export default __webpack_public_path__ + \"static/media/audio-call.05d2b303.svg\";","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","export default __webpack_public_path__ + \"static/media/info.aadd7d93.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageHeaderManager } from \"./controller\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  chatHeaderStyle, \n  chatDetailStyle, \n  chatSideBarBtnStyle, \n  chatThumbnailStyle,\n  chatUserStyle,\n  chatNameStyle,\n  chatStatusStyle,\n  chatOptionWrapStyle,\n  chatOptionStyle\n} from \"./style\";\n\nimport menuIcon from \"./resources/menu.svg\";\nimport audioCallIcon from \"./resources/audio-call.svg\";\nimport videoCallIcon from \"./resources/video-call.svg\";\nimport detailPaneIcon from \"./resources/info.svg\";\n\nclass CometChatMessageHeader extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tstatus: \"\",\n\t\t\tpresence: \"offline\",\n\t\t\ttyping: null,\n\t\t\tenableGroupVoiceCall: false,\n\t\t\tenableGroupVideoCall: false,\n\t\t\tenableOneOnOneVoiceCall: false,\n\t\t\tenableOneOnOneVideoCall: false,\n\t\t\tenableUserPresence: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableTypingIndicator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.MessageHeaderManager = new MessageHeaderManager();\n\t\tthis.MessageHeaderManager.attachListeners(this.updateHeader);\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.item !== this.context.item || prevProps.lang !== this.props.lang)) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && (this.item !== this.context.item || prevProps.lang !== this.props.lang)) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tsetStatusForUser = () => {\n\t\tlet status = \"\";\n\t\tconst presence = this.context.item.status === CometChat.USER_STATUS.ONLINE ? CometChat.USER_STATUS.ONLINE : CometChat.USER_STATUS.OFFLINE;\n\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t}\n\t\t\n\t\tthis.setState({status: status, presence: presence});\n\t};\n\n\tsetStatusForGroup = () => {\n\t\tlet membersText = Translator.translate(\"MEMBERS\", this.props.lang);\n\t\tconst status = `${this.context.item.membersCount} ${membersText}`;\n\t\tthis.setState({status: status});\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageHeaderManager.removeListeners();\n\t\tthis.MessageHeaderManager = null;\n\t}\n\n\tupdateHeader = (key, item, groupUser) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === item.uid) {\n\t\t\t\t\t\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t\t\t\t} else if (item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({status: status, presence: item.status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid && this.loggedInUser?.uid !== groupUser?.uid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_STARTED:\n\t\t\t\tthis.onTypingStarted(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_ENDED: \n\t\t\t\tthis.onTypingEnded(item);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonTypingStarted = item => {\n\n\t\tconst showTyping = typingText => {\n\t\t\t\n\t\t\t/**\n\t\t\t * if metadata is available, show live reactions else show typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"SHOW_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: typingText});\n\t\t\t\t} \n\t\t\t//}\n\t\t};\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\tconst typingText = `${item.sender.name} ${Translator.translate(\"IS_TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\t\t\tconst typingText = `${Translator.translate(\"TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t}\n\t};\n\n\tonTypingEnded = item => {\n\n\t\tconst endTyping = () => {\n\t\t\t/**\n\t\t\t * if metadata is available, end live reactions else end typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: null});\n\t\t\t\t} \n\t\t\t//}\n\t\t}\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\t\n\t\t\tthis.setStatusForGroup();\n\t\t\tendTyping();\n\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\n\t\t\tif (this.state.presence === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\tthis.setState({status: Translator.translate(\"ONLINE\", this.context.language), presence: CometChat.USER_STATUS.ONLINE});\n\t\t\t} else {\n\t\t\t\tthis.setStatusForUser();\n\t\t\t}\n\n\t\t\tendTyping();\n\t\t}\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tresetChat = () => {\n\t\tthis.context.setItem({});\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableGroupVoiceCall = () => {};\n\n\tenableGroupVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isGroupVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupVideoCall) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVoiceCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneAudioCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVoiceCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVoiceCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVideoCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence) {\n\t\t\t\t\tthis.setState({enableUserPresence: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({enableUserPresence: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope) {\n\t\t\t\t\tthis.setState({enableChangeScope: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false) {\n\t\t\t\t\tthis.setState({enableChangeScope: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia) {\n\t\t\t\t\tthis.setState({enableSharedMedia: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false) {\n\t\t\t\t\tthis.setState({enableSharedMedia: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser) {\n\t\t\t\t\tthis.setState({enableBlockUser: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false) {\n\t\t\t\t\tthis.setState({enableBlockUser: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tinitiateAudioCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]);\n\t}\n\n\tinitiateVideoCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]);\n\t}\n\n\tviewDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_DETAIL\"]);\n\t}\n\n\trender() {\n\n\t\tlet avatar, presence;\n\t\tlet videoCallClassName = \"option__videocall-user\";\n\t\tlet audioCallClassName = \"option__audiocall-user\";\n\t\tlet viewDetailClassName = \"option__viewdetail-user\";\n\t\tlet chatWithClassName = \"chat__user\";\n\t\tlet chatNameClassName = \"user__name\";\n\t\tlet chatStatusClassName = \"user__status\";\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tavatar = <CometChatAvatar user={this.context.item} />;\n\t\t\tpresence = <CometChatUserPresence status={this.state.presence} borderColor={this.props.theme.borderColor.primary} />;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tchatWithClassName = \"chat__group\";\n\t\t\tchatNameClassName = \"group__name\";\n\t\t\tchatStatusClassName = \"group__members\";\n\t\t\tvideoCallClassName = \"option__videocall-group\";\n\t\t\taudioCallClassName = \"option__audiocall-group\";\n\t\t\tviewDetailClassName = \"option__viewdetail-group\";\n\t\t\tavatar = <CometChatAvatar group={this.context.item} />;\n\t\t}\n\n\t\tlet typing = null;\n\t\tif(this.state.typing) {\n\t\t\ttyping = (\n\t\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t\t{this.state.typing}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet status = (\n\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t{this.state.status}\n\t\t\t</span>\n\t\t);\n\n\t\tconst audioCallText = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\tlet audioCallBtn = (\n\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 0)} title={audioCallText} onClick={this.initiateAudioCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst audioCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\taudioCallBtn = (\n\t\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 1)} title={audioCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst videoCallText = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\tlet videoCallBtn = (\n\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 0)} title={videoCallText} onClick={this.initiateVideoCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst videoCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\tvideoCallBtn = (\n\t\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 1)} title={videoCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst viewDetailText = Translator.translate(\"VIEW_DETAIL\", this.context.language);\n\t\tlet viewDetailBtn = (\n\t\t\t<div className={viewDetailClassName} css={chatOptionStyle(detailPaneIcon, this.context, 0)} title={viewDetailText} onClick={this.viewDetail}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t/**\n\t\t * If the chat window open is of users and block user and shared media feature is disabled, hide view detail button\n\t\t */\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tif (this.state.enableBlockUser === false && this.state.enableSharedMedia === false) {\n\t\t\t\tviewDetailBtn = null;\n\t\t\t}\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t/**\n\t\t\t * If the chat window open is of group\n\t\t\t */\n\t\t\tif (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is participant, leave group, view group members, and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is moderator, leave group, view group members, kick & ban group members, changing scope of group members and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is admin, add group members, view group members, kick & ban group members, changing scope of group members, leave and delete group and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (\n\t\t\t\t\tthis.state.enableLeaveGroup === false &&\n\t\t\t\t\tthis.state.enableSharedMedia === false &&\n\t\t\t\t\tthis.state.enableViewGroupMembers === false &&\n\t\t\t\t\tthis.state.enableKickGroupMembers === false &&\n\t\t\t\t\tthis.state.enableBanGroupMembers === false &&\n\t\t\t\t\tthis.state.enableChangeScope === false &&\n\t\t\t\t\tthis.state.enableDeleteGroup === false &&\n\t\t\t\t\tthis.state.enableAddGroupMembers === false\n\t\t\t\t) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//if audiocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVoiceCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVoiceCall === false)) {\n\t\t\taudioCallBtn = null;\n\t\t}\n\n\t\t//if videocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVideoCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVideoCall === false)) {\n\t\t\tvideoCallBtn = null;\n\t\t}\n\n\t\t//if user presence is disabled in chat widget\n\t\tif (this.state.enableUserPresence === false && this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tstatus = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatHeaderStyle(this.context)} className=\"chat__header\">\n\t\t\t\t<div css={chatDetailStyle()} className=\"chat__details\">\n\t\t\t\t\t<div css={chatSideBarBtnStyle(menuIcon, this.props, this.context)} className=\"chat__sidebar-menu\" onClick={this.resetChat}></div>\n\t\t\t\t\t<div css={chatThumbnailStyle()} className=\"chat__thumbnail\">\n\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t{presence}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatUserStyle(this.context)} className={chatWithClassName}>\n\t\t\t\t\t\t<h6 css={chatNameStyle(this.context)} className={chatNameClassName} onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.context.item.name}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t{typing ? typing : status}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={chatOptionWrapStyle()} className=\"chat__options\">\n\t\t\t\t\t{videoCallBtn}\n\t\t\t\t\t{audioCallBtn}\n\t\t\t\t\t{viewDetailBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageHeader.defaultProps = {\n  theme: theme,\n  item: {},\n  type: \"\"\n};\n\nCometChatMessageHeader.propTypes = {\n  theme: PropTypes.object,\n  item: PropTypes.object,\n  type: PropTypes.string\n}\n\nexport { CometChatMessageHeader };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums\";\n\nclass MessageFilter {\n\n\tcategories = {};\n\ttypes = null;\n\tcontext;\n\n\tconstructor(context) {\n\n        this.context = context;\n\n\t\tthis.categories = {\n\t\t\t[CometChat.CATEGORY_MESSAGE]: CometChat.CATEGORY_MESSAGE,\n\t\t\t[CometChat.CATEGORY_CUSTOM]: CometChat.CATEGORY_CUSTOM,\n\t\t\t[CometChat.CATEGORY_ACTION]: CometChat.CATEGORY_ACTION,\n\t\t\t[CometChat.CATEGORY_CALL]: CometChat.CATEGORY_CALL,\n\t\t};\n\n\t\tthis.types = {\n\t\t\t[CometChat.MESSAGE_TYPE.TEXT]: CometChat.MESSAGE_TYPE.TEXT,\n\t\t\t[CometChat.MESSAGE_TYPE.IMAGE]: CometChat.MESSAGE_TYPE.IMAGE,\n\t\t\t[CometChat.MESSAGE_TYPE.VIDEO]: CometChat.MESSAGE_TYPE.VIDEO,\n\t\t\t[CometChat.MESSAGE_TYPE.AUDIO]: CometChat.MESSAGE_TYPE.AUDIO,\n\t\t\t[CometChat.MESSAGE_TYPE.FILE]: CometChat.MESSAGE_TYPE.FILE,\n\t\t\t[enums.CUSTOM_TYPE_POLL]: enums.CUSTOM_TYPE_POLL,\n\t\t\t[enums.CUSTOM_TYPE_STICKER]: enums.CUSTOM_TYPE_STICKER,\n\t\t\t[enums.CUSTOM_TYPE_DOCUMENT]: enums.CUSTOM_TYPE_DOCUMENT,\n\t\t\t[enums.CUSTOM_TYPE_WHITEBOARD]: enums.CUSTOM_TYPE_WHITEBOARD,\n\t\t\t[enums.CUSTOM_TYPE_MEETING]: enums.CUSTOM_TYPE_MEETING,\n\t\t\t[CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER]: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t[CometChat.CALL_TYPE.AUDIO]: CometChat.CALL_TYPE.AUDIO,\n\t\t\t[CometChat.CALL_TYPE.VIDEO]: CometChat.CALL_TYPE.VIDEO,\n\t\t};\n\t}\n\n\tgetCategories = () => {\n\n\t\tconst categories = {...this.categories};\n\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\t}\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.then(categories => {\n\t\t\t\t\tthis.context.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t};\n\n\tgetTypes = () => {\n\n        const types = {...this.types};\n        return new Promise(resolve => resolve(types));\n\t};\n}\n\nexport default MessageFilter;","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport MessageFilter from \"./MessageFilter\";\n\nexport class MessageListManager {\n\n    item = {};\n    type = \"\";\n    parentMessageId = null;\n    messageRequest = null;\n    limit = 30;\n    \n    msgListenerId = \"message_\" + new Date().getTime();\n    groupListenerId = \"group_\" + new Date().getTime();\n    callListenerId = \"call_\" + new Date().getTime(); \n\n    constructor(context, item, type, parentMessageId) {\n\n        this.item = item;\n        this.type = type;\n        this.parentMessageId = parentMessageId;\n        this.context = context;\n    }\n\n    initializeMessageRequest = () => {\n\n        return new Promise(resolve => {\n\n            let categories = {};\n            let types = {};\n\n            let messageFilterManager = new MessageFilter(this.context);\n\n            messageFilterManager\n                .getCategories()\n                .then(categoryList => categories = Object.keys(categoryList))\n                .then(() => messageFilterManager.getTypes())\n                .then(typeList => types = Object.keys(typeList))\n                .then(() => this.context.FeatureRestriction.isHideDeletedMessagesEnabled())\n                .then(hideDeletedMessages => {\n                    if (this.type === CometChat.ACTION_TYPE.TYPE_USER) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    } else if (this.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    }\n                });\n\n        });\n    }\n\n    fetchPreviousMessages() {\n        return this.messageRequest.fetchPrevious();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                },\n                onMessagesDelivered: messageReceipt => {\n                    callback(enums.MESSAGE_DELIVERED, messageReceipt);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, messageReceipt);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, editedMessage);\n                },\n                onTransientMessageReceived: transientMessage => {\n                    callback(enums.TRANSIENT_MESSAGE_RECEIVED, transientMessage);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n        \n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n                onOutgoingCallRejected: call => {\n                  callback(enums.OUTGOING_CALL_REJECTED, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const chatListStyle = context => {\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\twidth: \"100%\",\n\t\tflex: \"1 1 0\",\n\t\torder: \"2\",\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const listWrapperStyle = () => {\n\n    return {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"scroll\",\n        position: \"absolute\",\n        top: \"0\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        paddingTop: \"16px\"\n    }\n}\n\nexport const messageDateContainerStyle = () => {\n\n    return {\n        marginBottom: \"16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"35px\",\n    }\n}\n\nexport const messageDateStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px 12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tborderRadius: \"10px\",\n\t};\n};\n\nexport const decoratorMessageStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const decoratorMessageTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"36px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t};\n};","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageListManager } from \"./controller\";\n\nimport { \n  CometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n  CometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n  CometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n  CometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n  CometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n  CometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n  CometChatDeleteMessageBubble, CometChatActionMessageBubble\n} from \"../\"\n\nimport {\n  CometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n  CometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n  CometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n  CometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\"\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { getMessageDate } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n\tchatListStyle,\n\tlistWrapperStyle,\n\tmessageDateContainerStyle,\n\tmessageDateStyle,\n\tdecoratorMessageStyle,\n\tdecoratorMessageTxtStyle\n} from \"./style\";\n\nclass CometChatMessageList extends React.PureComponent {\n\tloggedInUser = null;\n\tlastScrollTop = 0;\n\ttimes = 0;\n\titem = {};\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\tonItemClick: null,\n\t\t\tloggedInUser: null,\n\t\t\tdecoratorMessage: \"LOADING\",\n\t\t};\n\n\t\tthis.messagesEnd = React.createRef();\t\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedInUser: user,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t\t\n\t\tif (Object.keys(this.context.item).length === 0 && this.context.type.trim().length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\t\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst ifChatWindowChanged = () => {\n\t\t\tlet output = false;\n\n\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.context.item.uid !== this.item.uid || this.context.item.blockedByMe !== this.item.blockedByMe)) {\n\t\t\t\toutput = true;\n\t\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid !== this.item.guid) {\n\t\t\t\toutput = true;\n\t\t\t} else if (prevProps.parentMessageId !== this.props.parentMessageId) {\n\t\t\t\toutput = true;\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\n\t\tif (ifChatWindowChanged() === true) {\n\t\t\tthis.messageCount = 0;\n\t\t\tthis.setState({ decoratorMessage: \"LOADING\" });\n\n\t\t\tthis.MessageListManager?.removeListeners();\n\n\t\t\tif (this.props.parentMessageId) {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t\t} else {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t\t}\n\n\t\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\t\tthis.MessageListManager?.attachListeners(this.messageUpdated);\n\t\t\t});\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messages);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messages);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tif (this.props.scrollToBottom) {\n\t\t\t\tthis.scrollToBottom();\n\t\t\t} else {\n\t\t\t\tthis.scrollToBottom(this.lastScrollTop);\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\t\tif (this.context.leftGroupId.trim().length) {\n\t\t\tthis.item = {};\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageListManager?.removeListeners();\n\t\tthis.MessageListManager = null;\n\t}\n\n\tscrollToBottom = (scrollHeight = 0) => {\n\n\t\tif (this.messagesEnd) {\n\t\t\tthis.messagesEnd.scrollTop = this.messagesEnd.scrollHeight - scrollHeight;\n\t\t}\n\t};\n\n\tmessageHandler = (item, actionGenerated = enums.ACTIONS[\"MESSAGES_FETCHED\"]) => {\n\t\tthis.fetchMessages()\n\t\t\t.then(messageList => {\n\t\t\t\tif (messageList.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"NO_MESSAGES_FOUND\" });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\t//updating messagecount variable\n\t\t\t\tthis.messageCount = messageList.length;\n\n\t\t\t\tmessageList.forEach(message => {\n\t\t\t\t\t//if the sender of the message is not the loggedin user\n\t\t\t\t\tif (message.getSender().getUid() !== this.state.loggedInUser?.uid) {\n\t\t\t\t\t\t//mark the message as delivered\n\t\t\t\t\t\tthis.markMessageAsDelivered(message);\n\n\t\t\t\t\t\t//mark the message as read\n\t\t\t\t\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\t\t\t\t\tCometChat.markAsRead(message).catch(error => {});\n\t\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_READ\"], message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.lastScrollTop = this.messagesEnd.scrollHeight;\n\n\t\t\t\t//abort(don't return messagelist), when the chat window changes\n\t\t\t\tif ((item.hasOwnProperty(\"uid\") && this.context.item.hasOwnProperty(\"uid\") && item.uid === this.context.item.uid) || (item.hasOwnProperty(\"guid\") && this.context.item.hasOwnProperty(\"guid\") && item.guid === this.context.item.guid)) {\n\t\t\t\t\tthis.props.actionGenerated(actionGenerated, messageList);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.props.messages.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"SOMETHING_WRONG\" });\n\t\t\t\t}\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfetchMessages = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis.MessageListManager.fetchPreviousMessages()\n\t\t\t\t.then(messageList => {\n\t\t\t\t\tresolve(messageList);\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\t//callback for listener functions\n\tmessageUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) \n\t\t{\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.onMessageDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\t\tthis.onMessageEdited(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_DELIVERED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessageReadAndDelivered(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\t\tthis.onMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.onCustomMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.onGroupUpdated(key, message, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.onCallUpdated(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.onTransientMessageReceived(key, message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonMessageDeleted = message => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t}\n\t};\n\n\tonMessageEdited = message => {\n\t\tconst messageList = [...this.props.messages];\n\t\tconst updateEditedMessage = message => {\n\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\tif (messageKey > -1) {\n\t\t\t\tconst messageObj = messageList[messageKey];\n\t\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_EDITED\"], messageList, newMessageObj);\n\t\t\t}\n\t\t};\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getReceiverId() && message.getSender().uid === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getSender().uid && message.getReceiverId() === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t}\n\t};\n\n\tonMessageReadAndDelivered = message => {\n\n\t\t//read receipts\n\t\tif (message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().getUid() === this.context.item.uid && message.getReceiver() === this.state.loggedInUser?.uid) {\n\t\t\tlet messageList = [...this.props.messages];\n\n\t\t\tif (message.getReceiptType() === \"delivery\") {\n\t\t\t\t//search for message\n\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = messageList[messageKey];\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { deliveredAt: message.getDeliveredAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t} else if (message.getReceiptType() === \"read\") {\n\t\t\t\t//search for message\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = { ...messageList[messageKey] };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { readAt: message.getReadAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiver() === this.context.item.guid) {\n\t\t\t//not implemented\n\t\t}\n\t};\n\n\treInitializeMessageBuilder = () => {\n\t\tif (this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\tthis.messageCount = 0;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REFRESHING_MESSAGES\"], []);\n\t\tthis.setState({ decoratorMessage: \"LOADING\" });\n\t\tthis.MessageListManager.removeListeners();\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_REFRESHED\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t};\n\n\t//mark the message as delivered\n\tmarkMessageAsDelivered = message => {\n\n\t\tif (message.sender?.uid !== this.state.loggedInUser?.uid && message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message).catch(error => {});\n\t\t}\n\t};\n\n\tmarkMessageAsRead = (message, type) => {\n\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\tCometChat.markAsRead(message).catch(error => {});\n\t\t}\n\t};\n\n\tonMessageReceived = message => {\n\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t/**\n\t\t * message receiver is chat window group\n\t\t */\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t/**\n\t\t\t * If the message sender is chat window user and message receiver is logged-in user\n\t\t\t * OR\n\t\t\t * If the message sender is logged-in user and message receiver is chat window user\n\t\t\t */\n\t\t\tif ((message.getSender().uid === this.context.item.uid && message.getReceiverId() === this.state.loggedInUser?.uid) || (message.getSender().uid === this.state.loggedInUser?.uid && message.getReceiverId() === this.context.item.uid)) {\n\t\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight <= 1) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled up in chat window\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\t//polls, stickers, collaborative document, collaborative whiteboard\n\tonCustomMessageReceived = message => {\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t//new messages\n\t\tif (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.guid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t} else if (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.uid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tcustomMessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight <= 1) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled in chat window\n\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tonCallUpdated = (key, message) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonTransientMessageReceived = (key, message) => {\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonGroupUpdated = (key, message, group, options) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message, null, group, options);\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\n\t\tconst scrollTop = e.currentTarget.scrollTop;\n\t\tconst scrollHeight = e.currentTarget.scrollHeight;\n\t\tconst clientHeight = e.currentTarget.clientHeight;\n\n\t\tthis.lastScrollTop = scrollHeight - scrollTop;\n\n\t\tif (this.lastScrollTop === clientHeight) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]);\n\t\t}\n\n\t\tconst top = Math.round(scrollTop) === 0;\n\t\tif (top && this.props.messages.length) {\n\t\t\tthis.messageHandler(this.context.item);\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = message.text ? <CometChatReceiverTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = message.data.attachments ? <CometChatReceiverFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatSenderStickerBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\t\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetActionMessageComponent = message => {\n\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\treturn <CometChatActionMessageBubble key={messageKey} message={message} />;\n\t};\n\n\tgetComponent = (message, key) => {\n\t\tlet component;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\tcomponent = this.getActionMessageComponent(message);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0 && this.props.messages.length === 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={decoratorMessageStyle()} className=\"messages__decorator-message\">\n\t\t\t\t\t<p css={decoratorMessageTxtStyle(this.context)} className=\"decorator-message\">\n\t\t\t\t\t\t{Translator.translate(this.state.decoratorMessage, this.props.lang)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet cDate = null;\n\t\tconst messages = this.props.messages.map((message, key) => {\n\t\t\tlet dateSeparator = null;\n\n\t\t\tconst dateField = message._composedAt || message.sentAt;\n\n\t\t\tconst messageDate = message.sentAt * 1000;\n\t\t\tconst messageSentDate = dateFormat(messageDate, \"dd/mm/yyyy\");\n\n\t\t\tif (cDate !== messageSentDate) {\n\t\t\t\tdateSeparator = (\n\t\t\t\t\t<div css={messageDateContainerStyle()} className=\"message__date\">\n\t\t\t\t\t\t<span css={messageDateStyle(this.context)}>{getMessageDate(dateField, this.context.language)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcDate = messageSentDate;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={key}>\n\t\t\t\t\t{dateSeparator}\n\t\t\t\t\t{this.getComponent(message, key)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"chat__list\" css={chatListStyle(this.context)}>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"list__wrapper\"\n\t\t\t\t\tcss={listWrapperStyle()}\n\t\t\t\t\tref={el => {\n\t\t\t\t\t\tthis.messagesEnd = el;\n\t\t\t\t\t}}\n\t\t\t\t\tonScroll={this.handleScroll}>\n\t\t\t\t\t{messages}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageList.defaultProps = {\n  theme: theme\n};\n\nCometChatMessageList.propTypes = {\n  theme: PropTypes.object\n}\n\nexport { CometChatMessageList };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class SharedMediaManager {\n\n    mediaMessageListenerId = new Date().getTime();\n    mediaMessageRequest = null;\n\n    constructor(item, type, messagetype) {\n\n        if(type === \"user\") {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setUID(item.uid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n\n        } else {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setGUID(item.guid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n        }\n    }\n\n    fetchPreviousMessages() {\n        return this.mediaMessageRequest.fetchPrevious();\n    }\n    \n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.mediaMessageListenerId);\n    }\n\n}","export const sectionStyle = (props) => {\n\n    const containerHeightProp = (props.containerHeight) ? {\n        height: `calc(100% - ${props.containerHeight})`\n    } : {\n        height: \"calc(100% - 20px)\"\n    };\n\n    \n    return {\n        width: \"100%\",\n        ...containerHeightProp\n    }\n}\n\nexport const sectionHeaderStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500!important\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"calc(100% - 20px)\"\n    }\n}\n\nexport const mediaBtnStyle = () => {\n\n    return {\n        borderRadius: \"8px\",\n        backgroundColor: \"rgba(20, 20, 20, 0.08)\",\n        width: \"100%\",\n        padding: \"2px\",\n        margin: \"6px 0\",\n        clear: \"both\",\n    }\n}\n\nexport const buttonStyle = (state, type) => {\n\n    const activeBtn = (state.messagetype === type) ? {\n        backgroundColor : \"#fff\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 3px 1px, rgba(20, 20, 20, 0.12) 0 3px 8px\",\n        borderRadius: \"7px\",\n        \"&::before\": {\n            display: \"none\",\n        }\n    } : {};\n\n    return {\n        display: \"inline-block\",\n        width: \"33.33%\",\n        float: \"left\",\n        fontSize: \"13px\",\n        fontWeight: \"500\",\n        lineHeight: \"18px\",\n        padding: \"5px\",\n        position: \"relative\",\n        textAlign: \"center\",\n        cursor: \"pointer\",\n        ...activeBtn,\n        \"&:before\": {\n            \"`content`\": \"\",\n            position: \"absolute\",\n            display: \"block\",\n            width: \"2px\",\n            height: \"16px\",\n            backgroundColor: \"rgba(20, 20, 20, 0.12)\",\n            right: \"-2px\",\n            top: \"6px\",\n        },\n        \"&:last-of-type::before\": {\n            display: \"none\",\n        }\n    }\n}\n\nexport const mediaItemStyle = () => {\n\n    return {\n        height: \"calc(100% - 45px)\",\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const itemStyle = (state, props, img, context) => {\n\n    let itemTypeStyle = {};\n    let bgColor = `${props.theme.backgroundColor.lightGrey}`;\n\n    if (state.messagetype === \"image\") {\n\n        itemTypeStyle = {\n            height: \"120px\",\n            width: \"120px\",\n            backgroundColor: bgColor,\n            \"> img\": {\n                display: \"block\",\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"contain\",\n            }\n        }\n        \n    } else if (state.messagetype === \"video\") {\n\n        itemTypeStyle = {\n            \"> video\": {\n                height: \"120px\",\n                width: \"120px\",\n                margin: \"auto\",\n            }\n        }\n\n    } else if (state.messagetype === \"file\") {\n\n        itemTypeStyle = {\n            backgroundColor: bgColor,\n            \"> a\": {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                margin: \"auto\",\n                display: \"flex\",\n                padding: \"8px\",\n                \"&:hover, &:visited\": {\n                    color: `${props.theme.secondaryTextColor}`,\n                },\n                \"> i\": {\n                    width: \"30px\",\n                    height: \"24px\",\n                    display: \"inline-block\",\n                    mask: `url(${img}) left center no-repeat`,\n\t\t            backgroundColor: `${context.theme.secondaryTextColor}`,\n                },\n                \"> span\": {\n                    fontSize: \"13px\",\n                    color: `${props.theme.secondaryTextColor}`,\n                    whiteSpace: \"pre-wrap\",\n                    wordWrap: \"break-word\",\n                    textAlign: \"left\",\n                    width: \"calc(100% - 30px)\"\n                }\n\n            }\n        }\n\n    }\n\n    return {\n        margin: \"0.5rem\",\n        textAlign: \"center\",\n        flex: \"1 0 auto\",\n        ...itemTypeStyle,\n        \"@for $i from 1 through 36\": {\n            \"&:nth-of-type(#{$i})\": {\n            maxWidth: \"100%\",\n            }\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { SharedMediaManager } from \"./controller\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    mediaBtnStyle,\n    buttonStyle,\n    mediaItemStyle,\n    itemStyle,\n\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSharedMediaView extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this.state = {\n            messagetype: \"image\",\n            messageList: []\n        }\n\n        this.messageContainer = React.createRef();\n\n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    componentDidMount() {\n\n        this._isMounted = true;\n        this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n        this.getMessages(true);\n        this.SharedMediaManager.attachListeners(this.messageUpdated);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if(prevState.messagetype !== this.state.messagetype) {\n\n            this.SharedMediaManager = null;\n            this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n            this.getMessages(true);\n            this.SharedMediaManager.attachListeners(this.messageUpdated);\n        }\n    }\n\n    componentWillUnmount() {\n        this.SharedMediaManager.removeListeners();\n        this.SharedMediaManager = null;\n        this._isMounted = false;\n    }\n\n    //callback for listener functions\n    messageUpdated = (key, message) => {\n\n        switch(key) {\n\n            case enums.MESSAGE_DELETED:\n              this.messageDeleted(message);\n              break;\n            case enums.MEDIA_MESSAGE_RECEIVED:\n              this.messageReceived(message);\n              break;\n            default:\n              break;\n        }\n    }\n\n    messageDeleted = (deletedMessage) => {\n  \n        const messageType = deletedMessage.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && deletedMessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && deletedMessage.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            const messageList = [...this.state.messageList];\n            const filteredMessages = messageList.filter(message => message.id !== deletedMessage.id);\n            this.setState({ messageList: filteredMessages, scrollToBottom: false });\n        }\n    }\n    \n    //message is received or composed & sent\n    messageReceived = (message) => {\n\n        const messageType = message.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && message.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            let messages = [...this.state.messageList];\n            messages = messages.concat(message);\n            this.setState({ messageList: messages, scrollToBottom: true });\n        }\n    }\n\n    getMessages = (scrollToBottom = false) => {\n        \n        this.SharedMediaManager.fetchPreviousMessages().then(messages => {\n    \n            const messageList = [...messages, ...this.state.messageList];\n            if (this._isMounted) {\n\n                this.setState({messageList: messageList});\n                if(scrollToBottom) {\n                    this.scrollToBottom();\n                }\n            } \n    \n        }).catch(error => {\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    scrollToBottom = () => {\n      \n        if (this.messageContainer) {\n            this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const top = Math.round(e.currentTarget.scrollTop) === 0;\n        if (top && this.state.messageList.length) {\n            this.getMessages();\n        }\n    }\n\n    mediaClickHandler = (type) => {\n        this.setState({messagetype: type, messageList: []});\n    }\n\n    render() {\n\n        const template = (message, key) => {\n\n            if(this.state.messagetype === \"image\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__image\">\n                        <img src={message.data.url} alt={Translator.translate(\"SHARED_MEDIA\", this.props.lang)} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"video\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__video\">\n                        <video src={message.data.url} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"file\" && message.data.attachments) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__file\">\n                        <a href={message.data.attachments[0].url} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\">\n                            <i></i>\n                           <span>{message.data.attachments[0].name}</span>\n                        </a>\n                    </div>\n                );\n            }\n        }\n\n        const messages = [...this.state.messageList];\n        const messageList = messages.map((message, key) => {\n            return (template(message, key));\n        });\n\n        return (\n            <div css={sectionStyle(this.props)} className=\"section section__sharedmedia\">\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"SHARED_MEDIA\", this.props.lang)}</h6>\n                <div css={sectionContentStyle(this.props)} data-id=\"sharedmedia\" className=\"section__content\">\n                    <div css={mediaBtnStyle()} className=\"media__button\">\n                        <span css={buttonStyle(this.state, \"image\")} onClick={() => this.mediaClickHandler(\"image\")}>{Translator.translate(\"PHOTOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"video\")} onClick={() => this.mediaClickHandler(\"video\")}>{Translator.translate(\"VIDEOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"file\")} onClick={() => this.mediaClickHandler(\"file\")}>{Translator.translate(\"DOCS\", this.props.lang)}</span>\n                    </div>\n                    <div css={mediaItemStyle()} className=\"media_items\" \n                    ref={el => this.messageContainer = el}\n                    onScroll={this.handleScroll}>{(messageList.length) ? messageList : Translator.translate(\"NO_RECORDS_FOUND\", this.props.lang)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatSharedMediaView.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatSharedMediaView.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatSharedMediaView };","import {CometChat} from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class UserDetailManager {\n\tuserListenerId = \"user_detail_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(enums.USER_ONLINE, onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(enums.USER_OFFLINE, offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","import {CometChat} from \"@cometchat-pro/chat\";\nimport Translator from \"../../../resources/localization/translator\";\n\nexport const userDetailStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tposition: \"relative\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\theight: \"69px\",\n\t};\n};\n\nexport const headerCloseStyle = (img, context) => {\n\t\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n\t\t\tdisplay: \"block\",\n\t\t},\n\t};\n};\n\nexport const headerTitleStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontWeight: \"700\",\n\t\tfontSize: \"20px\",\n\t};\n};\n\nexport const sectionStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const actionSectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t\t\".item__link\": {\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t},\n\t};\n};\n\nexport const privacySectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tcolor: `${context.theme.color.red}`,\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t};\n};\n\nexport const mediaSectionStyle = () => {\n\treturn {\n\t\theight: \"calc(100% - 255px)\",\n\t\twidth: \"100%\",\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const sectionHeaderStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"12px\",\n\t\tfontWeight: \"500!important\",\n\t\tlineHeight: \"20px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\ttextTransform: \"uppercase\",\n\t};\n};\n\nexport const sectionContentStyle = () => {\n\treturn {\n\t\twidth: \"100%\",\n\t\tmargin: \"6px 0\",\n\t};\n};\n\nexport const contentItemStyle = () => {\n\treturn {\n\t\t\"width\": 100 % \"\",\n\t\t\"&:not(:first-of-type):not(:last-of-type)\": {\n\t\t\tpadding: \"6px 0\",\n\t\t},\n\t};\n};\n\nexport const itemLinkStyle = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tlineHeight: \"20px\",\n\t\tfontWeight: \"600\",\n\t\tdisplay: \"inline-block\",\n\t\tcolor: `${context.theme.color.red}`,\n\t};\n};\n\nexport const userInfoSectionStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-start\",\n\t};\n};\n\nexport const userThumbnailStyle = () => {\n\treturn {\n\t\twidth: \"35px\",\n\t\theight: \"35px\",\n\t\tdisplay: \"inline-block\",\n\t\tflexShrink: \"0\",\n\t\tmargin: \"0 16px 0 0\",\n\t};\n};\n\nexport const userNameStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"22px\",\n\t\twidth: \"100%\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const userStatusStyle = () => {\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t};\n};\n\nexport const userPresenceStyle = (context, state) => {\n\t\n\tlet status = state.status ? state.status.toLowerCase() : \"\";\n\tlet compareTo = Translator.translate((CometChat.USER_STATUS.ONLINE).toUpperCase(), context.language).toLowerCase();\n\tstatus = status === compareTo ? { color: `${context.theme.color.blue}` } : { color: `${context.theme.color.helpText}` };\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\ttextTransform: \"capitalize\",\n\t\tfontSize: \"13px\",\n\t\tfontWeight: \"400\",\n\t\tlineHeight: \"20px\",\n\t\t...status,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared/\";\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { UserDetailManager } from \"./controller\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tuserDetailStyle,\n\theaderStyle,\n\theaderCloseStyle,\n\theaderTitleStyle,\n\tsectionStyle,\n\tactionSectionStyle,\n\tmediaSectionStyle,\n\tprivacySectionStyle,\n\tsectionHeaderStyle,\n\tsectionContentStyle,\n\tcontentItemStyle,\n\titemLinkStyle,\n\tuserInfoSectionStyle,\n\tuserThumbnailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\tuserPresenceStyle,\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserDetails extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tstatus: null,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableViewProfile: false,\n\t\t\tenableUserPresence: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.UserDetailManager = new UserDetailManager();\n\t\tthis.UserDetailManager.attachListeners(this.updateUser);\n\n\t\tthis.setStatusForUser();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\n\t\tif (prevProps.lang !== this.props.lang) {\n\t\t\tthis.setStatusForUser();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tthis.UserDetailManager.removeListeners();\n\t\tthis.UserDetailManager = null;\n\t}\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableUserPresence: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({ enableUserPresence: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tupdateUser = (key, user) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === user.uid) {\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (user.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t\t\t\t} else if (user.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ status: status });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsetStatusForUser = () => {\n\t\tlet status = null;\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t}\n\n\t\tthis.setState({ status: status });\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewProfile = () => {\n\t\tthis.context.FeatureRestriction.isViewProfileEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableViewProfile && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewProfile !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tblockUser = () => {\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.blockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, this.context.item, { blockedByMe: true });\n\t\t\t\t\tthis.context.setTypeAndItem(newType, newItem);\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tunblockUser = () => {\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.unblockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\t\t\t\t\t\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, this.context.item, { blockedByMe: false });\n\t\t\t\t\tthis.context.setTypeAndItem(newType, newItem);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tviewProfile = () => {\n\t\tconst profileLink = this.context.item.link;\n\t\twindow.open(profileLink, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t};\n\n\tcloseDetailView = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_USER_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewProfile = null;\n\t\tif (this.state.enableViewProfile === true && this.context.item.hasOwnProperty(\"link\") && this.context.item.link && this.context.item.link.trim().length) {\n\t\t\tviewProfile = (\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={actionSectionStyle(this.context)} className=\"section section__viewprofile\">\n\t\t\t\t\t\t<h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">\n\t\t\t\t\t\t\t{Translator.translate(\"ACTIONS\", this.context.language)}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.viewProfile}>\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"VIEW_PROFILE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserText;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.unblockUser}>\n\t\t\t\t\t{Translator.translate(\"UNBLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.blockUser}>\n\t\t\t\t\t{Translator.translate(\"BLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserView = (\n\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<div css={privacySectionStyle(this.context)} className=\"section section__privacy\">\n\t\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t\t</h6>\n\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t{blockUserText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\t//if block/unblock user feature is disabled\n\t\tif (this.state.enableBlockUser === false) {\n\t\t\tblockUserView = null;\n\t\t}\n\n\t\tlet sharedmediaView = (\n\t\t\t<div css={mediaSectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<CometChatSharedMediaView theme={this.props.theme} lang={this.context.language} />\n\t\t\t</div>\n\t\t);\n\n\t\t//if shared media feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userDetailStyle(this.context)} className=\"detailpane detailpane--user\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeDetailView}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={userInfoSectionStyle()} className=\"section section__userinfo\">\n\t\t\t\t\t\t<div css={userThumbnailStyle()} className=\"user__thumbnail\">\n\t\t\t\t\t\t\t<CometChatAvatar user={this.context.item} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userStatusStyle()} className=\"user__status\">\n\t\t\t\t\t\t\t<h6 css={userNameStyle()}>{this.context.item.name}</h6>\n\t\t\t\t\t\t\t<span css={userPresenceStyle(this.context, this.state)}>{this.state.status}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{viewProfile}\n\t\t\t\t{blockUserView}\n\t\t\t\t{sharedmediaView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserDetails.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatUserDetails.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatUserDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class UserListManager {\n\n    userRequest = null;\n    userListenerId = \"userlist_\" + new Date().getTime();\n\n    constructor(context, searchKey) {\n\n        this.context = context;\n        this.searchKey = searchKey;\n    }\n\n    initializeUsersRequest = () => {\n\n        const userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n        return new Promise((resolve, reject) => {\n            if (userListMode === userListModeOptions[\"ALL\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else {\n                return reject({message: \"Invalid filter for userlist\"});\n            }\n        });\n    }\n\n    fetchNextUsers() {\n        return this.usersRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(offlineUser);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n    }\n}","export const contactWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const contactHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const contactHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const contactHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const contactSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const contactSearchButtonStyle = (img, theme) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const contactSearchInputStyle = (props) => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        outline: \"none\",\n        border: \"none\",\n        height: \"100%\",\n        color: props.theme.color.search,\n        backgroundColor: \"transparent\",\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const contactMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const contactListStyle = () => {\n    \n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n\nexport const contactAlphabetStyle = (props) => {\n    \n    return {\n        padding: \"0 16px\",\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.tertiary}`\n    }\n}\n","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { UserListManager } from \"./controller\";\n\nimport { CometChatUserListItem } from \"../../Users\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  contactWrapperStyle, \n  contactHeaderStyle, \n  contactHeaderCloseStyle, \n  contactHeaderTitleStyle,\n  contactSearchStyle,\n  contactSearchButtonStyle,\n  contactSearchInputStyle,\n  contactMsgStyle,\n  contactMsgTxtStyle,\n  contactListStyle,\n  contactAlphabetStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserList extends React.PureComponent {\n\n\titem;\n\ttimeout;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserlist: [],\n\t\t\tenableSearchUser: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.userListRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\n\t\tthis.UserListManager = new UserListManager(this.getContext())\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.getUsers();\n\t\t\t\tthis.UserListManager.attachListeners(this.userUpdated);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\t//if user is blocked/unblocked, update userlist\n\t\tif (this.item \n\t\t&& Object.keys(this.item).length\n\t\t&& this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid\n\t\t&& this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\n\t\t\tlet userlist = [...this.state.userlist];\n\n\t\t\t\t//search for user\n\t\t\t\tlet userKey = userlist.findIndex(u => u.uid === this.getContext().item.uid);\n\t\t\t\tif(userKey > -1) {\n\n\t\t\t\tlet userObject = { ...userlist[userKey] };\n\t\t\t\tlet newUserObject = Object.assign({}, userObject, { blockedByMe: this.getContext().item.blockedByMe });\n\t\t\t\t\n\t\t\t\tuserlist.splice(userKey, 1, newUserObject);\n\t\t\t\tthis.setState({ userlist: userlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis.UserListManager.removeListeners();\n\t\tthis.UserListManager = null;\n\t}\n\n\ttoggleUserSearch = () => {\n\n\t\tthis.getContext().FeatureRestriction.isUserSearchEnabled().then(response => {\n\n\t\t\t/**\n\t\t\t* Don't update state if the response has the same value\n\t\t\t*/\n\t\t\tif (response !== this.state.enableSearchUser) {\n\t\t\t\tthis.setState({enableSearchUser: response});\n\t\t\t}\n\n\t\t}).catch(error => {\n\n\t\t\tif (this.state.enableSearchUser !== false) {\n\t\t\t\tthis.setState({enableSearchUser: false});\n\t\t\t}\n\n\t\t});\n\t}\n\n\tuserUpdated = (user) => {\n\t\t\n\t\tlet userlist = [...this.state.userlist];\n\n\t\t//search for user\n\t\tlet userKey = userlist.findIndex(u => u.uid === user.uid);\n\t\t\n\t\t//if found in the list, update user object\n\t\tif(userKey > -1) {\n\n\t\t\tlet userObj = {...userlist[userKey]};\n\t\t\tlet newUserObj = {...userObj, ...user};\n\t\t\tuserlist.splice(userKey, 1, newUserObj);\n\n\t\t\tthis.setState({ userlist: userlist });\n\t\t}\n\t}\n\n\thandleScroll = (e) => {\n\n\t\tconst bottom =\n\t\tMath.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getUsers();\n\t}\n\n\thandleClick = (user) => {\n\n\t\tif(!this.props.onItemClick)\n\t\t\treturn;\n\n\t\tthis.props.onItemClick(user, CometChat.ACTION_TYPE.TYPE_USER);\n\t}\n\n  \thandleMenuClose = () => {\n\n\t\tif(!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n  \t}\n  \n \tsearchUsers = (e) => {\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.UserListManager = new UserListManager(this.getContext(), val);\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\tthis.setState({ userlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) }, () => this.getUsers());\n\t\t\t\t}, 500);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n  \t}\n\n\tgetUsers = () => {\n\n\t\tthis.UserListManager.fetchNextUsers()\n\t\t\t.then(userList => {\n\n\t\t\t\tif (userList.length === 0) {\n\t\t\t\t\tif (this.state.userlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ userlist: [...this.state.userlist, ...userList], decoratorMessage: \"\" });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tgetContext = () => {\n\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t}\n\n  \trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={contactMsgStyle()} className=\"contacts__decorator-message\">\n\t\t\t\t\t<p css={contactMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userList = [...this.state.userlist];\n\t\tlet currentLetter = \"\";\n\t\t\n\t\tconst users = userList.map(user => {\n\t\t\n\t\t\tconst chr = user.name[0].toUpperCase();\n\t\t\tlet firstChar = null;\n\t\t\tif (chr !== currentLetter) {\n\t\t\t\tcurrentLetter = chr;\n\t\t\t\tfirstChar = (<div css={contactAlphabetStyle(this.props)} className=\"contacts__list__alphabet-filter\">{currentLetter}</div>);\n\t\t\t} else {\n\t\t\t\tfirstChar = null;\n\t\t\t}\n\t\t\t\n\t\t\tlet selectedUser = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid === user.uid) ? user : null;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={user.uid}>\n\t\t\t\t\t{firstChar}\n\t\t\t\t\t<CometChatUserListItem user={user} selectedUser={selectedUser} clickHandler={this.handleClick} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t});\n\n\t\tlet closeBtn = <div css={contactHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchUser = null;\n\t\tif (this.state.enableSearchUser) {\n\t\t\tsearchUser = (\n\t\t\t\t<div css={contactSearchStyle()} className=\"contacts__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={contactSearchButtonStyle(searchIcon, theme)} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={contactSearchInputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchUsers} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userListTemplate = (\n\t\t\t<div css={contactWrapperStyle(this.props, theme)} className=\"contacts\">\n\t\t\t\t<div css={contactHeaderStyle(theme)} className=\"contacts__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={contactHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"USERS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t{searchUser}\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={contactListStyle()} className=\"contacts__list\" onScroll={this.handleScroll} ref={el => (this.userListRef = el)}>\n\t\t\t\t\t{users}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet userListWrapper = (userListTemplate);\n\t\tif (this.props._parent === \"\") {\n\t\t\tuserListWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)}>\n\t\t\t\t\t{userListTemplate}\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn (userListWrapper);\n  \t}\n}\n\n// Specifies the default values for props:\nCometChatUserList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatUserList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatUserList };\n","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedUser && props.selectedUser.uid === props.user.uid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n    \n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\"\n    }\n}\n\nexport const itemDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: 1,\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameStyle = (context) => { \n    \n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        width: \"100%\",\n        margin: \"5px 0 0 0\",\n        lineHeight: \"22px\",\n        color: `${context.theme.color.primary}`\n    }\n};\n\nexport const itemDescStyle = context => {\n\treturn {\n\t\tmarginTop: \"10px\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { listItem, itemThumbnailStyle, itemDetailStyle, itemNameStyle, itemDescStyle } from \"./style\";\nimport { useContext } from \"react\";\n\nconst CometChatUserListItem = (props) => {\n\n\tconst context = useContext(CometChatContext);\n\n\tlet userPresence = (<CometChatUserPresence status={props.user.status} />);\n\n  \tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif(scrollWidth <= clientWidth) {\n\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t} \n  \n\treturn (\n\t\t<div css={listItem(props, context)} onClick={() => props.clickHandler(props.user)} className=\"list__item\">\n\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t{userPresence}\n\t\t\t</div>\n\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(context.language)}>\n\t\t\t\t<div css={itemNameStyle(context)} className=\"item__details__name\"  \n\t\t\t\tonMouseEnter={event => toggleTooltip(event, true)} \n\t\t\t\tonMouseLeave={event => toggleTooltip(event, false)}>{props.user.name}</div>\n\t\t\t\t<div css={itemDescStyle(context)} className=\"item__details__desc\"></div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n// Specifies the default values for props:\nCometChatUserListItem.defaultProps = {\n\ttheme: theme,\n\tuser: {},\n};\n\nCometChatUserListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tuser: PropTypes.shape(CometChat.User),\n};\n\nexport { CometChatUserListItem };\n","export const userScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const userScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const userScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%!important\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserScreenStyle,\n\tuserScreenSidebarStyle,\n\tuserScreenMainStyle,\n} from \"./style\"\n\nclass CometChatUserListWithMessages extends React.Component {\n\n  \tloggedInUser = null;\n\n  \tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n  \t}\n  \n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (user, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, user);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t<CometChatMessages\n\t\t_parent=\"userscreen\"\n\t\tactionGenerated={this.actionHandler} />);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} language={this.props.lang}>\n\t\t\t\t<div css={userScreenStyle(this.props)} className=\"cometchat cometchat--contacts\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={userScreenSidebarStyle(this.state, this.props)} className=\"contacts__sidebar\">\n\t\t\t\t\t\t<CometChatUserList _parent=\"ulwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={userScreenMainStyle(this.state, this.props)} className=\"contacts__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n};\n\nCometChatUserListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n}\n\nexport { CometChatUserListWithMessages };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n    return {\n        minWidth: \"350px\",\n        minHeight: \"350px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"4\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\",\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalTableStyle = (props) => {\n\n    return {\n        borderCollapse: \"collapse\",\n        margin: \"0\",\n        padding: \"0\",\n        width: \"100%\",\n        height: \"90%\",\n        \"tr\": {\n            display: \"table\",\n            width: \"100%\",\n            tableLayout: \"fixed\",\n        }\n    }\n}\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 0\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    outline: \"none\",\n                },\n                \"select\": {\n                    outline: \"none\",\n                    padding: \"8px 16px\",\n                }\n            }\n        }\n    }\n}\n\nexport const tableFootStyle = (context, state, img) => {\n\n    const loadingState = (state.creatingGroup) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n    } : {};\n\n    const textMargin = (state.creatingGroup) ? { marginRight: \"24px\", } : {};\n\n    return {\n        display: \"inline-block\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: `${context.theme.color.white}`,\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n        \"tr\": {\n            border: \"none\",\n            \"td\": {\n                textAlign: \"center\",\n            }\n        },\n    }\n}\n\nexport const inputStyle = (context) => {\n\n    return {\n        display: \"block\",\n        width: \"100%\",\n        border: '0',\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        color: `${context.theme.color.helpText}`,\n        fontSize: \"14px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    inputStyle,\n    tableFootStyle,\n\tmodalErrorStyle,\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatCreateGroup extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terrorMessage: \"\",\n\t\t\tpasswordInput: false,\n\t\t\tname: \"\",\n\t\t\ttype: \"\",\n\t\t\tpassword: \"\",\n\t\t\tcreatingGroup: false,\n\t\t\tenablePublicGroup: false,\n\t\t\tenablePasswordGroup: false,\n\t\t\tenablePrivateGroup: false,\n\t\t};\n\t}\n\n    componentDidMount() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n    componentDidUpdate() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n\tenablePublicGroup = () => {\n\t\tthis.context.FeatureRestriction.isPublicGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePublicGroup) {\n\t\t\t\t\tthis.setState({enablePublicGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePublicGroup !== false) {\n\t\t\t\t\tthis.setState({enablePublicGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePasswordGroup = () => {\n\t\tthis.context.FeatureRestriction.isPasswordGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePasswordGroup) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePasswordGroup !== false) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePrivateGroup = () => {\n\t\tthis.context.FeatureRestriction.isPrivateGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePrivateGroup) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePrivateGroup !== false) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tpasswordChangeHandler = event => {\n\t\tthis.setState({password: event.target.value});\n\t};\n\n\tnameChangeHandler = event => {\n\t\tthis.setState({name: event.target.value});\n\t};\n\n\ttypeChangeHandler = event => {\n\t\tconst type = event.target.value;\n\t\tthis.setState({type});\n\n\t\tif (type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tthis.setState({passwordInput: true});\n\t\t} else {\n\t\t\tthis.setState({passwordInput: false});\n\t\t}\n\t};\n\n\tvalidate = () => {\n\t\tconst groupName = this.state.name.trim();\n\t\tconst groupType = this.state.type.trim();\n\n\t\tif (!groupName) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_NAME\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!groupType) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_TYPE\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tlet password = \"\";\n\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tpassword = this.state.password;\n\n\t\t\tif (!password.length) {\n\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_PASSWORD\", this.context.language) });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\tcreateGroup = () => {\n\n\t\tif (!this.validate()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ creatingGroup: true });\n\n\t\tconst groupType = this.state.type.trim();\n\n\t\tconst password = this.state.password;\n\t\tconst guid = \"group_\" + new Date().getTime();\n\t\tconst name = this.state.name.trim();\n\t\tlet type = CometChat.GROUP_TYPE.PUBLIC;\n\n\t\tswitch (groupType) {\n\t\t\tcase \"public\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PUBLIC;\n\t\t\t\tbreak;\n\t\t\tcase \"private\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PRIVATE;\n\t\t\t\tbreak;\n\t\t\tcase \"password\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PASSWORD;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst group = new CometChat.Group(guid, name, type, password);\n\t\tCometChat.createGroup(group)\n\t\t\t.then(newGroup => {\n\t\t\t\tthis.setState({ creatingGroup: false });\n\n\t\t\t\tif (typeof newGroup === \"object\" && Object.keys(newGroup).length) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_CREATION_SUCCESS\");\n\t\t\t\t\tthis.setState({ name: \"\", type: \"\", password: \"\", passwordInput: \"\" });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"GROUP_CREATED\"], newGroup);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ creatingGroup: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t});\n\t};\n\n\tpopulateGroupType = () => {};\n\n\trender() {\n\n        const groupTypes = {};\n        let groupTypeSelect = null;\n\n        if (this.state.enablePublicGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PUBLIC] = Translator.translate(\"PUBLIC\", this.context.language);\n        }\n\n        if (this.state.enablePasswordGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PASSWORD] = Translator.translate(\"PASSWORD_PROTECTED\", this.context.language);\n        }\n\n        if (this.state.enablePrivateGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PRIVATE] = Translator.translate(\"PRIVATE\", this.context.language);\n        }\n\n        const groupTypeKeys = Object.keys(groupTypes);\n        if (groupTypeKeys.length) {\n\n            const groupTypeListOptions = groupTypeKeys.map(groupTypeKey => {\n                return (\n                    <option value={groupTypeKey} key={groupTypeKey}>\n                        {groupTypes[groupTypeKey]}\n                    </option>\n                );\n            });\n\n            if (groupTypeKeys.length > 1) {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                <option value=\"\">{Translator.translate(\"SELECT_GROUP_TYPE\", this.context.language)}</option>\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            } else {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            }\n        }\n\n\t\tlet password = null;\n\t\tif (this.state.passwordInput) {\n\t\t\tpassword = (\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.context)} placeholder={Translator.translate(\"ENTER_GROUP_PASSWORD\", this.context.language)} type=\"password\" tabIndex=\"3\" onChange={this.passwordChangeHandler} value={this.state.password} />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t);\n\t\t}\n\n\t\tconst createText = this.state.creatingGroup ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__creategroup\">\n\t\t\t\t\t<span css={modalCloseStyle(closeIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<table css={modalTableStyle(this.props)}>\n\t\t\t\t\t\t\t<caption css={tableCaptionStyle()} className=\"modal__title\"> {Translator.translate(\"CREATE_GROUP\", this.context.language)} </caption>\n\t\t\t\t\t\t\t<tbody css={tableBodyStyle()} className=\"modal__search\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"ENTER_GROUP_NAME\", this.context.language)} type=\"text\" tabIndex=\"1\" onChange={this.nameChangeHandler} value={this.state.name} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{groupTypeSelect}\n\t\t\t\t\t\t\t\t{password}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n\t\t\t\t\t\t\t\t<tr className=\"creategroup\">\n\t\t\t\t\t\t\t\t\t<td><button type=\"button\" tabIndex=\"4\" onClick={this.createGroup}><span>{createText}</span></button></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatCreateGroup };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupDetailManager {\n\n    guid = null;\n    groupMemberRequest = null;\n    bannedGroupMemberRequest = null;\n\n    userListenerId = \"group_detail_user_\" + new Date().getTime();\n    groupListenerId = \"group_detail_group_\" + new Date().getTime();\n\n    constructor(guid) {\n        this.guid = guid;\n        this.groupMemberRequest = new CometChat.GroupMembersRequestBuilder(guid).setLimit(10).build();\n        this.bannedGroupMemberRequest = new CometChat.BannedMembersRequestBuilder(guid).setLimit(10).build();\n    }\n\n    fetchNextGroupMembers() {\n        return this.groupMemberRequest.fetchNext();\n    }\n\n    fetchNextBannedGroupMembers() {\n        return this.bannedGroupMemberRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, null, {guid: this.guid}, {\"user\": onlineUser});\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, null, {guid: this.guid}, {\"user\": offlineUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const detailStyle = (context) => {\n\n    return {\n        height: \"100%\",\n        position: \"relative\",\n        boxSizing: \"border-box\",\n        fontFamily: `${context.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${context.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (context) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        height: \"69px\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, , ${mq[4]}`]: {\n            display: \"block\"\n        },\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        fontSize: \"22px\",\n        lineHeight: \"26px\"\n    }\n}\n\nexport const detailPaneStyle = () => {\n\n    return {\n        margin: \"0\",\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100% - 70px)\"\n    }\n}\n\nexport const sectionStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n\nexport const sectionHeaderStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        '&:not(:last-of-type)': {\n            marginBottom: \"16px\",\n        }\n    }\n}\n\nexport const contentItemStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"flex\",\n        clear: \"both\",\n        width: \"100%\",\n        padding:\" 6px 0\",\n        '&:first-of-type': {\n            paddingTop: \"0\",\n        },\n        '&:last-of-type': {\n            paddingBottom: \"0\",\n        }\n    }\n}\n\nexport const itemLinkStyle = (context, deleteLink) => {\n\n    const deleteCss = (deleteLink) ? {\n        color: `${context.theme.color.red}`,\n    } : {\n        color: `${context.theme.color.primary}`,\n    };\n\n    return {\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        fontWeight: \"600\",\n        ...deleteCss\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupDetailManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { \n\tCometChatViewGroupMemberList, \n\tCometChatAddGroupMemberList, \n\tCometChatBanGroupMemberList, \n\tCometChatTransferOwnershipMemberList\n} from \"../../Groups\";\n\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    detailStyle,\n    headerStyle,\n    headerCloseStyle,\n    headerTitleStyle,\n    detailPaneStyle,\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    contentItemStyle,\n    itemLinkStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatGroupDetails extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tmemberlist: [],\n\t\t\tbannedmemberlist: [],\n\t\t\tadministratorslist: [],\n\t\t\tmoderatorslist: [],\n\t\t\tviewMember: false,\n\t\t\taddMember: false,\n\t\t\tbanMember: false,\n\t\t\taddAdministrator: false,\n\t\t\taddModerator: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tshowDeleteConfirmDialog: false,\n\t\t\tshowLeaveGroupConfirmDialog: false,\n\t\t\tshowTransferOwnershipConfirmDialog: false,\n\t\t\ttransferOwnership: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.context.clearGroupMembers();\n\n\t\tthis.item = this.context.item;\n\n\t\tconst guid = this.context.item.guid;\n\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\tthis.getGroupMembers();\n\t\tthis.getBannedGroupMembers();\n\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.item.guid !== this.context.item.guid) {\n\t\t\tthis.context.clearGroupMembers();\n\n\t\t\tconst guid = this.context.item.guid;\n\t\t\tthis.GroupDetailManager.removeListeners();\n\t\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\t\tthis.getGroupMembers();\n\t\t\tthis.getBannedGroupMembers();\n\t\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\t\t}\n\n\t\tthis.item = this.context.item;\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupDetailManager.removeListeners();\n\t\tthis.GroupDetailManager = null;\n\t\tthis._isMounted = false;\n\t}\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tconst guid = this.context.item.guid;\n\t\tif (guid !== group.guid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateGroupMemberPresence(options.user);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\tthis.addParticipants([updatedMember], false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\t//this.setAvatar(member);\n\t\t\t\t\tthis.banMembers([member]);\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.unbanMembers([member]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: options[\"scope\"] });\n\t\t\t\t\tthis.updateParticipants(updatedMember);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/*\n    Updating group members presence\n    */\n\tupdateGroupMemberPresence = member => {\n\t\tlet memberlist = [...this.context.groupMembers];\n\t\t//search for user\n\t\tlet memberKey = memberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (memberKey > -1) {\n\t\t\tlet memberObj = memberlist[memberKey];\n\t\t\tlet newMemberObj = Object.assign({}, memberObj, member);\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\n\t\tlet bannedmemberlist = [...this.context.bannedGroupMembers];\n\t\t//search for user\n\t\tlet bannedMemberKey = bannedmemberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (bannedMemberKey > -1) {\n\t\t\tlet bannedMemberObj = bannedmemberlist[bannedMemberKey];\n\t\t\tlet newBannedMemberObj = Object.assign({}, bannedMemberObj, member);\n\t\t\tbannedmemberlist.splice(bannedMemberKey, 1, newBannedMemberObj);\n\n\t\t\tthis.updateBannedGroupMembers(bannedmemberlist);\n\t\t}\n\t};\n\n\tgetGroupMembers = () => {\n\t\tconst administratorslist = [],\n\t\t\tmoderatorslist = [];\n\t\tthis.GroupDetailManager.fetchNextGroupMembers()\n\t\t\t.then(groupMembers => {\n\t\t\t\tgroupMembers.forEach(member => {\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t\t\tadministratorslist.push(member);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t\t\tmoderatorslist.push(member);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.context.setAllGroupMembers(groupMembers, administratorslist, moderatorslist);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tgetBannedGroupMembers = () => {\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.GroupDetailManager.fetchNextBannedGroupMembers()\n\t\t\t.then(bannedMembers => {\n\t\t\t\tthis.context.setBannedGroupMembers(bannedMembers);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tdeleteGroup = () => {\n\t\tthis.setState({ showDeleteConfirmDialog: true, showLeaveGroupConfirmDialog: false, showTransferOwnershipConfirmDialog: false });\n\t};\n\n\tonDeleteConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showDeleteConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.deleteGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_DELETION_SUCCESS\");\n\t\t\t\t\tthis.context.setDeletedGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonLeaveConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showLeaveGroupConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.leaveGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setLeftGroupId(guid);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonTransferConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showTransferOwnershipConfirmDialog: false });\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferOwnership: true });\n\t};\n\n\tleaveGroup = () => {\n\t\t/**\n\t\t * If loggeduser is the owner of the group; ask him to transfer ownership before leaving the group else show leave group confirmtion dialog\n\t\t */\n\t\tif (this.context.item?.owner === this.state.loggedInUser?.uid) {\n\t\t\tthis.setState({ showTransferOwnershipConfirmDialog: true, showDeleteConfirmDialog: false, showLeaveGroupConfirmDialog: false });\n\t\t} else {\n\t\t\tthis.setState({ showLeaveGroupConfirmDialog: true, showTransferOwnershipConfirmDialog: false, showDeleteConfirmDialog: false });\n\t\t}\n\t};\n\n\tclickHandler = (action, flag) => {\n\t\tswitch (action) {\n\t\t\tcase \"viewmember\":\n\t\t\t\tthis.setState({ viewMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"addmember\":\n\t\t\t\tthis.setState({ addMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"banmember\":\n\t\t\t\tthis.setState({ banMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"transferownership\":\n\t\t\t\tthis.setState({ transferOwnership: flag });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmembersActionHandler = (action, members) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getBannedGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.unbanMembers(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.addParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.removeParticipants(action, members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.updateParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"]:\n\t\t\t\tthis.updateOwnership(members);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMembers = members => {\n\t\tthis.context.setBannedGroupMembers(members);\n\t};\n\n\tunbanMembers = members => {\n\t\tconst bannedMembers = [...this.context.bannedGroupMembers];\n\t\tconst unbannedMembers = [];\n\n\t\tconst filteredBannedMembers = bannedMembers.filter(bannedmember => {\n\t\t\tconst found = members.find(member => bannedmember.uid === member.uid);\n\t\t\tif (found) {\n\t\t\t\tunbannedMembers.push(found);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], unbannedMembers);\n\t\tthis.context.updateBannedGroupMembers(filteredBannedMembers);\n\t};\n\n\taddParticipants = (members, triggerUpdate = true) => {\n\t\tthis.context.setGroupMembers(members);\n\t\t\n\t\tif (triggerUpdate) {\n\t\t\tconst newItem = { ...this.context.item, membersCount: this.context.groupMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], members);\n\t\t}\n\t};\n\n\tremoveParticipants = (action, member, triggerUpdate = true) => {\n\n\t\tconst groupmembers = [...this.context.groupMembers];\n\t\tconst filteredMembers = groupmembers.filter(groupmember => {\n\t\t\tif (groupmember.uid === member.uid) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.context.updateGroupMembers(filteredMembers);\n\n\t\tif (triggerUpdate) {\n\t\t\t\n\t\t\tconst newItem = { ...this.context.item, membersCount: filteredMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\t//if group member is banned, update banned member list in context api\n\t\t\tif(action === enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]) {\n\t\t\t\tthis.context.setBannedGroupMembers([member]);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(action, [member]);\n\t\t}\n\t};\n\n\tupdateParticipants = updatedMember => {\n\t\tconst memberlist = [...this.context.groupMembers];\n\n\t\tconst memberKey = memberlist.findIndex(member => member.uid === updatedMember.uid);\n\t\tif (memberKey > -1) {\n\t\t\tconst memberObj = memberlist[memberKey];\n\t\t\tconst newMemberObj = Object.assign({}, memberObj, updatedMember, { scope: updatedMember[\"scope\"] });\n\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], [newMemberObj]);\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\t};\n\n\tupdateOwnership = uid => {\n\t\tconst item = { ...this.context.item, owner: uid };\n\t\tconst type = CometChat.RECEIVER_TYPE.GROUP;\n\n\t\tthis.setState({ transferOwnership: false });\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\tcloseGroupDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewMembersBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"viewmember\", true)}>\n\t\t\t\t\t{Translator.translate(\"VIEW_MEMBERS\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet addMembersBtn = null,\n\t\t\tdeleteGroupBtn = null,\n\t\t\tbannedMembersBtn = null;\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\taddMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"addmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"ADD_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tdeleteGroupBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<span css={itemLinkStyle(this.context, 1)} className=\"item__link\" onClick={this.deleteGroup}>\n\t\t\t\t\t\t{Translator.translate(\"DELETE_AND_EXIT\", this.context.language)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\tbannedMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"banmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet leaveGroupBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<span css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={this.leaveGroup}>\n\t\t\t\t\t{Translator.translate(\"LEAVE_GROUP\", this.context.language)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\n\t\tlet sharedmediaView = <CometChatSharedMediaView containerHeight=\"225px\" lang={this.context.language} />;\n\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t//if viewing group membersfeature is disabled\n\t\t\tif (this.state.enableViewGroupMembers === false) {\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t} else if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR || this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\tif (this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t//if viewing, kicking/banning, promoting/demoting group membersare feature is disabled\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t}\n\n\t\t//if adding group members feature is disabled\n\t\tif (this.state.enableAddGroupMembers === false) {\n\t\t\taddMembersBtn = null;\n\t\t}\n\n\t\t//if kicking/banning/unbanning group members feature is disabled\n\t\tif (this.state.enableBanGroupMembers === false) {\n\t\t\tbannedMembersBtn = null;\n\t\t}\n\n\t\t//if deleting group feature is disabled\n\t\tif (this.state.enableDeleteGroup === false) {\n\t\t\tdeleteGroupBtn = null;\n\t\t}\n\n\t\t//if leaving group feature is disabled\n\t\tif (this.state.enableLeaveGroup === false || this.context?.item?.membersCount === 1) {\n\t\t\tleaveGroupBtn = null;\n\t\t}\n\n\t\t//if viewing shared media group feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\tlet members = (\n\t\t\t<div css={sectionStyle()} className=\"section section__members\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"MEMBERS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{viewMembersBtn}\n\t\t\t\t\t{addMembersBtn}\n\t\t\t\t\t{bannedMembersBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet options = (\n\t\t\t<div css={sectionStyle()} className=\"section section__options\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{leaveGroupBtn}\n\t\t\t\t\t{deleteGroupBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (viewMembersBtn === null && addMembersBtn === null && bannedMembersBtn === null) {\n\t\t\tmembers = null;\n\t\t}\n\n\t\tif (leaveGroupBtn === null && deleteGroupBtn === null) {\n\t\t\toptions = null;\n\t\t}\n\n\t\tlet viewMembers = null;\n\t\tif (this.state.viewMember) {\n\t\t\tviewMembers = (\n\t\t\t\t<CometChatViewGroupMemberList\n\t\t\t\t\tloggedinuser={this.state.loggedInUser}\n\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\tenableChangeScope={this.state.enableChangeScope}\n\t\t\t\t\tenableKickGroupMembers={this.state.enableKickGroupMembers}\n\t\t\t\t\tenableBanGroupMembers={this.state.enableBanGroupMembers}\n\t\t\t\t\tclose={() => this.clickHandler(\"viewmember\", false)}\n\t\t\t\t\tactionGenerated={this.membersActionHandler}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet addMembers = null;\n\t\tif (this.state.addMember) {\n\t\t\taddMembers = <CometChatAddGroupMemberList close={() => this.clickHandler(\"addmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet bannedMembers = null;\n\t\tif (this.state.banMember) {\n\t\t\tbannedMembers = <CometChatBanGroupMemberList loggedinuser={this.state.loggedInUser} close={() => this.clickHandler(\"banmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet showDeleteConfirmDialog = null;\n\t\tif (this.state.showDeleteConfirmDialog) {\n\t\t\tshowDeleteConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onDeleteConfirm} message={Translator.translate(\"DELETE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"DELETE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showLeaveGroupConfirmDialog = null;\n\t\tif (this.state.showLeaveGroupConfirmDialog) {\n\t\t\tshowLeaveGroupConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onLeaveConfirm} message={Translator.translate(\"LEAVE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"LEAVE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showTransferOwnershipConfirmDialog = null;\n\t\tif (this.state.showTransferOwnershipConfirmDialog) {\n\t\t\tshowTransferOwnershipConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onTransferConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"TRANSFER_CONFIRM\", this.context.language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"TRANSFER\", this.context.language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.context.language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet transferOwnership = null;\n\t\tif (this.state.transferOwnership) {\n\t\t\ttransferOwnership = <CometChatTransferOwnershipMemberList roles={this.roles} loggedinuser={this.state.loggedInUser} actionGenerated={this.membersActionHandler} close={() => this.clickHandler(\"transferownership\", false)} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={detailStyle(this.context)} className=\"detailpane\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeGroupDetail}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={detailPaneStyle()} className=\"detailpane__section\">\n\t\t\t\t\t{members}\n\t\t\t\t\t{options}\n\t\t\t\t\t{sharedmediaView}\n\t\t\t\t</div>\n\t\t\t\t{viewMembers}\n\t\t\t\t{addMembers}\n\t\t\t\t{bannedMembers}\n\t\t\t\t{transferOwnership}\n\t\t\t\t{showDeleteConfirmDialog}\n\t\t\t\t{showLeaveGroupConfirmDialog}\n\t\t\t\t{showTransferOwnershipConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupDetails.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatGroupDetails.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatGroupDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupListManager {\n\n    groupRequest = null;\n    groupListenerId = \"grouplist_\" + new Date().getTime();\n\n    constructor(searchKey) {\n\n        if (searchKey) {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).setSearchKeyword(searchKey).build();\n        } else {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).build();\n        }\n    }\n\n    fetchNextGroups() {\n        return this.groupRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const groupWrapperStyle = (props, theme) => {\n    \n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const groupHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const groupHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const groupAddStyle = (img, theme) => {\n\n\treturn {\n\t\theight: \"24px\",\n\t\tcursor: \"pointer\",\n\t\ti: {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twidth: \"24px\",\n\t\t\theight: \"24px\",\n\t\t\tmask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\t},\n\t};\n};\n\nexport const groupSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const groupSearchButtonStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const groupSearchInputStyle = (props) => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        outline: \"none\",\n        border: \"none\",\n        color: props.theme.color.search,\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const groupMsgStyle = () => {\n    \n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\"\n    }\n}\n\nexport const groupMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const groupListStyle = () => {\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","export default __webpack_public_path__ + \"static/media/create.65daf562.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupListManager } from \"./controller\";\n\nimport { CometChatCreateGroup, CometChatGroupListItem }  from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  groupWrapperStyle,\n  groupHeaderStyle,\n  groupHeaderCloseStyle,\n  groupHeaderTitleStyle,\n  groupAddStyle,\n  groupSearchStyle,\n  groupSearchButtonStyle,\n  groupSearchInputStyle,\n  groupMsgStyle,\n  groupMsgTxtStyle,\n  groupListStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\nimport addIcon from \"./resources/create.svg\";\n\nclass CometChatGroupList extends React.PureComponent {\n\titem;\n\ttimeout;\n\tloggedInUser = null;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tgrouplist: [],\n\t\t\tcreateGroup: false,\n\t\t\tenableSearchGroup: false,\n\t\t\tenableCreateGroup: false,\n\t\t\tenableJoinGroup: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.groupListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\n\t\tthis.GroupListManager = new GroupListManager();\n\t\tthis.getGroups();\n\t\tthis.GroupListManager.attachListeners(this.groupUpdated);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\tlet groupKey = groups.findIndex(group => group.guid === this.getContext().item.guid);\n\t\t\tif (groupKey > -1) {\n\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\tlet newGroupObj = Object.assign({}, groupObj, {membersCount: this.getContext().item.membersCount});\n\n\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from group list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\n\t\t\tconst groups = [...this.state.grouplist];\n\t\t\tconst groupKey = groups.findIndex(group => group.guid === guid);\n\n\t\t\tif (groupKey > -1) {\n\t\t\t\tgroups.splice(groupKey, 1);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\tif (this.getContext().leftGroupId.trim().length) {\n\n\t\t\tconst guid = this.getContext().leftGroupId.trim();\n\t\t\tconst groups = [...this.state.grouplist]; const groupKey = groups.findIndex(group => group.guid === guid);\n\t\t\tif (groupKey > -1) {\n\t\t\tconst groupObj = groups[groupKey]; \n\t\t\tconst membersCount = Number(groupObj.membersCount) ? Number(groupObj.membersCount) - 1 : 0 ; \n\t\t\tlet newGroupObj = Object.assign({}, groupObj, { membersCount, hasJoined: false });\n\t\t\tgroups.splice(groupKey, 1, newGroupObj); this.setState({ grouplist: groups }); } }\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupListManager = null;\n\t}\n\n\t/**\n\t * if search group feature is disabled\n\t */\n\tenableSearchGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupSearchEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSearchGroup) {\n\t\t\t\t\tthis.setState({enableSearchGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSearchGroup !== false) {\n\t\t\t\t\tthis.setState({enableSearchGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if create group feature is disabled\n\t */\n\tenableCreateGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupCreationEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCreateGroup) {\n\t\t\t\t\tthis.setState({enableCreateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCreateGroup !== false) {\n\t\t\t\t\tthis.setState({enableCreateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if join group feature is disabled\n\t */\n\tenableJoinGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableJoinGroup) {\n\t\t\t\t\tthis.setState({enableJoinGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableJoinGroup !== false) {\n\t\t\t\t\tthis.setState({enableJoinGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateMemberChanged(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateMemberRemoved(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.updateMemberAddition(group, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateMemberRemoved = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\t\t\t\tlet hasJoined = group.hasJoined;\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, hasJoined: hasJoined});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t} else {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\t// Callback for when group member is added or joined\n\tupdateMemberAddition = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid){\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tlet hasJoined = true;\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, { hasJoined: hasJoined});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t} else {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tlet membersCount = parseInt(groupObj.membersCount);\n\n\t\t\tlet newgroupObj = Object.assign({},groupObj, {membersCount: membersCount});\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist:grouplist});\n\t\t}\n\n\t\t}\n\t\t};\n\n\tupdateMemberChanged = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {scope: options.scope});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getGroups();\n\t};\n\n\thandleClick = group => {\n\n\t\tif (!this.props.onItemClick) return;\n\n\t\tif (group.hasJoined === false) {\n\n\t\t\t//if join group feature is disabled\n\t\t\tif (this.state.enableJoinGroup === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet password = \"\";\n\t\t\tif (group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\tpassword = prompt(Translator.translate(\"ENTER_YOUR_PASSWORD\", this.props.lang));\n\t\t\t}\n\n\t\t\tconst guid = group.guid;\n\t\t\tconst groupType = group.type;\n\n\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (typeof response === \"object\" && Object.keys(response).length) {\n\t\t\t\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\t\t\t\tlet groupKey = groups.findIndex((g, k) => g.guid === guid);\n\t\t\t\t\t\tif (groupKey > -1) {\n\t\t\t\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\t\t\t\tconst newGroupObj = Object.assign({}, groupObj, response, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\t\t\t\tthis.setState({ grouplist: groups });\n\n\t\t\t\t\t\t\tthis.props.onItemClick(newGroupObj, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\n\t\t\t\t\tif (error.hasOwnProperty(\"code\") && error.code && error.code === \"ERR_WRONG_GROUP_PASS\") {\n\t\t\t\t\t\tthis.toastRef.setError(\"WRONG_PASSWORD\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tthis.props.onItemClick(group, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t}\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tsearchGroup = e => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.timeout = setTimeout(() => {\n\t\t\t\n\t\t\tthis.setState({ grouplist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) });\n\n\t\t\tthis.GroupListManager = new GroupListManager(val);\n\t\t\tthis.getGroups();\n\t\t}, 500);\n\t};\n\n\tgetGroups = () => {\n\t\tthis.GroupListManager.fetchNextGroups()\n\t\t\t.then(groupList => {\n\n\t\t\t\tif (groupList.length === 0) {\n\n\t\t\t\t\tif (this.state.grouplist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_GROUPS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ grouplist: [...this.state.grouplist, ...groupList], decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tcreateGroupHandler = flag => {\n\t\tthis.setState({createGroup: flag});\n\t};\n\n\tcreateGroupActionHandler = (action, group) => {\n\t\tif (action === enums.ACTIONS[\"GROUP_CREATED\"]) {\n\t\t\tthis.handleClick(group);\n\n\t\t\tconst groupList = [...this.state.grouplist];\n\t\t\tgroupList.unshift(group);\n\n\t\t\tthis.setState({grouplist: groupList, createGroup: false});\n\t\t}\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet messageContainer = null;\n\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={groupMsgStyle()} className=\"groups__decorator-message\">\n\t\t\t\t\t<p css={groupMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst groups = this.state.grouplist.map(group => {\n\t\t\tlet selectedGroup = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid === group.guid ? group : null;\n\n\t\t\treturn <CometChatGroupListItem key={group.guid} group={group} selectedGroup={selectedGroup} clickHandler={this.handleClick} />;\n\t\t});\n\n\t\tlet createGroupBtn = (\n\t\t\t<div css={groupAddStyle(addIcon, theme)} title={Translator.translate(\"CREATE_GROUP\", this.props.lang)} onClick={() => this.createGroupHandler(true)}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if create group feature is disabled\n\t\tif (this.state.enableCreateGroup === false) {\n\t\t\tcreateGroupBtn = null;\n\t\t}\n\n\t\tlet closeBtn = <div css={groupHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchGroup = null;\n\t\tif (this.state.enableSearchGroup) {\n\t\t\tsearchGroup = (\n\t\t\t\t<div css={groupSearchStyle()} className=\"groups__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={groupSearchButtonStyle(searchIcon, this.getContext())} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={groupSearchInputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchGroup} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet createGroup = null;\n\t\tif(this.state.createGroup) {\n\t\t\tcreateGroup = <CometChatCreateGroup theme={this.props.theme} close={() => this.createGroupHandler(false)} actionGenerated={this.createGroupActionHandler} />;\t\n\t\t}\n\n\t\tconst groupListTemplate = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={groupWrapperStyle(this.props, theme)} className=\"groups\">\n\t\t\t\t\t<div css={groupHeaderStyle(theme)} className=\"groups__header\">\n\t\t\t\t\t\t{closeBtn}\n\t\t\t\t\t\t<h4 css={groupHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t{Translator.translate(\"GROUPS\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t{createGroupBtn}\n\t\t\t\t\t</div>\n\t\t\t\t\t{searchGroup}\n\t\t\t\t\t{messageContainer}\n\t\t\t\t\t<div css={groupListStyle()} className=\"groups__list\" onScroll={this.handleScroll} ref={el => (this.groupListRef = el)}>\n\t\t\t\t\t\t{groups}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createGroup}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet groupListWrapper = groupListTemplate;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tgroupListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{groupListTemplate}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn groupListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatGroupList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatGroupList };\n","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedGroup && props.selectedGroup.guid === props.group.guid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const listItemName = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\tmaxWidth: \"calc(100% - 30px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"22px\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const listItemIcon = () => {\n\n    return {\n        width: \"24px\",\n        height: \"auto\",\n        margin: \"0 8px\",\n    }\n}\n\nexport const itemIconStyle = (img, context) => {\n\n    return {\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 70px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameWrapperStyle = () => { \n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n        margin: \"0\",\n    }\n}\n\nexport const itemDescStyle = (context) => { \n\n    return {\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        padding: \"0 0 5px 0\",\n        fontSize: \"13px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.helpText}`,\n        \"&:hover\": {\n            borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/password-protected-group.d47aaeec.svg\";","export default __webpack_public_path__ + \"static/media/private-group.bc4d777a.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tlistItem,\n\tlistItemIcon,\n\titemIconStyle,\n\titemThumbnailStyle,\n\titemDetailStyle,\n\titemNameWrapperStyle,\n\titemDescStyle,\n\tlistItemName  \n} from \"./style\";\n\nimport shieldIcon from \"./resources/password-protected-group.svg\";\nimport lockIcon from \"./resources/private-group.svg\";\n\nclass CometChatGroupListItem extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\t\n\ttoggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t}\n\n\tclickHandler = () => {\n\t\tthis.props.clickHandler(this.props.group);\n\t}\n\n\trender() {\n\n\t\tlet groupTypeIcon = null;\n\t\tif (this.props.group.type === CometChat.GROUP_TYPE.PRIVATE) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(shieldIcon, this.context)} title={Translator.translate(\"PRIVATE_GROUP\", this.context.language)}></i>);\n\n\t\t} else if (this.props.group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(lockIcon, this.context)} title={Translator.translate(\"PROTECTED_GROUP\", this.context.language)}></i>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props, this.context)} className=\"list__item\" onClick={this.clickHandler}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t<CometChatAvatar group={this.props.group} />\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemNameWrapperStyle()} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t<p css={listItemName(this.context)}>{this.props.group.name}</p>\n\t\t\t\t\t\t<div css={listItemIcon()}>{groupTypeIcon}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemDescStyle(this.context)} className=\"item__details__desc\">{`${this.props.group.membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListItem.defaultProps = {\n\ttheme: theme,\n\tgroup: {},\n\tselectedGroup: {},\n\tclickHandler: () => { }\n};\n\nCometChatGroupListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tselectedGroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tclickHandler: PropTypes.func\n}\n\nexport { CometChatGroupListItem };\n","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"50%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[3]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n        height: \"31px\"\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",\n    }\n}\n\nexport const nameColumnStyle = (context, editAccess) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (editAccess === null) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        ...widthProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"180px\",\n        marginRight: \"8px\",\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatViewGroupMemberListItem } from \"../../Groups\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n    actionColumnStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatViewGroupMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(this.context.theme.breakPoints[1]);\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: \"\",\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateUserColumnTitle();\n\t}\n    \n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.lang !== this.props.lang) {\n\t\t\tthis.updateUserColumnTitle();\n\t\t}\n\t}\n\n\tupdateUserColumnTitle = () => {\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", this.props.lang);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", this.props.lang);\n\t\t}\n\n\t\tthis.setState({ userColumnTitle });\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"BAN_GROUP_MEMBER\"]:\n\t\t\t\tthis.banMember(member);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUP_MEMBER\"]:\n\t\t\t\tthis.kickMember(member);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeScope(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMember = memberToBan => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.banGroupMember(guid, memberToBan.uid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"BAN_GROUPMEMBER_SUCCESS\");\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"], memberToBan);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tkickMember = memberToKick => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.kickGroupMember(guid, memberToKick.uid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"], memberToKick);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tchangeScope = (member, scope) => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.updateGroupMemberScope(guid, member.uid, scope)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"SCOPECHANGE_GROUPMEMBER_SUCCESS\");\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: scope });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], updatedMember);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tconst membersList = [...this.context.groupMembers];\n\n\t\tconst groupMembers = membersList.map((member, key) => {\n\t\t\treturn (\n\t\t\t\t<CometChatViewGroupMemberListItem\n\t\t\t\t\tloggedinuser={this.props.loggedinuser}\n\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\tkey={key}\n\t\t\t\t\tmember={member}\n\t\t\t\t\tenableChangeScope={this.props.enableChangeScope}\n\t\t\t\t\tenableBanGroupMembers={this.props.enableBanGroupMembers}\n\t\t\t\t\tenableKickGroupMembers={this.props.enableKickGroupMembers}\n\t\t\t\t\tactionGenerated={this.updateMembers}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tlet editAccess = null;\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\teditAccess = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={actionColumnStyle(this.context)} className=\"ban\">\n\t\t\t\t\t\t{Translator.translate(\"BAN\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={actionColumnStyle(this.context)} className=\"kick\">\n\t\t\t\t\t\t{Translator.translate(\"KICK\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tif (this.props.enableKickGroupMembers === false && this.props.enableBanGroupMembers === false) {\n\t\t\t\teditAccess = null;\n\t\t\t}\n\t\t}\n\n\t\tthis.mq.addListener(editAccess => this.setUserColumnTitle(editAccess));\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__viewmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">\n\t\t\t\t\t\t\t{this.state.errorMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={modalListStyle()} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.context, editAccess)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{editAccess}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberList.defaultProps = {\n\ttheme: theme,\n\tuserColumnTitle: \"\",\n\tenableChangeScope: false,\n\tenableKickGroupMembers: false,\n\tenableBanGroupMembers: false\n};\n\nCometChatViewGroupMemberList.propTypes = {\n\ttheme: PropTypes.object,\n\tuserColumnTitle: PropTypes.string,\n\tenableChangeScope: PropTypes.bool,\n\tenableKickGroupMembers: PropTypes.bool,\n\tenableBanGroupMembers: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberList };","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    }\n}\n\nexport const nameColumnStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        ...widthProp\n    }\n}\n\nexport const avatarStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const marginProp = (participantView) ? {\n        marginRight: \"8px\",\n    } : {\n        marginRight: \"8px\",\n        [mq[1]]: {\n            marginRight: \"0\",\n        }\n    };\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        ...marginProp\n    }\n}\n\nexport const nameStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n        width: \"100%\"\n    } : {\n        width: \"calc(100% - 50px)\"\n    };\n\n    const displayProp = (participantView) ? {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"inline\"\n        }\n\n    } : {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"none\"\n        }\n    }\n    \n    return {\n        margin: \"8px 0\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        ...widthProp,\n        ...displayProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: \"180px\",\n        \"img\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n        },\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const scopeWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        transition: \"opacity .1s linear\",\n        \"img\": {\n            margin: \"0px 4px\",\n        }\n    }\n}\n\nexport const scopeSelectionStyle = () => {\n\n    return {\n        width: \"65%\",\n        border: \"0\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `rgba(20, 20, 20, 0.04)`,\n        padding: \"8px\",\n        color: `rgba(20, 20, 20, 0.6)`,\n        float: \"left\",\n    }\n}\n\nexport const scopeIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const roleStyle = () => {\n\n    return {\n        fontSize: \"12px\",\n        maxWidth: \"calc(100% - 20px)\"\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}\n\nexport const banIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const kickIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tbackground: `url(${img}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/done.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalRowStyle,\n    nameColumnStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    scopeColumnStyle,\n    scopeIconStyle,\n    actionColumnStyle,\n    banIconStyle,\n    kickIconStyle,\n    scopeWrapperStyle,\n    scopeSelectionStyle\n} from \"./style\";\n\nimport scopeIcon from \"./resources/edit.svg\";\nimport doneIcon from \"./resources/done.svg\";\nimport clearIcon from \"./resources/close.svg\";\nimport banIcon from \"./resources/ban-member.svg\";\nimport kickIcon from \"./resources/delete.svg\";\n\nclass CometChatViewGroupMemberListItem extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.changeScopeDropDown = (\n            <select \n            className=\"members-scope-select\"\n            onChange={this.scopeChangeHandler}\n            defaultValue={this.props.member.scope}></select>\n        )\n\n        this.state = {\n            showChangeScope: false,\n            scope: null\n        }\n\n        this.roles = context.roles;\n    }\n\n    toggleChangeScope = (flag) => {\n        this.setState({ showChangeScope: flag });\n    }\n\n    scopeChangeHandler = (event) => {\n        this.setState({scope: event.target.value});\n    }\n\n    updateMemberScope = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"], this.props.member, this.state.scope);\n        this.toggleChangeScope();\n    }\n\n    toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        \n        if (elem.classList.contains(\"name\")) {\n\n            const scrollWidth = elem.scrollWidth;\n            const clientWidth = elem.clientWidth;\n            \n            if (scrollWidth <= clientWidth) {\n                return false;\n            }\n        }\n\n        if(flag) {\n            elem.setAttribute(\"title\", this.props.member.name);\n        } else {\n            elem.removeAttribute(\"title\");\n        }\n    }\n\n    render() {\n\n        let editClassName = \"\";\n    \n        let name = this.props.member.name;\n        let scope = <span css={roleStyle()}>{this.context.roles[this.props.member.scope]}</span>;\n        let changescope = null;\n        let ban = (<i css={banIconStyle(banIcon, this.context)} title={Translator.translate(\"BAN\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"BAN_GROUP_MEMBER\"], this.props.member)}}></i>);\n        let kick = (<i css={kickIconStyle(kickIcon, this.context)} title={Translator.translate(\"KICK\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"KICK_GROUP_MEMBER\"], this.props.member)}}></i>);\n        \n\n        if(this.state.showChangeScope) {\n\n            let options = (\n                <React.Fragment>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.ADMIN}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN]}</option>\n                </React.Fragment>\n            );\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR\n                && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\n                options = (\n                    <React.Fragment>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    </React.Fragment>\n                );\n            }\n\n            changescope = (\n                <div css={scopeWrapperStyle()} className=\"scope__wrapper\">\n                    <select css={scopeSelectionStyle()} className=\"scope__select\" onChange={this.scopeChangeHandler} defaultValue={this.props.member.scope}>\n                        {options}\n                    </select>\n                    <i css={scopeIconStyle(doneIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={this.updateMemberScope}></i>\n                    <i css={scopeIconStyle(clearIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(false)}></i>\n                </div>\n            );\n\n        } else {\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n                changescope = scope;\n            } else {\n                changescope = (\n                    <React.Fragment>\n                        {scope}\n                        <i css={scopeIconStyle(scopeIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(true)}></i>\n                    </React.Fragment>\n                );\n            }\n        }\n\n        //disable change scope, kick, ban of group owner\n        if (this.context.item.owner === this.props.member.uid) {\n            scope = (<span css={roleStyle()}>{Translator.translate(\"OWNER\", this.context.language)}</span>);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //disable change scope, kick, ban of self\n        if (this.props.loggedinuser.uid === this.props.member.uid) {\n            name = Translator.translate(\"YOU\", this.context.language);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is moderator, don't allow to change scope, ban, kick group moderators or administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n        && (this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is administrator but not group owner, don't allow to change scope, ban, kick group administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN\n        && this.context.item.owner !== this.props.loggedinuser.uid \n        && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n        \n        let editAccess = null;\n        //if the loggedin user is participant, don't show the option to change scope, ban, or kick group members\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n            editAccess = null;\n            editClassName = \"true\";\n        } else {\n\n            editAccess = (\n                <React.Fragment>\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                </React.Fragment>\n            );\n\n            /**\n             * if kick and ban feature is disabled\n             */\n            if (this.props.enableBanGroupMembers === false && this.props.enableKickGroupMembers === false) {\n                editAccess = null;\n            } else if (this.props.enableBanGroupMembers === false) { //if ban feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                );\n            } else if (this.props.enableKickGroupMembers === false) { //if kick feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                );\n            }\n\n            /**\n             * if promote_demote_members feature is disabled\n             */\n            if (this.props.enableChangeScope === false) {\n                changescope = scope;\n            }\n        }\n\n        let userPresence = (\n            <CometChatUserPresence status={this.props.member.status} />\n        );\n        \n        return (\n            <div css={modalRowStyle(this.context)} className=\"content__row\">\n                <div css={nameColumnStyle(this.context, editClassName)} className=\"userinfo\">\n                    <div css={avatarStyle(this.context, editClassName)} className=\"thumbnail\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>\n                        <CometChatAvatar user={this.props.member} />\n                        {userPresence}\n                    </div>\n                    <div css={nameStyle(this.context, editClassName)} className=\"name\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>{name}</div>\n                </div>\n                <div css={scopeColumnStyle(this.context)} className=\"scope\">{changescope}</div>\n                {editAccess}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberListItem.defaultProps = {\n\tloggedinuser: {},\n\tenableChangeScope: false,\n};\n\nCometChatViewGroupMemberListItem.propTypes = {\n\tloggedinuser: PropTypes.shape(CometChat.User),\n\tenableChangeScope: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberListItem };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class AddMembersManager {\n\tmembersRequest = null;\n\tuserListenerId = new Date().getTime();\n\n\tconstructor(context, searchKey) {\n\n\t\tthis.context = context;\n\t\tthis.searchKey = searchKey;\n\t}\n\n\tinitializeMembersRequest = () => {\n\n\t\tconst userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (userListMode === userListModeOptions[\"ALL\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else {\n\t\t\t\treturn reject({message: \"Invalid filter for userlist\"});\n\t\t\t}\n\t\t});\n\t};\n\n\tfetchNextUsers() {\n\t\treturn this.membersRequest.fetchNext();\n\t}\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : { \n        textAlign: \"left\", \n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n        color: `${context.theme.color.red}`,\n        textAlign: \"center\",\n        margin: \"8px 0\",\n        width: \"100%\",\n    };\n}\n\nexport const modalSearchStyle = () => {\n\treturn {\n\t\tfontWeight: \"normal\",\n\t\tmarginBottom: \"16px\",\n\t\twidth: \"100%\",\n        height: \"35px\",\n\t\tborderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n\t\tbackgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\t};\n};\n\nexport const searchButtonStyle = (img, context) => {\n\n    return {\n        width: \"30px\",\n        height: \"100%\",\n        padding: \"8px\",\n        cursor: \"default\",\n        mask: `url(${img}) 10px center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}!important`,\n    }\n}\n\nexport const searchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const modalListStyle = (context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalFootStyle = (props, state, img, context) => {\n\n    const loadingState = (state.addingMembers) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) ${context.theme.primaryColor} no-repeat right 10px center`,\n    } : {};\n\n    const textMargin = state.addingMembers ? { marginRight: \"24px\" } : {};\n    \n    return {\n        margin: \"24px auto 0 auto\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: \"white\",\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/adding.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { AddMembersManager } from \"./controller\";\n\nimport { CometChatAddGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalSearchStyle,\n    searchButtonStyle,\n    searchInputStyle,\n    modalListStyle,\n    modalFootStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport addingIcon from \"./resources/adding.svg\";\nimport searchIcon from \"./resources/search.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatAddGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            userlist: [],\n            membersToAdd: [],\n            filteredlist: [],\n            addingMembers: false,\n            decoratorMessage: Translator.translate(\"LOADING\", context.language),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        this.AddMembersManager = new AddMembersManager(this.context);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.getUsers();\n            this.AddMembersManager.attachListeners(this.userUpdated);\n        });\n    }\n\n    componentWillUnmount() {\n\n        this.AddMembersManager.removeListeners();\n        this.AddMembersManager = null;\n    }\n\n    userUpdated = (user) => {\n        \n        let userlist = [...this.state.userlist];\n  \n        //search for user\n        let userKey = userlist.findIndex((u, k) => u.uid === user.uid);\n      \n        //if found in the list, update user object\n        if(userKey > -1) {\n\n            let userObj = userlist[userKey];\n            let newUserObj = Object.assign({}, userObj, user);\n            userlist.splice(userKey, 1, newUserObj);\n    \n            this.setState({ userlist: userlist });\n        }\n    }\n\n    handleScroll = (e) => {\n      const bottom =\n        Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n      if (bottom) this.getUsers();\n    }\n    \n    searchUsers = (e) => {\n  \n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n\n        let val = e.target.value;\n        \n        this.AddMembersManager = new AddMembersManager(this.context, val);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.timeout = setTimeout(() => {\n                this.setState({ userlist: [], membersToAdd: [], membersToRemove: [], filteredlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.context.language) }, () => this.getUsers());\n            }, 500);\n\t\t\t\t\t\t\t\n        });\n    }\n  \n    getUsers = () => {\n  \n        this.AddMembersManager.fetchNextUsers()\n            .then(userList => {\n                const filteredUserList = userList.filter(user => {\n                    const found = this.context.groupMembers.find(member => user.uid === member.uid);\n                    const foundbanned = this.context.bannedGroupMembers.find(member => user.uid === member.uid);\n                    if (found || foundbanned) {\n                        return false;\n                    }\n                    return true;\n                });\n\n                if (filteredUserList.length === 0) {\n                    this.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.context.language) });\n                }\n\n                this.setState({ userlist: [...this.state.userlist, ...userList], filteredlist: [...this.state.filteredlist, ...filteredUserList] });\n            })\n            .catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    membersUpdated = (user, userState) => {\n\n        if(userState) {\n\n            const members = [...this.state.membersToAdd];\n            members.push(user);\n            this.setState({membersToAdd: [...members]});\n\n        } else {\n\n            const membersToAdd = [...this.state.membersToAdd];\n            const IndexFound = membersToAdd.findIndex(member => member.uid === user.uid);\n            if(IndexFound > -1) {\n                membersToAdd.splice(IndexFound, 1);\n                this.setState({membersToAdd: [...membersToAdd]})\n            }\n        }\n    }\n\n    updateMembers = () => {\n        \n        const guid = this.context.item.guid;\n        const membersList = [];\n\n        this.state.membersToAdd.forEach(newmember => {\n            //if a selected member is already part of the member list, don't add\n            const IndexFound = this.context.groupMembers.findIndex(member => member.uid === newmember.uid);\n            if(IndexFound === -1) {\n                \n                const newMember = new CometChat.GroupMember(newmember.uid, CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT);\n                membersList.push(newMember);\n\n                newmember[\"type\"] = \"add\";\n            }\n        });\n\n        if(membersList.length) {\n\n            this.setState({ addingMembers: true });\n\n            const membersToAdd = [];\n            CometChat.addMembersToGroup(guid, membersList, []).then(response => {\n\n                if (Object.keys(response).length) {\n                        \n                    for (const member in response) {\n\n                        if(response[member] === \"success\") {\n\n                            const found = this.state.userlist.find(user => user.uid === member);\n                            found[\"scope\"] = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n                            membersToAdd.push(found);\n                        }\n                    }\n\n                    this.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], membersToAdd);\n                }\n                this.setState({ addingMembers: false });\n                this.props.close();\n\n            }).catch(error => {\n                \n                this.setState({ addingMembers: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n                \n            });\n        }\n    }\n\n    render() {\n\n        const createText = this.state.addingMembers ? Translator.translate(\"ADDING\", this.context.language) : Translator.translate(\"ADD\", this.context.language);\n        let addGroupMemberBtn = (\n            <div css={modalFootStyle(this.props, this.state, addingIcon, this.context)} className=\"modal__addmembers\">\n                <button type=\"button\" onClick={this.updateMembers}><span>{createText}</span></button>\n            </div>\n        );\n\n        let messageContainer = null;\n        if (this.state.filteredlist.length === 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"members__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n            addGroupMemberBtn = null;\n        }\n\n        let currentLetter = \"\";\n        const filteredUserList = [...this.state.filteredlist];\n        const users = filteredUserList.map(user => {\n\n            const chr = user.name[0].toUpperCase();\n            let firstLetter = null;\n            if(chr !== currentLetter) {\n                currentLetter = chr;\n                firstLetter = currentLetter;\n            }\n\n            return (\n                <React.Fragment key={user.uid}>\n                    <CometChatAddGroupMemberListItem \n                    theme={this.props.theme}\n                    firstLetter={firstLetter}\n                    user={user}\n                    changed={this.membersUpdated} />\n                </React.Fragment>\n            )\n        });\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__addmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"USERS\", this.context.language)}</div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n                        <div css={modalSearchStyle()} className=\"modal__search\">\n                            <button type=\"button\" className=\"search__button\" css={searchButtonStyle(searchIcon, this.context)} />\n                            <input\n                            type=\"text\"\n                            autoComplete=\"off\"\n                            css={searchInputStyle()}\n                            className=\"search__input\"\n                            placeholder={Translator.translate(\"SEARCH\", this.context.language)}\n                            onChange={this.searchUsers} />\n                        </div>\n                        {messageContainer}\n                        <div css={modalListStyle(this.context)} onScroll={this.handleScroll} className=\"modal__content\">{users}</div>\n                        {addGroupMemberBtn}\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatAddGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberList };\n","export const modalRowStyle = (theme) => {\n\n    return {\n        border: `1px solid ${theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        \"&:not(:last-child)\": {\n            borderBottom: \"none\"\n        }\n    }\n}\n\nexport const modalColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"calc(100% - 50px)\",\n    }\n}\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const selectionColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"50px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    }\n}\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, theme) => {\n\n    return {\n        display: \"none\",\n        \" + label\": {\n            display: \"block\",\n            cursor: \"pointer\",\n            userSelect: \"none\",\n            padding: \"8px\",\n            width: \"100%\",\n            mask: `url(${inactiveStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        },\n        \"&:checked + label\": {\n            width: \"100%\",\n            mask: `url(${activeStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import { useState, useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmodalRowStyle,\n\tmodalColumnStyle,\n\tavatarStyle,\n\tnameStyle,\n\tselectionColumnStyle,\n\tselectionBoxStyle\n} from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nconst CometChatAddGroupMemberListItem = (props) => {\n\n\tconst { groupMembers, theme } = useContext(CometChatContext);\n\n\tconst [checked, setChecked] = useState(() => {\n\t\tconst found = groupMembers.find(member => member.uid === props.user.uid);\n\t\tconst value = (found) ? true : false;\n\n\t\treturn value;\n\t});\n\n\tconst handleCheck = (event) => {\n\n\t\tconst value = (checked === true) ? false : true;\n\t\tsetChecked(value);\n\t\tprops.changed(props.user, value);\n\t}\n\n\tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\t\t\n\t\tif(scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div css={modalRowStyle(theme)}>\n\t\t\t<div css={modalColumnStyle()} className=\"userinfo\" onMouseEnter={event => toggleTooltip(event, true)} onMouseLeave={event => toggleTooltip(event, false)}>\n\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t\t<CometChatUserPresence status={props.user.status} />\n\t\t\t\t</div>\n\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t{props.user.name}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div css={selectionColumnStyle()} className=\"selection\">\n\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, theme)} type=\"checkbox\" checked={checked} id={props.user.uid + \"sel\"} onChange={handleCheck} />\n\t\t\t\t<label htmlFor={props.user.uid + \"sel\"}>&nbsp;</label>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberListItem.defaultProps = {\n\ttheme: theme\n};\n\nCometChatAddGroupMemberListItem.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberListItem };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"8px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n\t\theight: \"31px\",\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    };\n}\n\nexport const nameColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"calc(100% - 220px)\",\n        [mq[0]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[1]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 185px)\",\n        },\n    };\n}\n\nexport const roleColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"150px\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t};\n};\n\nexport const actionColumnStyle = () => {\n\n    return {\n        width: \"70px\"\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",        \n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        height: \"30px\",\n        color: `${context.theme.color.secondary}`,\n        fontSize: \"20px!important\",\n        fontWeight: \"600\"\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBanGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    nameColumnStyle,\n    roleColumnStyle,\n    actionColumnStyle,\n    listStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatBanGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            membersToBan: [],\n            membersToUnBan: [],\n            decoratorMessage: Translator.translate(\"LOADING\", Translator.getDefaultLanguage()),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        if (this.context.bannedGroupMembers.length === 0) {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    componentDidUpdate() {\n        \n        if (this.context.bannedGroupMembers.length === 0 && this.state.decoratorMessage === \"\") {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else if (this.context.bannedGroupMembers.length && this.state.decoratorMessage.length) {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    unbanMember = (memberToUnBan) => {\n\n        const guid = this.context.item.guid;\n        CometChat.unbanGroupMember(guid, memberToUnBan.uid).then(response => {\n            \n            if(response) {\n                this.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], [memberToUnBan]);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    updateMembers = (action, member) => {\n\n        switch(action) {\n            case enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"]:\n                this.unbanMember(member);\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n        if (bottom) {\n            this.props.actionGenerated(enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]);\n        }\n    }\n    \n    render() {\n        \n        const membersList = [...this.context.bannedGroupMembers];\n        const bannedMembers = membersList.map((member, key) => {\n\n            return (\n                <CometChatBanGroupMemberListItem \n                key={member.uid} \n                member={member}\n                loggedinuser={this.props.loggedinuser}\n                actionGenerated={this.updateMembers} />);\n\n        });\n\n        let messageContainer = null;\n        if (this.state.decoratorMessage.length !== 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"bannedmembers__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n        }\n        \n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__bannedmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n                            {Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n                        </div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">\n                            {this.state.errorMessage}\n                        </div>\n\n                        <div css={modalListStyle()} className=\"modal__content\">\n                            <div css={listHeaderStyle(this.context)} className=\"content__header\">\n                                <div css={nameColumnStyle(this.props)} className=\"name\">\n                                    {Translator.translate(\"NAME\", this.context.language)}\n                                </div>\n                                <div css={roleColumnStyle(this.context)} className=\"role\">\n                                    {Translator.translate(\"SCOPE\", this.context.language)}\n                                </div>\n                                <div css={actionColumnStyle(this.context)} className=\"unban\">\n                                    {Translator.translate(\"UNBAN\", this.context.language)}\n                                </div>\n                            </div>\n                            {messageContainer}\n                            <div css={listStyle(this.props)} className=\"content__list\" onScroll={this.handleScroll}>\n                                {bannedMembers}\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberList };\n","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    };\n}\n\nexport const userStyle = context => {\n    \n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"calc(100% - 220px)\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px 0 0 0\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\"\n    }\n}\n\nexport const roleStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        width: \"150px\",\n        fontSize: \"12px\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"115px\"\n        }\n    }\n}\n\nexport const actionStyle = (img, context) => {\n\n    return {\n        width: \"70px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`,\n            display: \"inline-block\"\n        },\n    };\n}","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalRowStyle,\n    userStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    actionStyle\n} from \"./style\";\n\nimport unban from \"./resources/ban-member.svg\";\n\nconst CometChatBanGroupMemberListItem = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    let name = props.member.name;\n    let scope = context.roles[props.member.scope];\n    let unBan = (<i title={Translator.translate(\"UNBAN\", context.language)} onClick={() => { props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"], props.member)}} />);\n\n    //if the loggedin user is moderator, don't allow unban of banned moderators or administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n    && (props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n        unBan = null;\n    }\n\n    //if the loggedin user is administrator, don't allow unban of banned administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN && props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n        if (context.item.owner !== props.loggedinuser.uid) {\n            unBan = null;\n        }\n    }\n\n    const toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        const nameContainer = elem.lastChild;\n    \n        const scrollWidth = nameContainer.scrollWidth;\n        const clientWidth = nameContainer.clientWidth;\n        \n        if(scrollWidth <= clientWidth) {\n          return false;\n        }\n    \n        if(flag) {\n          nameContainer.setAttribute(\"title\", nameContainer.textContent);\n        } else {\n          nameContainer.removeAttribute(\"title\");\n        }\n    }\n    \n    return (\n        <div css={modalRowStyle(context)}>\n            <div css={userStyle(context)} className=\"userinfo\"\n            onMouseEnter={event => toggleTooltip(event, true)}\n            onMouseLeave={event => toggleTooltip(event, false)}>\n                <div css={avatarStyle()} className=\"avatar\">\n                    <CometChatAvatar user={props.member} />\n                    <CometChatUserPresence\n                    status={props.member.status}\n                    borderColor={props.theme.borderColor.primary} />\n                </div>\n                <div css={nameStyle()} className=\"name\">{name}</div>\n            </div>\n            <div css={roleStyle(context)} className=\"role\">{scope}</div>\n            <div css={actionStyle(unban, context)} className=\"unban\">{unBan}</div>\n        </div>\n    );\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberListItem.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberListItem.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberListItem };\n","export const groupScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \".groups\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const groupScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatGroupList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tgroupScreenStyle,\n\tgroupScreenSidebarStyle,\n\tgroupScreenMainStyle,\n} from \"./style\"\n\nclass CometChatGroupListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.groupListRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (group, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, group);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t*/\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, {\"scope\": options[\"scope\"]})\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"groups\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={groupScreenStyle(this.props)} className=\"cometchat cometchat--groups\">\n\t\t\t\t\t<div css={groupScreenSidebarStyle(this.state, this.props)} className=\"groups__sidebar\">\n\t\t\t\t\t\t<CometChatGroupList ref={el => (this.groupListRef = el)} _parent=\"glwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={groupScreenMainStyle(this.state, this.props)} className=\"groups__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithGroup: \"\",\n};\n\nCometChatGroupListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatGroupListWithMessages };","export const modalWrapperStyle = (props, context) => {\n\n\tconst mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"40%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\treturn {\n\t\tposition: \"absolute\",\n\t\twidth: \"32px\",\n\t\theight: \"32px\",\n\t\tborderRadius: \"50%\",\n\t\ttop: \"16px\",\n\t\tright: \"16px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t};\n};\n\nexport const modalBodyStyle = () => {\n\treturn {\n\t\tpadding: \"24px\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalCaptionStyle = dir => {\n\tconst textAlignStyle =\n\t\tdir === \"rtl\" ? {\n\t\t\ttextAlign: \"right\",\n\t\t\tpaddingRight: \"32px\",\n\t\t}\n\t\t: {\n\t\t\ttextAlign: \"left\",\n\t\t};\n\n\treturn {\n\t\tfontSize: \"20px\",\n\t\tmarginBottom: \"8px\",\n\t\tfontWeight: \"bold\",\n\t\t...textAlignStyle,\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\theight: \"31px\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalListStyle = (context) => {\n\treturn {\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 120px)\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const listHeaderStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tfontWeight: \"bold\",\n\t\tpadding: \"8px\",\n\t\twidth: \"100%\",\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const listStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 100px)\",\n\t\toverflowY: \"auto\",\n\t};\n};\n\nexport const nameColumnStyle = (props, context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const scopeColumnStyle = (context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n};\n\n\n\nexport const modalFootStyle = (state, context, img) => {\n\n\tconst btnState = !state.newGroupOwner || state.transferringOwnership ? { \n\t\tdisabled: \"true\",\n\t\tpointerEvents: \"none\",\n\t} : {};\n\n\tconst loadingState = state.transferringOwnership ? {\n\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.backgroundColor.blue}`,\n\t} : {};\n\n\tconst textMargin = state.transferringOwnership ? { marginRight: \"24px\" } : {};\n\n\treturn {\n\t\tpaddingTop: \"24px\",\n\t\ttextAlign: \"center\",\n\t\tbutton: {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.blue}`,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tfontSize: \"14px\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\t...btnState,\n\t\t\t...loadingState,\n\t\t\tspan: {\n\t\t\t\t...textMargin,\n\t\t\t},\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/transferring.446449d0.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatTransferOwnershipMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n\tmodalFootStyle,\n\tmodalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\nimport transferIcon from \"./resources/transferring.svg\";\n\nclass CometChatTransferOwnershipMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(context.theme.breakPoints[1]);\n\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", context.language);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", context.language);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: userColumnTitle,\n\t\t\tnewGroupOwner: null,\n\t\t\ttransferringOwnership: false,\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CHANGE_OWNERSHIP_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeOwnership(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateGroupOwner = member => {\n\t\tthis.setState({ newGroupOwner: member?.uid });\n\t};\n\n\ttransferOwnership = () => {\n\n\t\tconst guid = this.context?.item?.guid;\n\t\tconst uid = this.state.newGroupOwner;\n\n\t\tif (!guid || !uid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferringOwnership: true });\n\t\tCometChat.transferGroupOwnership(guid, uid).then(response => {\n\t\t\tthis.setState({ transferringOwnership: false });\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"], uid);\n\n\t\t}).catch(error => {\n\t\t\tthis.setState({ transferringOwnership: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t});\n\t};\n\n\tchangeOwnership = () => {};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\n\t\tconst memberList = [...this.context.groupMembers];\n\t\tconst groupMembers = memberList\n\t\t\t.filter(member => member?.uid !== this.props?.loggedinuser?.uid)\n\t\t\t.map(member => {\n\t\t\t\treturn <CometChatTransferOwnershipMemberListItem loggedinuser={this.props.loggedinuser} key={member?.uid} checked={this.updateGroupOwner} member={member} actionGenerated={this.updateMembers} />;\n\t\t\t});\n\n\t\tlet transferBtn = null;\n\t\tif(memberList.length) {\n\n\t\t\tconst transferText = this.state.transferringOwnership ? Translator.translate(\"TRANSFERRING\", this.context.language) : Translator.translate(\"TRANSFER\", this.context.language);\n\t\t\ttransferBtn = (\n\t\t\t\t<div css={modalFootStyle(this.state, this.context, transferIcon)} className=\"modal__transferownership\">\n\t\t\t\t\t<button type=\"button\" onClick={this.transferOwnership}>\n\t\t\t\t\t\t<span>{transferText}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.props, this.context)} className=\"modal__groupmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n\t\t\t\t\t\t<div css={modalListStyle(this.context)} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.props, this.context)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{transferBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberList };\n","export const modalRowStyle = (props, context) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"14px\",\n\t\tpadding: \"8px\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tborderLeft: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRight: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const modalColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfloat: \"left\",\n\t\twidth: \"36px\",\n\t\theight: \"36px\",\n\t\tmarginRight: \"8px\",\n\t};\n};\n\nexport const nameStyle = () => {\n\treturn {\n\t\tmargin: \"10px\",\n\t\twidth: \"calc(100% - 50px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const selectionColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\t\"span\": {\n\t\t\tfontSize: \"12px\",\n\t\t\tdisplay: \"block\",\n\t\t\tpaddingRight: \"8px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n\n};\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, context) => {\n\treturn {\n\t\tdisplay: \"none\",\n\t\t\" + label\": {\n\t\t\tdisplay: \"block\",\n\t\t\tcursor: \"pointer\",\n\t\t\tmask: `url(${inactiveStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tuserSelect: \"none\",\n\t\t\tpadding: \"8px\",\n\t\t},\n\t\t\"&:checked + label\": {\n\t\t\tmask: `url(${activeStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tpadding: \"8px\",\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { modalRowStyle, modalColumnStyle, avatarStyle, nameStyle, selectionColumnStyle, selectionBoxStyle } from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nclass CometChatTransferOwnershipMemberListItem extends React.Component {\n\tstatic contextType = CometChatContext;\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisSelected: false,\n\t\t};\n\t}\n\n\thandleCheck = e => {\n\t\t\n\t\tthis.setState(this.toggleSelectedState);\n\t\tthis.props.checked(this.props.member);\n\t};\n\n\ttoggleSelectedState = state => {\n\t\treturn {\n\t\t\tisSelected: !state.isSelected,\n\t\t};\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div css={modalRowStyle(this.props, this.context)}>\n\t\t\t\t<div css={modalColumnStyle(this.context)} className=\"memberinfo\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t\t<CometChatAvatar user={this.props.member} />\n\t\t\t\t\t\t<CometChatUserPresence status={this.props.member.status} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t{this.props.member.name}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={selectionColumnStyle(this.context)} className=\"selection\">\n\t\t\t\t\t<span>{this.context.roles[this.props.member.scope]}</span>\n\t\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, this.context)} type=\"radio\" name=\"transferOwnership\" checked={this.state.checked} id={this.props.member.uid + \"sel\"} onChange={this.handleCheck} />\n\t\t\t\t\t<label htmlFor={this.props.member.uid + \"sel\"}>&nbsp;</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberListItem };","export const chatWrapperStyle = (props, state) => {\n\n\tlet borderStyle = {};\n\tif (props._parent.trim().length === 0) {\n\t\tif (state.viewdetailscreen || state.threadmessageview) {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t} else {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderRight: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t}\n\t}\n\n\tconst mq = [...props.theme.breakPoints];\n\n\tconst secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\n        width: \"calc(100% - 400px)\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        },\n        [`@media ${mq[3]}, ${mq[4]}`]: {\n            width: \"0\",\n            display: \"none\",\n        },\n    } : {\n        width: \"100%\",\n    };\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"relative\",\n\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t...borderStyle,\n\t\t...secondaryViewWidth,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t\t\"::-webkit-scrollbar\": {\n\t\t\t\twidth: \"8px\",\n\t\t\t\theight: \"4px\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-track\": {\n\t\t\t\tbackground: \"#ffffff00\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\t\tbackground: \"#ccc\",\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackground: \"#aaa\",\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const chatSecondaryStyle = (props) => {\n\n    const borderStyle = (props._parent.trim().length === 0) ? {\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        float: \"right\",\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        width: \"400px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        order: \"3\",\n        ...borderStyle,\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n            position: \"absolute!important\",\n            right: \"0!important\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n        }\n    }\n}\n\nexport const reactionsWrapperStyle = () => {\n\n    return {\n        position: \"absolute\", \n        width: \"100%\", \n        height: \"100%\", \n        top: \"0\", \n        right: \"0\",\n        zIndex: \"2\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"center\"\n    }\n}\n\n\nexport const messagePaneTopStyle = () => {\n\n    return {\n        top: \"75px\",\n        position: \"absolute\",\n        width: \"auto\",\n        right: \"auto\",\n        left: \"50%\",\n        fontWeight: \"700\",\n        zIndex: \"200\",\n        transform: \"translateX(-50%)\",\n    }\n}\n\nexport const messagePaneBannerStyle = props => {\n\n\treturn {\n\t\tmarginBottom: \"0\",\n\t\tdisplay: \"block\",\n\t\tfontSize: \"13px\",\n\t\tflex: \"1\",\n\t\tbackground: `${props.theme.color.blue}`,\n\t\tborderRadius: \"6px\",\n\t\tzIndex: 200,\n\t};\n};\n\nexport const messagePaneUnreadBannerStyle = () => {\n\n    return {\n        height: \"28px\",\n        borderRadius: \"14px\",\n        display: \"flex\",\n        flex: \"1\",\n        alignItems: \"center\",\n    }\n}\n\nexport const messagePaneUnreadBannerMessageStyle = props => {\n\n\treturn {\n\t\tpadding: \"0 16px\",\n\t\tflex: \"1\",\n\t\ttextAlign: \"center\",\n\t\ttextShadow: \"0 1px rgba(0, 0, 0, .15)\",\n\t\twhiteSpace: \"nowrap\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\tcolor: `${props.theme.color.white}`,\n\t};\n};\n\nexport const iconArrowDownStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"inline-flex\",\n        height: \"20px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingRight: \"8px\",\n    }\n}\n\nexport const chatContainerStyle = () => {\n\n    return {\n        display: \"flex\", \n        width: \"100%\", \n        height: \"100%\"\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport {CometChat} from \"@cometchat-pro/chat\";\n\nimport {\n\tCometChatMessageHeader, \n\tCometChatMessageList, \n\tCometChatMessageComposer, \n\tCometChatLiveReactions, \n\tCometChatMessageThread, \n\tCometChatImageViewer,\n\tCometChatBlockedUser\n} from \"../\";\n\nimport {\n\tCometChatIncomingCall, \n\tCometChatOutgoingCall, \n\tCometChatOutgoingDirectCall, \n\tCometChatIncomingDirectCall\n} from \"../../Calls\";\n\nimport {CometChatUserDetails} from \"../../Users\";\nimport {CometChatGroupDetails} from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport {CometChatContextProvider, CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport {checkMessageForExtensionsData} from \"../../../util/common\";\nimport {SoundManager} from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatWrapperStyle, \n\tchatSecondaryStyle, \n\treactionsWrapperStyle, \n\tmessagePaneTopStyle, \n\tmessagePaneBannerStyle, \n\tmessagePaneUnreadBannerStyle, \n\tmessagePaneUnreadBannerMessageStyle, \n\ticonArrowDownStyle, \n\tchatContainerStyle\n} from \"./style\";\n\nclass CometChatMessages extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tliveReaction: false,\n\t\t\tmessageToReact: null,\n\t\t\tunreadMessages: [],\n\t\t\tviewdetailscreen: false,\n\t\t\tthreadmessageview: false,\n\t\t\tthreadmessagetype: null,\n\t\t\tthreadmessageitem: {},\n\t\t\tthreadmessageparent: {},\n\t\t\tviewOriginalImage: false,\n\t\t\tenableGroupActionMessages: false,\n\t\t\tenableCallActionMessages: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.composerRef = React.createRef();\n\t\tthis.messageListRef = React.createRef();\n\t\tthis.outgoingCallRef = React.createRef();\n\t\tthis.outgoingDirectCallRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.reactionName = \"heart\";\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().item;\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (Object.keys(this.item).length) {\n\t\t\tconst ifChatWindowChanged = () => {\n\t\t\t\tlet output = false;\n\n\t\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && (this.getContext().item.uid !== this.item.uid || this.getContext().item.blockedByMe !== this.item.blockedByMe)) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.item.guid) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.type !== this.getContext().type) {\n\t\t\t\t\toutput = true;\n\t\t\t\t}\n\n\t\t\t\treturn output;\n\t\t\t};\n\n\t\t\tif (ifChatWindowChanged() === true) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", threadmessageview: false, viewdetailscreen: false, unreadMessages: [] });\n\t\t\t}\n\t\t}\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : {};\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\t/**\n\t\t * Custom message to be appended or updated for direct calling\n\t\t */\n\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\tif (\n\t\t\t\tObject.keys(this.getContext().directCallCustomMessage).length &&\n\t\t\t\tthis.getContext().directCallCustomMessageAction.trim().length &&\n\t\t\t\t(this.getContext().directCallCustomMessage !== this.directCallCustomMessage || this.getContext().directCallCustomMessageAction !== this.directCallCustomMessageAction)\n\t\t\t) {\n\t\t\t\tconst customMessage = this.getContext().directCallCustomMessage;\n\t\t\t\tconst messageAction = this.getContext().directCallCustomMessageAction.trim();\n\n\t\t\t\tswitch (messageAction) {\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t\t\tthis.appendMessage(customMessage);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]: {\n\t\t\t\t\t\tthis.messageSent(customMessage);\n\t\t\t\t\t\t//this.getContext().setLastMessage(customMessage[0]);\n\t\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...customMessage[0] });\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.getContext().setDirectCallCustomMessage({}, \"\");\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.directCallCustomMessage = this.getContext().directCallCustomMessage;\n\t\t\tthis.directCallCustomMessageAction = this.getContext().directCallCustomMessageAction.trim();\n\t\t}\n\t}\n\n\tenableGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupActionMessages) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableCallActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCallActionMessages) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCallActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, messages, key, group, options) => {\n\n\t\tswitch (action) \n\t\t{\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.parentMessageId) {\n\t\t\t\t\t\tthis.updateReplyCount(messages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_READ\"]: {\n\t\t\t\tif (this.props?.actionGenerated) {\n\t\t\t\t\tthis.props?.actionGenerated(action, messages);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]: {\n\t\t\t\tthis.appendMessage(messages);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...messages[0] });\n\t\t\t\t//this.getContext().setLastMessage(messages[0]);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]: {\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\t//update the parent message of thread message\n\t\t\t\tthis.updateParentThreadedMessage(key, \"edit\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]: {\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\t//remove the thread message\n\t\t\t\tthis.updateParentThreadedMessage(messages[0], \"delete\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGES_FETCHED\"]:\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REFRESHING_MESSAGES\"]:\n\t\t\t\tthis.refreshingMessages();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_REFRESHED\"]:\n\t\t\t\tthis.messageRefreshed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"NEW_MESSAGES\"]:\n\t\t\t\tthis.newMessagesArrived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]:\n\t\t\t\tthis.jumpToMessages(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.groupUpdated(action, messages, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.appendCallMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]:\n\t\t\t\tthis.audioCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]:\n\t\t\t\tthis.videoCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_USER_DETAIL\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tthis.props.actionGenerated(action);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"STOP_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(false);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.liveReactionReceived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"JOIN_DIRECT_CALL\"]: {\n\t\t\t\t//if used in a chat widget, trigger the event to the app component as directcall component is included outside of iframe\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\t} else {\n\t\t\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\t\t\tthis.outgoingDirectCallRef.joinCall(sessionID);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.viewThreadedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"]:\n\t\t\t\tthis.threadMessageComposed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"]:\n\t\t\t\tthis.closeThreadedMessage();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberAddedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberUnbannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberScopeChangedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberKickedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberBannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR\"]:\n\t\t\t\tthis.errorHandler(key);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INFO\"]:\n\t\t\t\tthis.infoMessageHandler(key);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\terrorHandler = errorCode => {\n\t\tif (typeof this.toastRef.setError === \"function\") {\n\t\t\tthis.toastRef?.setError(errorCode);\n\t\t}\n\t};\n\n\tinfoMessageHandler = infoCode => {\n\t\tif (typeof this.toastRef.setInfo === \"function\") {\n\t\t\tthis.toastRef?.setInfo(infoCode);\n\t\t}\n\t};\n\n\tappendMemberAddedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_ADDED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberUnbannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_UNBANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberScopeChangedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst newScope = Translator.translate(eachMember.scope, this.props.lang);\n\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tnewScope: newScope,\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberKickedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_KICKED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberBannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_BANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\ttoggleDetailView = () => {\n\t\tlet viewdetail = !this.state.viewdetailscreen;\n\t\tthis.setState({ viewdetailscreen: viewdetail, threadmessageview: false });\n\t};\n\n\tviewThreadedMessage = parentMessage => {\n\t\tconst message = { ...parentMessage };\n\t\tconst threaditem = { ...this.getContext().item };\n\t\tthis.setState({\n\t\t\tthreadmessageview: true,\n\t\t\tthreadmessageparent: message,\n\t\t\tthreadmessageitem: threaditem,\n\t\t\tthreadmessagetype: this.getContext().type,\n\t\t\tviewdetailscreen: false,\n\t\t});\n\t};\n\n\tthreadMessageComposed = messages => {\n\t\tif (this.getContext().type !== this.state.threadmessagetype) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.state.threadmessageitem.guid) || (this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid !== this.state.threadmessageitem.uid)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.updateReplyCount(messages);\n\t};\n\n\tcloseThreadedMessage = () => {\n\t\tthis.setState({ threadmessageview: false, viewdetailscreen: false });\n\t};\n\n\t/*\n\tUpdating parent message of threaded conversation, when the message is edited or deleted\n\t*/\n\tupdateParentThreadedMessage = (message, action) => {\n\t\tif (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tthis.setState({ threadmessageparent: { ...message }, threadmessageview: false });\n\t\t} else {\n\t\t\tthis.setState({ threadmessageparent: { ...message } });\n\t\t}\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.getContext().item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.getContext().item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\taudioCall = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.AUDIO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_AUDIO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t\tthis.appendCallMessage(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tvideoCall = () => {\n\t\t/*\n\t\tDirect calling for groups\n\t\t*/\n\t\tif (this.getContext().type === CometChat.RECEIVER_TYPE.GROUP) {\n\n\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_DIRECT_CALL\"], sessionID);\n\t\t\t} else {\n\t\t\t\tthis.outgoingDirectCallRef.startCall(sessionID);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\tDefault calling for one-on-one\n\t\t*/\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.VIDEO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_VIDEO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleReaction = flag => {\n\t\tthis.setState({ liveReaction: flag });\n\t};\n\n\tliveReactionReceived = reaction => {\n\n\t\tconst stopReaction = () => {\n\t\t\tthis.toggleReaction(false);\n\t\t}\n\n\t\tif (reaction.data.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\n\t\t\tthis.reactionName = reaction.data.reaction;\n\t\t\tthis.toggleReaction(true);\n\n\t\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\t\t\tsetTimeout(stopReaction, liveReactionInterval);\n\t\t}\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\t//remove edit preview when message is deleted\n\t\t\t\tif (deletedMessage.id === this.state.messageToBeEdited.id) {\n\t\t\t\t\tthis.setState({ messageToBeEdited: \"\" });\n\t\t\t\t}\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t\t//this.getContext().setLastMessage(deletedMessage);\n\t\t\t\t}\n\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\t\t\t\tthis.updateParentThreadedMessage(deletedMessage, \"delete\");\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message, replyPreview: null });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tthis.updateParentThreadedMessage(newMessageObj, \"edit\");\n\n\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t\t//this.getContext().setLastMessage(newMessageObj);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tmessageList.sort((a, b) => a.id - b.id);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t\t}\n\t};\n\n\trefreshingMessages = () => {\n\t\tthis.setState({ messageList: [], messageToBeEdited: \"\", replyPreview: null, liveReaction: false, messageToReact: null });\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\t};\n\n\tmessageRefreshed = messages => {\n\t\tconst messageList = [...messages];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\tnewMessagesArrived = newMessage => {\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tunreadMessages.push(newMessage[0]);\n\n\t\tthis.setState({ unreadMessages: unreadMessages });\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"NEW_MESSAGES\"], { unreadMessages: unreadMessages });\n\t};\n\n\tmarkMessagesAsRead = scrollToBottom => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\n\t\tunreadMessages.forEach(unreadMessage => {\n\t\t\tif (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t}\n\t\t\t} else if (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({ messageList: messageList, scrollToBottom: scrollToBottom, unreadMessages: [] });\n\t};\n\n\tjumpToMessages = () => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\t\tmessageList = messageList.concat(unreadMessages);\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\n\t\tif (messageList.length > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\tif (this.messageListRef) {\n\t\t\t\tthis.messageListRef.reInitializeMessageBuilder();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.markMessagesAsRead(true);\n\t\t}\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList, ...message];\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages, scrollToBottom: false });\n\t};\n\n\tgroupUpdated = (action, message, group, options) => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === true) {\n\t\t\tthis.appendMessage([message]);\n\t\t}\n\n\t\tthis.props.actionGenerated(action, message, group, options);\n\t};\n\n\tappendCallMessage = message => {\n\t\t//if call action messages are disabled\n\t\tif (this.state.enableCallActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.appendMessage([message]);\n\t};\n\n\tupdateReplyCount = messages => {\n\t\tconst receivedMessage = messages[0];\n\n\t\tlet messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === receivedMessage.parentMessageId);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\t\t\tlet replyCount = messageObj.hasOwnProperty(\"replyCount\") ? messageObj.replyCount : 0;\n\t\t\treplyCount = replyCount + 1;\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, { replyCount: replyCount });\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t\t}\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\t\tif (message.sender.uid === this.loggedInUser.uid || message.category === CometChat.CATEGORY_CUSTOM) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If smart-replies feature is enabled\n\t\t */\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isSmartRepliesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\t\t\tthis.setState({ replyPreview: message });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({ replyPreview: null });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\t/**\n\t\t * If used as standalone component\n\t\t */\n\t\tif (this.props._parent.trim().length === 0 && this.props.chatWithUser.trim().length === 0 && this.props.chatWithGroup.trim().length === 0) {\n\t\t\treturn (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} _component={enums.CONSTANTS[\"MESSAGES_COMPONENT\"]} user={this.props.chatWithUser} group={this.props.chatWithGroup}>\n\t\t\t\t\t<div></div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t} else if (this.props._parent.trim().length && Object.keys(this.getContext().item).length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet blockedUser = null;\n\t\tlet messageList = (\n\t\t\t<CometChatMessageList\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.messageListRef = el;\n\t\t\t\t}}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\tmessages={this.state.messageList}\n\t\t\t\tscrollToBottom={this.state.scrollToBottom}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\treaction={this.reactionName}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\tlet newMessageIndicator = null;\n\t\tif (this.state.unreadMessages.length) {\n\t\t\tconst unreadMessageCount = this.state.unreadMessages.length;\n\t\t\tconst messageText = unreadMessageCount > 1 ? `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGES\", this.props.lang)}` : `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGE\", this.props.lang)}`;\n\t\t\tnewMessageIndicator = (\n\t\t\t\t<div css={messagePaneTopStyle()} className=\"message_pane__top\">\n\t\t\t\t\t<div css={messagePaneBannerStyle(this.props)} className=\"message_pane__banner\">\n\t\t\t\t\t\t<div css={messagePaneUnreadBannerStyle()} className=\"message_pane__unread_banner__banner\" title={Translator.translate(\"JUMP\", this.props.lang)}>\n\t\t\t\t\t\t\t<button type=\"button\" css={messagePaneUnreadBannerMessageStyle(this.props)} className=\"message_pane__unread_banner__msg\" onClick={this.jumpToMessages}>\n\t\t\t\t\t\t\t\t<span css={iconArrowDownStyle()} className=\"icon--arrow-down\">\n\t\t\t\t\t\t\t\t\t&#x2193;{\" \"}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t//if sending messages are disabled for chat wigdet in dashboard\n\t\tif ((this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\tif (this.getContext()?.type === CometChat.RECEIVER_TYPE.USER && Object.keys(this.getContext().item).length && this.getContext().item.blockedByMe) {\n\t\t\tmessageComposer = null;\n\t\t\tmessageList = null;\n\t\t\tblockedUser = <CometChatBlockedUser user={this.item} />;\n\t\t}\n\n\t\tlet liveReactionView = null;\n\t\tif (this.state.liveReaction) {\n\t\t\tliveReactionView = (\n\t\t\t\t<div css={reactionsWrapperStyle()}>\n\t\t\t\t\t<CometChatLiveReactions reaction={this.reactionName} theme={this.props.theme} lang={this.props.lang} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\tIf used as a standalone component\n\t\t*/\n\t\tlet incomingCallView = null;\n\t\tlet incomingDirectCallView = null;\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tincomingCallView = <CometChatIncomingCall actionGenerated={this.actionHandler} />;\n\n\t\t\tincomingDirectCallView = <CometChatIncomingDirectCall actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\t//don't include it when opened in chat widget\n\t\tlet outgoingDirectCallView = null;\n\t\tlet outgoingCallView = null;\n\t\tif (Object.keys(this.props.widgetsettings).length === 0) {\n\t\t\toutgoingCallView = <CometChatOutgoingCall ref={el => (this.outgoingCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\toutgoingDirectCallView = <CometChatOutgoingDirectCall ref={el => (this.outgoingDirectCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet detailScreen = null;\n\t\tif (this.state.viewdetailscreen) {\n\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatUserDetails lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatGroupDetails lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet threadMessageView = null;\n\t\tif (this.state.threadmessageview) {\n\t\t\tthreadMessageView = (\n\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t<CometChatMessageThread activeTab={this.state.activeTab} threadItem={this.state.threadmessageitem} threadType={this.state.threadmessagetype} parentMessage={this.state.threadmessageparent} loggedInUser={this.loggedInUser} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} />;\n\t\t}\n\n\t\tlet messageComponent = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={chatWrapperStyle(this.props, this.state)} className=\"main__chat\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<CometChatMessageHeader lang={this.props.lang} sidebar={this.props.sidebar} viewdetail={this.props.viewdetail === false ? false : true} actionGenerated={this.actionHandler} />\n\t\t\t\t\t{messageList}\n\t\t\t\t\t{liveReactionView}\n\t\t\t\t\t{messageComposer}\n\t\t\t\t\t{blockedUser}\n\t\t\t\t\t{newMessageIndicator}\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{originalImageView}\n\t\t\t\t{detailScreen}\n\t\t\t\t{threadMessageView}\n\t\t\t\t{incomingCallView}\n\t\t\t\t{outgoingCallView}\n\t\t\t\t{incomingDirectCallView}\n\t\t\t\t{outgoingDirectCallView}\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet messageWrapper = messageComponent;\n\t\t/*\n\t\tIf used as a standalone component\n\t\t**/\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tmessageWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t\t<div css={chatContainerStyle()}>{messageComponent}</div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn messageWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\t_parent: \"\",\n\twidgetsettings: {},\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\t_parent: PropTypes.string,\n\twidgetsettings: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n};\n\nexport {CometChatMessages};","export const wrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\theight: \" 69px\",\n\t\tdisplay: \"flex\",\n\t};\n};\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n    }\n}\n\nexport const headerDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"calc(100% - 40px)\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        lineHeight: \"20px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const messageContainerStyle = (event) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        minHeight: \"calc(100% - 68px)\",\n        order: \"2\",\n        \".chat__list\": {\n            minHeight: \"250px\",\n            \".list__wrapper\": {\n                \"::-webkit-scrollbar\": {\n                    display: \"none\"\n                },\n                scrollbarWidth: \"none\"\n            }\n        },\n    }\n}\n\nexport const parentMessageStyle = (message) => {\n\n    const alignment = (message.messageFrom === \"sender\") ? {\n        justifyContent: \"flex-end\",\n    } : {\n        justifyContent: \"flex-start\",\n    };\n\n    return {\n        padding: \"14px 16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        ...alignment,\n        \".sender__message__container, .receiver__message__container\": {\n            maxWidth: \"100%\",\n            \"&:hover\": {\n                \".message__actions\": {\n                    display: \"none\"\n                }\n            }\n        },\n        \".replycount\": {\n            display: \"none\"\n        }\n    }\n}\n\nexport const messageSeparatorStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tposition: \"relative\",\n\t\tmargin: \"7px 16px\",\n\t\theight: \"15px\",\n\t\thr: {\n\t\t\tflex: \"1\",\n\t\t\tmargin: \"1px 0 0 0\",\n\t\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\t},\n\t};\n};\n\nexport const messageReplyStyle = () => {\n\n    return {\n        marginRight: \"12px\",\n        fontSize: \"12px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { \n\tCometChatMessageList, CometChatMessageComposer,\n\tCometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n\tCometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n\tCometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n\tCometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n\tCometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n\tCometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n\tCometChatImageViewer\n} from \"../\";\n\nimport {\n\tCometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n\tCometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n\tCometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n\tCometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\twrapperStyle,\n\theaderStyle,\n\theaderWrapperStyle,\n\theaderDetailStyle,\n\theaderTitleStyle,\n\theaderNameStyle,\n\theaderCloseStyle,\n\tmessageContainerStyle,\n\tparentMessageStyle,\n\tmessageSeparatorStyle,\n\tmessageReplyStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatMessageThread extends React.PureComponent {\n\tloggedInUser = null;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\treplyCount: 0,\n\t\t\treplyPreview: null,\n\t\t\tmessageToBeEdited: null,\n\t\t\tparentMessage: props.parentMessage,\n\t\t\tviewOriginalImage: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.composerRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.loggedInUser = this.props.loggedInUser;\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tif (prevProps.parentMessage !== this.props.parentMessage) {\n\t\t\tif (prevProps.parentMessage.id !== this.props.parentMessage.id) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, parentMessage: this.props.parentMessage });\n\t\t\t} else if (prevProps.parentMessage.data !== this.props.parentMessage.data) {\n\t\t\t\tthis.setState({ parentMessage: this.props.parentMessage });\n\t\t\t}\n\t\t}\n\t}\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.context.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\terrorHandler = errorCode => {\n\t\tthis.toastRef.setError(errorCode);\n\t};\n\n\tparentMessageEdited = message => {\n\t\tconst parentMessage = { ...this.props.parentMessage };\n\n\t\tif (parentMessage.id === message.id) {\n\t\t\tconst newMessageObj = { ...message };\n\t\t\tthis.setState({ parentMessage: newMessageObj });\n\t\t}\n\t};\n\n\tactionHandler = (action, messages) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.hasOwnProperty(\"parentMessageId\") && message.parentMessageId === this.state.parentMessage.id) {\n\t\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"], messages);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase \"messageFetched\":\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]:\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\t\t}\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = { ...messageObj, ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tif (messageList.length - messageKey === 1) {\n\t\t\t\t//this.context.setLastMessage(newMessageObj);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t}\n\t\t}\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\t//this.context.setLastMessage(deletedMessage);\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\n\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\tthis.setState({ replyPreview: message });\n\t\t} else {\n\t\t\tthis.setState({ replyPreview: null });\n\t\t}\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList];\n\t\tmessages = messages.concat(message);\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\t\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase \"message\":\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatReceiverTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatReceiverImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatReceiverFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatReceiverAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatReceiverVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatSenderStickerBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\t\tlet component;\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetParentMessageComponent = message => {\n\t\tlet component = null;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\tlet parentMessage = this.getParentMessageComponent(this.state.parentMessage);\n\n\t\tlet seperator = (\n\t\t\t<div css={messageSeparatorStyle(this.props)}>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t);\n\t\tif (this.state.parentMessage.hasOwnProperty(\"replyCount\")) {\n\t\t\tconst replyCount = this.state.parentMessage.replyCount;\n\t\t\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", this.context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", this.context.language)}`;\n\n\t\t\tseperator = (\n\t\t\t\t<div css={messageSeparatorStyle(this.context)} className=\"message__separator\">\n\t\t\t\t\t<span css={messageReplyStyle()} className=\"message__replies\">\n\t\t\t\t\t\t{replyText}\n\t\t\t\t\t</span>\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer open={true} close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} lang={this.context.language} />;\n\t\t}\n\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tparentMessageId={this.props.parentMessage.id}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\n\t\t//if send messages feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={wrapperStyle(this.context)} className=\"thread__chat\">\n\t\t\t\t\t<div css={headerStyle(this.context)} className=\"chat__header\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"header__wrapper\">\n\t\t\t\t\t\t\t<div css={headerDetailStyle()} className=\"header__details\">\n\t\t\t\t\t\t\t\t<h6 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"THREAD\", this.context.language)}\n\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t<span css={headerNameStyle()} className=\"header__username\">\n\t\t\t\t\t\t\t\t\t{this.props.threadItem.name}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={headerCloseStyle(clearIcon, this.context)} className=\"header__close\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"])}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageContainerStyle()} className=\"chat__message__container\">\n\t\t\t\t\t\t<div css={parentMessageStyle(this.props.parentMessage)} className=\"parent__message\">\n\t\t\t\t\t\t\t{parentMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{seperator}\n\t\t\t\t\t\t<CometChatMessageList messages={this.state.messageList} item={this.props.threadItem} type={this.props.threadType} scrollToBottom={this.state.scrollToBottom} parentMessageId={this.props.parentMessage.id} actionGenerated={this.actionHandler} />\n\t\t\t\t\t\t{messageComposer}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{originalImageView}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageThread.defaultProps = {\n\ttheme: theme\n};\n\nCometChatMessageThread.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatMessageThread };\n","export const msgTimestampStyle = (context, props, loggedInUser) => {\n\n    return {\n        display: \"flex\",\n        fontSize: \"11px\",\n        fontWeight: \"500\",\n        lineHeight: \"12px\",\n        textTransform: \"uppercase\",\n        color: `${context.theme.color.search}`,\n    }\n}\n\nexport const iconStyle = (img, color) => {\n\n    return {\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${color}`,\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n","export default __webpack_public_path__ + \"static/media/message-read.573b8c8c.svg\";","export default __webpack_public_path__ + \"static/media/message-delivered.fbc54350.svg\";","export default __webpack_public_path__ + \"static/media/message-sent.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/wait.89c8da97.svg\";","export default __webpack_public_path__ + \"static/media/warning-small.6ad6a0ca.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { getMessageSentTime } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport { msgTimestampStyle, iconStyle } from \"./style\";\n\nimport blueDoubleTick from \"./resources/message-read.svg\";\nimport greyDoubleTick from \"./resources/message-delivered.svg\";\nimport greyTick from \"./resources/message-sent.svg\";\nimport sendingTick from \"./resources/wait.svg\";\nimport errorTick from \"./resources/warning-small.svg\";\n\nclass CometChatReadReceipt extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\treceipts: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleReadReceipts = () => {\n\t\t/**\n\t\t * if delivery receipts feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isDeliveryReceiptsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.receipts && this._isMounted) {\n\t\t\t\t\tthis.setState({ receipts: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.receipts !== false) {\n\t\t\t\t\tthis.setState({ receipts: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\trender() {\n\t\t\n\t\tlet ticks,\n\t\t\treceiptText = null,\n\t\t\tdateField = null,\n\t\t\tcolor = null;\n\t\t\n\t\tif (this.props.message?.sender?.uid === this.loggedInUser?.uid) {\n\n\t\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"sentAt\")) {\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"readAt\")) {\n\n\t\t\t\t\t\tticks = blueDoubleTick;\n\t\t\t\t\t\treceiptText = \"SEEN\";\n\t\t\t\t\t\tcolor = this.context.theme.primaryColor;\n\t\t\t\t\t\tdateField = this.props.message.readAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"deliveredAt\")) {\n\n\t\t\t\t\t\tticks = greyDoubleTick;\n\t\t\t\t\t\treceiptText = \"DELIVERED\";\n\t\t\t\t\t\tdateField = this.props.message.deliveredAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"sentAt\")) {\n\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdateField = this.props.message.sentAt;\n\t\t}\n\n\t\t//if delivery receipts are disabled\n\t\tif (this.state.receipts === false) {\n\t\t\tticks = null;\n\t\t}\n\n\t\tconst receipt = ticks ? <i css={iconStyle(ticks, color)} title={Translator.translate(receiptText, this.context.language)}></i> : null;\n\n\t\tconst timestamp = getMessageSentTime(dateField, this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<span css={msgTimestampStyle(this.context, this.props, this.loggedInUser)} className=\"message__timestamp\">\n\t\t\t\t\t{timestamp}\n\t\t\t\t</span>\n\t\t\t\t{receipt}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReadReceipt.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatReadReceipt.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReadReceipt };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageAudioContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-start\",\n        \" > audio\": {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageAudioContainerStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverAudioMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageAudioContainerStyle()} className=\"message__audio__container\">\n\t\t\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t\t\t<audio controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverAudioMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 30px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatReceiverDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst messageTitle = `${this.props.message.sender.name} ${Translator.translate(\"INITIATED_GROUP_CALL\", this.context.language)}`;\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__directcall__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} title={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDirectCallBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageFileContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t\t\"> a\": {\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\twidth: \"auto\",\n\t\t\tfontSize: \"14px\",\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tcursor: \"pointer\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\tmarginRight: \"8px\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { \n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageFileContainerStyle,\n\tmessageFileWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatReceiverFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageFileContainerStyle()} className=\"message__file__container\">\n\t\t\t\t\t\t\t<div css={messageFileWrapperStyle(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t\t\t<a href={this.props.message.data.attachments[0].url} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t\t\t\t\t<label>{this.props.message.data.attachments[0].name}</label>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverFileMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageImgContainerStyle,\n\tmessageImgWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatReceiverImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", this.context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\t\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tif (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tlet img = new Image();\n\t\t\timg.src = this.props.message.data.attachments[0].url;\n\t\t\tconst imageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.onload = () => {\n\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(response))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} onClick={this.open} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverImageMessageBubble };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (showVariation, count, context) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n\n    if (count === 1) {\n        emojiProp = {\n            \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n            }\n        };\n    } else if (count === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n    } else if (count > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        color: `${context.theme.color.primary}`,\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport twemoji from \"twemoji\";\nimport parse from \"html-react-parser\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview} from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData, countEmojiOccurences } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.translatedMessage !== nextState.translatedMessage\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\t// Checks Emoji Count\n\t\n\t\tlet count = countEmojiOccurences(emojiParsedMessage,\"class=\\\"emoji\\\"\");\n\n\t\tconst parsedMessage = parse(emojiParsedMessage);\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(showVariation, count, this.context)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result && result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageText = this.getMessageText();\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__text__container\">\n\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverTextMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageVideoContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: \"flex-start\",\n        '> video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageVideoContainerStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverVideoMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageVideoContainerStyle()} className=\"message__video__container\">\n\t\t\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t\t\t<video controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverVideoMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverVideoMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverVideoMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-end\",\n        ' > audio': {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",        \n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderAudioMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\t\t} else if (this.props.message.data.hasOwnProperty(\"attachments\") && this.props.message.data.attachments.length) {\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t<audio controls src={this.state.fileData?.fileUrl}></audio>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderAudioMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n\t\t\tmargin: \"0\",\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordBreak: \"break-word\",\n\t\t\ttextAlign: \"left\",\n\t\t\twidth: \"calc(100% - 30px)\",\n\t\t\tfontSize: \"14px\",\n\t\t\tmarginLeft: \"8px\",\n\t\t};\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n\t\tminHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatSenderDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tconst messageTitle = Translator.translate(\"YOU_INITIATED_GROUP_CALL\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} alt={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDirectCallBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapper = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"100%\",\n\t\t\".message__file\": {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tmaxWidth: \"100%\",\n\t\t\tfontSize: \"14px\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\t\"> p\": {\n\t\t\t\tmargin: \"0\",\n\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\twordBreak: \"break-word\",\n\t\t\t\ttextAlign: \"left\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmarginLeft: \"8px\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n\t\tminHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t\tflexShrink: \"0\"\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageFileWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSenderFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\t\t\t\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tgetFileData = () => {\n\t\t\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\t\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet fileMessage = null;\n\t\tif (this.state.fileData.hasOwnProperty(\"fileUrl\")) {\n\t\t\tfileMessage = (\n\t\t\t\t<a href={this.state.fileData?.fileUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"message__file\">\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</a>\n\t\t\t);\n\t\t} else {\n\t\t\tfileMessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageFileWrapper(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t<div className=\"message__file\">{fileMessage}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderFileMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageImgWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatSenderImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\ttimer = null;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tlet img = new Image();\n\t\tlet imageName;\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\timg.src = reader.result;\n\t\t\t};\n\t\t\timageName = fileMetadata[\"name\"];\n\t\t\treader.readAsDataURL(fileMetadata);\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.src = fileUrl;\n\t\t}\n\n\t\timg.onload = () => {\n\t\t\t//only if there is a change in the image path, update state\n\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t}\n\t\t};\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(imgUrl);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(imgUrl))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} onClick={this.open} className=\"message__img__wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderImageMessageBubble };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        flex: \"1 1\"\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (props, showVariation, count) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n    let heightProp = {};\n\n    if (count === 1) {\n        emojiProp = {\n           \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n           }\n        };\n        heightProp = {\n            height: \"48px\",\n        };\n    } else if (count === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n        heightProp = {\n            height: \"36px\",\n        };\n    } else if (count > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"14px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        ...heightProp,\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\"\n    }\n}\n","import React from \"react\";\nimport twemoji from \"twemoji\";\nimport parse from \"html-react-parser\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData,countEmojiOccurences } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.messageTextRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\t\t\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.translatedMessage !== nextState.translatedMessage\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (prevProps.message !== this.props.message) {\n\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\n\t\tlet count = countEmojiOccurences(emojiParsedMessage,\"class=\\\"emoji\\\"\");\n\n\t\tconst parsedMessage = parse(emojiParsedMessage);\n\t\t\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(this.props, showVariation, count)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet messageText = this.getMessageText();\n\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\" ref={this.messageTextRef}>\n\t\t\t\t\t{messageText}\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderTextMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: 'flex-end',\n        ' > video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderVideoMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t<video controls src={this.state.fileData?.fileUrl}></video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderVideoMessageBubble.defaultProps = {\n\tactionGenerated: () => {},\n};\n\nCometChatSenderVideoMessageBubble.propTypes = {\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\n\nexport { CometChatSenderVideoMessageBubble };","export const replyCountStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: \"500\",\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"lowercase\",\n\t\tpadding: \"0 10px\",\n\t\tcursor: \"pointer\",\n\t\tcolor: context.theme.color.blue,\n\t\t\"&:hover\": {\n\t\t\ttextDecoration: \"underline\",\n\t\t},\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {replyCountStyle} from \"./style\";\n\nconst CometChatThreadedMessageReplyCount = props => {\n\n\tconst context = React.useContext(CometChatContext);\n\tconst [reply, setReply] = React.useState(false);\n\n\tconst toggleReply = () => {\n\t\tcontext.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== reply) {\n\t\t\t\t\tsetReply(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (reply !== false) {\n\t\t\t\t\tsetReply(false);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tReact.useEffect(toggleReply);\n\n\tconst viewThread = () => {\n\t\tprops.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], props.message);\n\t}\n\n\tconst replyCount = props.message.replyCount;\n\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", context.language)}`;\n\n\tlet replies = (\n\t\t<span css={replyCountStyle(context)} className=\"replycount\" onClick={viewThread}>\n\t\t\t{replyText}\n\t\t</span>\n\t);\n\n\tif (props.message.hasOwnProperty(\"replyCount\") === false) {\n\t\treplies = null;\n\t}\n\n\t//if threadedchats feature is disabled\n\tif (reply === false) {\n\t\treplies = null;\n\t}\n\n\treturn replies;\n};\n\n// Specifies the default values for props:\nCometChatThreadedMessageReplyCount.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatThreadedMessageReplyCount.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport {CometChatThreadedMessageReplyCount};\n","export const blockedMessageWrapperStyle = () => {\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundColor: \"#fff\",\n        zIndex: \"1\",\n        order: \"3\",\n        position: \"relative\",\n        flex: \"none\",\n        minHeight: \"105px\",\n        width: \"100%\",\n        margin: \"auto\"\n    }\n}\n\nexport const blockedMessageContainerStyle = () => {\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const blockedTitleStyle = () => {\n    return {\n        fontSize: \"20px\",\n        fontWeight: \"700\",\n        textAlign: \"center\"\n    }\n}\n\nexport const bockedSubTitleStyle = context => {\n\treturn {\n\t\tmargin: \"16px 0\",\n\t\ttextAlign: \"center\",\n\t\tcolor: context.theme.color.helpText,\n\t};\n};\n\nexport const unblockButtonStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n    const widthProp = {\n        width: \"15%\",\n        [`@media ${mq[1]}`]: {\n            width: \"70%\",\n        },\n        [`@media ${mq[2]}`]: {\n            width: \"50%\",\n        },\n        [`@media ${mq[3]}`]: {\n            width: \"30%\",\n        },\n        [`@media ${mq[4]}`]: {\n            width: \"20%\",\n        }\n    };\n\n\treturn {\n\t\t...widthProp,\n\t\tpadding: \"8px 16px\",\n\t\tmargin: \"0\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}!important`,\n\t\tcolor: `${context.theme.color.white}`,\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n    blockedMessageWrapperStyle, \n    blockedMessageContainerStyle,\n    unblockButtonStyle,\n    blockedTitleStyle,\n    bockedSubTitleStyle\n} from \"./style\";\n\nconst CometChatBlockedUser = props => {\n    \n\tconst context = React.useContext(CometChatContext);\n\tconst chatWith = { ...context.item };\n\n\tconst unblockUser = () => {\n\n\t\tlet uid = chatWith.uid;\n\t\tCometChat.unblockUsers([uid])\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, chatWith, { blockedByMe: false });\n\t\t\t\t\tcontext.setTypeAndItem(newType, newItem);\n\t\t\t\t} else {\n\t\t\t\t\tCometChatEvent.triggerHandler(enums.ACTIONS[\"ERROR\"], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => CometChatEvent.triggerHandler(enums.ACTIONS[\"ERROR\"], \"SOMETHING_WRONG\"));\n\t}\n\n\treturn (\n\t\t<div css={blockedMessageWrapperStyle()} className=\"\">\n\t\t\t<div css={blockedMessageContainerStyle()}>\n\t\t\t\t<div css={blockedTitleStyle()}>{Translator.translate(\"YOU_HAVE_BLOCKED\", props.lang) + \" \" + chatWith.name}</div>\n\t\t\t\t<div css={bockedSubTitleStyle(context)}>{Translator.translate(\"NOT_POSSIBLE_TO_SEND_MESSAGES\", props.lang)}</div>\n\t\t\t</div>\n\t\t\t<button type=\"button\" css={unblockButtonStyle(context)} onClick={unblockUser}>\n\t\t\t\t{Translator.translate(\"UNBLOCK\", props.lang)}\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\n// Specifies the default values for props:\nCometChatBlockedUser.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n};\n\nCometChatBlockedUser.propTypes = {\n\tlang: PropTypes.string,\n};\n\nexport { CometChatBlockedUser };","export const chatScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .chats\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const chatScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatConversationList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tchatScreenStyle,\n\tchatScreenSidebarStyle,\n\tchatScreenMainStyle,\n} from \"./style\";\n\nclass CometChatConversationListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttab: \"conversations\",\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (item, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n/**\n If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n */\n\tgroupUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"conversations\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={chatScreenStyle(this.props)} className=\"cometchat cometchat--chats\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={chatScreenSidebarStyle(this.state, this.props)} className=\"chats__sidebar\">\n\t\t\t\t\t\t<CometChatConversationList\n\t\t\t\t\t\tref={el => this.chatListRef = el}\n\t\t\t\t\t\t_parent=\"clwm\"\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\tonItemClick={this.itemClicked}\n\t\t\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatScreenMainStyle(this.state, this.props)} className=\"chats__main\">{messageScreen}</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatConversationListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatConversationListWithMessages };\n","export const userInfoScreenStyle = (props) =>{\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column!important\",\n        height: \"calc(100% - 50px)\",\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (props) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"70px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n    }\n}\n\nexport const detailStyle = () => {\n\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const userDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const userNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const userStatusStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        color: `${props.theme.color.blue}`,\n    }\n}\n\nexport const optionsStyle = () => {\n\n    return {\n        height: \"calc(100% - 145px)\",\n        overflowY: \"auto\",\n        padding: \"0 16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"left\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const optionTitleStyle = (props) => {\n\n    return {\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        color: `${props.theme.color.helpText}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const optionListStyle = () => {\n\n    return {\n        padding: \"10px 0\",\n        width: \"100%\",\n        fontSize: \"15px\"\n    }\n}\n\nexport const optionStyle = (img) => {\n\n    return {\n        width: \"100%\",\n        padding: \"16px 16px 16px 36px\",\n        fontWeight: 600,\n        background: `url(${img}) left center no-repeat`,\n    }\n}\n\nexport const optionNameStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/notify.009f4c07.svg\";","export default __webpack_public_path__ + \"static/media/privacy.35a868f9.svg\";","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/help.c1640c5b.svg\";","export default __webpack_public_path__ + \"static/media/warning.d0632c5b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserInfoScreenStyle,\n\theaderStyle,\n\theaderTitleStyle,\n\tdetailStyle,\n\tthumbnailStyle,\n\tuserDetailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\toptionsStyle,\n\toptionTitleStyle,\n\toptionListStyle,\n\toptionStyle,\n\toptionNameStyle\n} from \"./style\";\n\nimport notificationIcon from \"./resources/notify.svg\";\nimport privacyIcon from \"./resources/privacy.svg\";\nimport chatIcon from \"./resources/chats.svg\";\nimport helpIcon from \"./resources/help.svg\";\nimport reportIcon from \"./resources/warning.svg\";\n\nclass CometChatUserProfile extends React.Component {\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null\n\t\t}\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tCometChat.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: user });\n\t\t}).catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t}\n\n\trender() {\n\n\t\tlet userProfile = null;\n\t\tif(this.state.loggedInUser) {\n\n\t\t\tlet avatar = <CometChatAvatar user={this.state.loggedInUser} />;\n\t\t\tuserProfile = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={headerStyle(this.props)} className=\"userinfo__header\">\n\t\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"MORE\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={detailStyle()} className=\"userinfo__detail\">\n\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"detail__thumbnail\">\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userDetailStyle()} className=\"detail__user\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t<div css={userNameStyle()} className=\"user__name\">\n\t\t\t\t\t\t\t\t{this.state.loggedInUser.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p css={userStatusStyle(this.props)} className=\"user__status\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"ONLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={optionsStyle()} className=\"userinfo__options\">\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"PREFERENCES\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(notificationIcon)} className=\"option option-notification\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"NOTIFICATIONS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(privacyIcon)} className=\"option option-privacy\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"PRIVACY_AND_SECURITY\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(chatIcon)} className=\"option option-chats\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"OTHER\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(helpIcon)} className=\"option option-help\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"HELP\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(reportIcon)} className=\"option option-report\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"REPORT_PROBLEM\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userInfoScreenStyle(this.props)} className=\"userinfo\">\n\t\t\t\t{userProfile}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserProfile.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme\n};\n\nCometChatUserProfile.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatUserProfile };\n","export const footerStyle = () => {\n\n    return {\n        width: \"100%\",\n        zIndex: \"1\",\n        height: \"64px\"\n    }\n}\n\nexport const navbarStyle = () => {\n\n    return {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-around\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t};\n}\n\nexport const itemStyle = props => {\n\treturn {\n\t\tpadding: \"8px\",\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tfontSize: \"12px\",\n\t\tcolor: `${props.theme.color.helpText}`,\n\t};\n};\n\nexport const itemLinkStyle = (icon, isActive, context) => {\n\n    let activeStateBg = (isActive) ? { \n        backgroundColor: `${context.theme.primaryColor}`,\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        height: \"24px\",\n        width: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${icon}) no-repeat center center`,\n        ...activeStateBg\n    }\n}\n\nexport const itemLinkTextStyle = (isActive, context) => {\n\n    const colorProp = (isActive) ? {\n        color: `${context.theme.primaryColor}`\n    } : {\n        color: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        ...colorProp,\n        paddingTop: \"2px\"\n    }\n};","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/users.ec43e952.svg\";","export default __webpack_public_path__ + \"static/media/groups.1e57cc7e.svg\";","export default __webpack_public_path__ + \"static/media/more.35ec626e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../../Users\";\nimport { CometChatGroupList } from \"../../Groups\";\nimport { CometChatConversationList } from \"../../Chats\";\nimport { CometChatUserProfile } from \"../../UserProfile\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport {CometChatContext} from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\nimport tabs from \"../../../resources/tabs.json\";\n\nimport {\n  footerStyle,\n  navbarStyle,\n  itemStyle,\n  itemLinkStyle,\n  itemLinkTextStyle\n} from \"./style\";\n\nimport chatGreyIcon from \"./resources/chats.svg\";\nimport contactGreyIcon from \"./resources/users.svg\";\nimport groupGreyIcon from \"./resources/groups.svg\";\nimport moreGreyIcon from \"./resources/more.svg\";\n\nexport class CometChatNavBar extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\ttabListKeys = []; \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveTab: null,\n\t\t\ttabList: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tlet tabList = this.context.UIKitSettings.tabs;\n\n\t\ttabList.forEach(tabName => {\n\t\t\tfor (const t in tabs) {\n\t\t\t\tif (tabName === tabs[t]) {\n\t\t\t\t\tthis.tabListKeys.push(t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n    \tthis.getFilteredTabs().then(filteredTabs => {\n\t\t\tthis.setState({tabList: filteredTabs, activeTab: filteredTabs[0]});\n\t\t});\n\n\t}\n\n\n\tgetFilteredTabs = () => {\n\n\t\treturn new Promise(resolve => {\n\n\t\t\tconst filteredTabs = [];\n\t\t\tconst promises = [this.enableChats(), this.enableUsers(), this.enableGroups(), this.enableSettings()];\n\t\t\tPromise.allSettled(promises).then(results => {\n\t\t\t\t\n\t\t\t\tthis.tabListKeys.forEach(eachTabKey => {\n\t\t\t\t\tresults.forEach(result => {\n\t\t\t\t\t\tconst tabKey = result.value[0];\n\t\t\t\t\t\tconst tabEnabled = result.value[1];\n\n\t\t\t\t\t\tif (eachTabKey === tabKey && tabEnabled === true) {\n\t\t\t\t\t\tfilteredTabs.push(eachTabKey);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tresolve(filteredTabs);\n\t\t\t});\n\t\t});\n\t}\n\n\tenableChats = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isRecentChatListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_CHATS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_CHATS\", false]));\n\t\t});\n\t};\n\n\tenableUsers = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_USERS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_USERS\", false]));\n\t\t});\n\t};\n\n\tenableGroups = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_GROUPS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_GROUPS\", false]));\n\t\t});\n\t};\n\n\tenableSettings = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserSettingsEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_MOREINFO\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_MOREINFO\", false]));\n\t\t});\n\t};\n\n\ttabChanged = tab => {\n\n\t\tthis.setState({activeTab: tab});\n\t};\n\n\tgetActiveTab = () => {\n\t\tswitch (this.state.activeTab) {\n\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\treturn <CometChatUserList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_CALLS\":\n\t\t\t\treturn null;\n\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\treturn <CometChatConversationList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\treturn <CometChatGroupList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\treturn <CometChatUserProfile theme={this.props.theme} lang={this.context.language} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tgetTabList = () => {\n\n\t\tconst chatsTabActive = this.state.activeTab === \"SIDEBAR_CHATS\" ? true : false;\n\t\tconst userTabActive = this.state.activeTab === \"SIDEBAR_USERS\" ? true : false;\n\t\tconst groupsTabActive = this.state.activeTab === \"SIDEBAR_GROUPS\" ? true : false;\n\t\tconst moreTabActive = this.state.activeTab === \"SIDEBAR_MOREINFO\" ? true : false;\n\n\t\tconst tabList = [...this.state.tabList];\n\n\t\treturn tabList.map(tab => {\n\t\t\tswitch (tab) {\n\t\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_CHATS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(chatGreyIcon, chatsTabActive, this.context)} className=\"item__link item__link__chats\" title={Translator.translate(\"CHATS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(chatsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"CHATS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_USERS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(contactGreyIcon, userTabActive, this.context)} className=\"item__link item__link__contacts\" title={Translator.translate(\"USERS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(userTabActive, this.context)} className=\"item__label\">{Translator.translate(\"USERS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_GROUPS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(groupGreyIcon, groupsTabActive, this.context)} className=\"item__link item__link__groups\" title={Translator.translate(\"GROUPS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(groupsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"GROUPS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_MOREINFO\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(moreGreyIcon, moreTabActive, this.context)} className=\"item__link item__link__info\" title={Translator.translate(\"MORE\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(moreTabActive, this.context)} className=\"item__label\">{Translator.translate(\"MORE\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.getActiveTab()}\n\t\t\t\t<div css={footerStyle()} className=\"sidebar__footer\">\n\t\t\t\t\t<div css={navbarStyle()} className=\"footer__navbar\">\n\t\t\t\t\t\t{this.getTabList()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatNavBar.defaultProps = {\n\ttheme: theme\n};\n\nCometChatNavBar.propTypes = {\n\ttheme: PropTypes.object\n}","export const unifiedStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        position: \"relative\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const unifiedSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow : \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts, .chats, .groups, .userinfo\": {\n            height: \"calc(100% - 64px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const unifiedMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatNavBar } from \"./CometChatNavBar\";\nimport { CometChatMessages } from \"../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../Calls\";\n\nimport { CometChatContextProvider } from \"../../util/CometChatContext\";\nimport * as enums from \"../../util/enums.js\";\nimport { theme } from \"../../resources/theme\";\nimport Translator from \"../../resources/localization/translator\";\n\nimport {\n\tunifiedStyle,\n\tunifiedSidebarStyle,\n\tunifiedMainStyle,\n} from \"./style\";\n\nclass CometChatUI extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\t\t\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.navBarRef = React.createRef();\n\t\tthis.contextProviderRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\tnavBarAction = (action, type, item) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"ITEM_CLICKED\"]:\n\t\t\t\tthis.itemClicked(item, type);\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\titemClicked = (item, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);    \n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t */\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP \n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.state.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\t\n\t\tlet messageScreen = (\n\t\t\t\t<CometChatMessages \n\t\t\t\ttheme={this.props.theme}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\t_parent=\"unified\"\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={unifiedStyle(this.props)} className=\"cometchat cometchat--unified\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={unifiedSidebarStyle(this.state, this.props)} className=\"unified__sidebar\">\n\t\t\t\t\t\t<CometChatNavBar\n\t\t\t\t\t\t\tref={el => this.navBarRef = el}\n\t\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\t\tactionGenerated={this.navBarAction} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={unifiedMainStyle(this.state, this.props)} className=\"unified__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUI.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatUI.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatUI };\n","import React from \"react\";\nimport Login from './Login'\nimport ChatEngineIO from './ChatEngine';\nimport StreamChatApp from './StreamChatApp';\nimport { Widget } from 'react-chat-widget';\nimport { CometChatUI } from '../lib/CometChat';\nimport { CometChat } from '@cometchat-pro/chat';\n\nimport 'react-chat-widget/lib/styles.css';\n\n\nconst App = () => {\n  if(!localStorage.getItem('username')) return <Login />\n  const logout = (e) => {\n    CometChat.logout();\n    localStorage.clear();\n    window.location.href = \"/2-way-messaging-demo\";\n  }\n  let component = JSON.parse(localStorage.getItem('component'));\n  console.log(component);\n  \n  if(component === 0) {\n    return <>\n        <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n        <ChatEngineIO />\n      </>\n  } else if(component === 1) {\n    return <>\n        <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n        <StreamChatApp />\n      </>\n  } else if(component === 2) {\n\n  } else if(component === 3) {\n\n  } else if(component === 4) {\n    return <>\n        <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n        <Widget />\n      </>\n  } else if(component === 5) {\n    return <>\n        <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n        <div style={{height: '95vh'}}>\n          <CometChatUI />\n        </div>\n      </>\n  } else {\n    return(\n      <h3>\n        Page not found!\n      </h3>\n    )\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { CometChat } from '@cometchat-pro/chat';\n\nconst appID = \"206755d635dd6b0c\";\nconst region = \"us\";\nconst appSetting = new CometChat.AppSettingsBuilder().subscribePresenceForAllUsers().setRegion(region).build();\nCometChat.init(appID, appSetting).then(\n  () => {\n    console.log(\"Initialization completed successfully\");\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById('root')\n    );\n  },\n  error => {\n    console.log(\"Initialization failed with error:\", error);\n  }\n);"],"sourceRoot":""}
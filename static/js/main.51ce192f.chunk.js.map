{"version":3,"sources":["components/App.js","index.js"],"names":["App","cameraOptions","document","querySelector","video","console","log","navigator","getElementById","addEventListener","e","mediaDevices","getUserMedia","updatedConstraints","deviceId","exact","target","value","name","groupId","startStream","getCameraSelection","a","audio","enumerateDevices","devices","videoDevices","filter","device","kind","options","optionsArr","map","videoDevice","index","label","length","concat","innerHTML","join","constraints","stream","handleStream","srcObject","ReactDOM","render","StrictMode"],"mappings":"oQAkIeA,EA3HH,WA8DV,IAAMC,EAAgBC,SAASC,cAAc,yBACvCC,EAAQF,SAASC,cAAc,SACrCE,QAAQC,IAAIC,WAaZL,SAASM,eAAe,iBAAiBC,iBAAiB,UAZrC,SAACC,GAEpB,GADAL,QAAQC,IAAII,GACR,iBAAkBH,WAAaA,UAAUI,aAAaC,aAAc,CACtE,IAAIC,EAAqB,CAAET,MAAO,CAAEU,SAAU,CAAEC,MAAQL,GAAKA,EAAEM,OAAUN,EAAEM,OAAOC,MAAQ,MACtFP,GAAKA,EAAEM,QAA4B,YAAlBN,EAAEM,OAAOE,OAC5BL,EAAqB,CAAET,MAAO,CAAEe,QAAS,CAAEJ,MAAQL,GAAKA,EAAEM,OAAUN,EAAEM,OAAOC,MAAQ,OAEvFZ,QAAQC,IAAIO,GACZO,EAAYP,OAMhB,IAAMQ,EAAkB,uCAAG,kCAAAC,EAAA,sEACnBf,UAAUI,aAAaC,aAAa,CAACW,OAAO,EAAMnB,OAAO,IADtC,uBAEHG,UAAUI,aAAaa,mBAFpB,OAEnBC,EAFmB,OAGrBC,EAAeD,EAAQE,QAAO,SAAAC,GAAM,MAAoB,eAAhBA,EAAOC,QACnDxB,QAAQC,IAAIoB,GACRI,EAAU,CAAC,mDACXC,EAAaL,EAAaM,KAAI,SAACC,EAAaC,GAC9C,IAAIC,EAAQ,UAAYD,EAAQ,EACC,IAA7BD,EAAYE,MAAMC,SACpBD,EAAQF,EAAYE,OAEtB,IAAIlB,EAAQ,GACRC,EAAO,GAQX,OAPIe,EAAYnB,SAASsB,OAAS,GAChCnB,EAAQgB,EAAYnB,SACpBI,EAAO,aAEPD,EAAQgB,EAAYd,QACpBD,EAAO,WAEH,kBAAN,OAAyBD,EAAzB,mBAAyCC,EAAzC,aAAkDiB,EAAlD,gBAEFL,EAAUA,EAAQO,OAAON,GACzB1B,QAAQC,IAAIwB,GACZ7B,EAAcqC,UAAYR,EAAQS,KAAK,IAxBd,4CAAH,qDA2BlBnB,EAAW,uCAAG,WAAOoB,GAAP,eAAAlB,EAAA,sEACGf,UAAUI,aAAaC,aAAa4B,GADvC,OACZC,EADY,OAElBpC,QAAQC,IAAImC,GACZC,EAAaD,GAHK,2CAAH,sDAMXC,EAAe,SAACD,GACpBrC,EAAMuC,UAAYF,GAKpB,OAFApB,IAEO,8B,MCjHLuB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5C,SAASM,eAAe,W","file":"static/js/main.51ce192f.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\n\nimport 'react-chat-widget/lib/styles.css';\n\nimport \"../components/styles.css\"\n\nconst App = () => {\n\n\n\n  // if(!localStorage.getItem('username')) return <Login />\n  // const logout = (e) => {\n  //   CometChat.logout();\n  //   localStorage.clear();\n  //   window.location.href = \"/2-way-messaging-demo\";\n  // }\n  // let component = JSON.parse(localStorage.getItem('component'));\n  // console.log(component);\n\n  // if(component === 0) {\n  //   return <>\n  //       <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n  //       <ChatEngineIO />\n  //     </>\n  // } else if(component === 1) {\n  //   return <>\n  //       <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n  //       <StreamChatApp />\n  //     </>\n  // } else if(component === 2) {\n  //   return <>\n  //       <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n  //       <ChatElements />\n  //     </>\n  // } else if(component === 3) {\n  //   return <>\n  //       <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n  //       <ChatUIKit />\n  //     </>\n  // } else if(component === 4) {\n  //   return <>\n  //       <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n  //       <Widget />\n  //     </>\n  // } else if(component === 5) {\n  //   return <>\n  //       <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n  //       <div style={{height: '95vh'}}>\n  //         <CometChatUI />\n  //       </div>\n  //     </>\n  // } else if(component === 6) {\n  //   return <>\n  //       <button className=\"logoutBtn\" onClick={logout}>Logout</button>\n  //       <div style={{height: '95vh'}}>\n  //         {/* <ConversationalUI /> */}\n  //       </div>\n  //     </>\n  // } else {\n  //   return(\n  //     <h3>\n  //       Page not found!\n  //     </h3>\n  //   )\n  // }\n\n  // feather.replace();\n\n  const cameraOptions = document.querySelector('.video-options>select');\n  const video = document.querySelector('video');\n  console.log(navigator);\n  const cameraChange = (e) => {\n    console.log(e);\n    if ('mediaDevices' in navigator && navigator.mediaDevices.getUserMedia) {\n      let updatedConstraints = { video: { deviceId: { exact: (e && e.target) ? e.target.value : \"\" } } }\n      if (e && e.target && e.target.name === \"groupId\") {\n        updatedConstraints = { video: { groupId: { exact: (e && e.target) ? e.target.value : \"\" } } }\n      }\n      console.log(updatedConstraints);\n      startStream(updatedConstraints);\n    }\n  }\n\n  document.getElementById(\"camera-select\").addEventListener(\"change\", cameraChange);\n\n  const getCameraSelection = async () => {\n    await navigator.mediaDevices.getUserMedia({audio: true, video: true});   \n    const devices = await navigator.mediaDevices.enumerateDevices();\n    let videoDevices = devices.filter(device => device.kind === 'videoinput');\n    console.log(videoDevices);\n    let options = [\"<option value='' name=''>Select camera</option>\"];\n    let optionsArr = videoDevices.map((videoDevice, index) => {\n      let label = \"Camera-\" + index + 1;\n      if (videoDevice.label.length !== 0) {\n        label = videoDevice.label;\n      }\n      let value = \"\";\n      let name = \"\"\n      if (videoDevice.deviceId.length > 0) {\n        value = videoDevice.deviceId;\n        name = \"deviceId\"\n      } else {\n        value = videoDevice.groupId;\n        name = \"groupId\"\n      }\n      return `<option value=\"${value}\" name=\"${name}\">${label}</option>`;\n    });\n    options = options.concat(optionsArr);\n    console.log(options);\n    cameraOptions.innerHTML = options.join('');\n  };\n\n  const startStream = async (constraints) => {\n    const stream = await navigator.mediaDevices.getUserMedia(constraints);\n    console.log(stream);\n    handleStream(stream);\n  };\n\n  const handleStream = (stream) => {\n    video.srcObject = stream;\n  };\n\n  getCameraSelection();\n\n  return <>\n\n  </>\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { CometChat } from '@cometchat-pro/chat';\n\n/*const  appID = \"206755d635dd6b0c\";\nconst region = \"us\";\nconst appSetting = new CometChat.AppSettingsBuilder().subscribePresenceForAllUsers().setRegion(region).build();\nCometChat.init(appID, appSetting).then(\n  () => {\n    console. log(\"Initialization completed successfully\"); */\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById('root')\n    );\n  /*},\n  error => {\n    console.log(\"Initialization failed with error:\", error);\n  }\n); */"],"sourceRoot":""}